var UT=Object.defineProperty;var BT=(n,e,t)=>e in n?UT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Mo=(n,e,t)=>BT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function zT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ld={exports:{}},ol={},ud={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function $T(){if(Ry)return Pe;Ry=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function V(L,K,pe){this.props=L,this.context=K,this.refs=U,this.updater=pe||k}V.prototype.isReactComponent={},V.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},V.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=V.prototype;function X(L,K,pe){this.props=L,this.context=K,this.refs=U,this.updater=pe||k}var ie=X.prototype=new H;ie.constructor=X,N(ie,V.prototype),ie.isPureReactComponent=!0;var oe=Array.isArray,Ae=Object.prototype.hasOwnProperty,_e={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(L,K,pe){var Re,Ce={},Oe=null,Ue=null;if(K!=null)for(Re in K.ref!==void 0&&(Ue=K.ref),K.key!==void 0&&(Oe=""+K.key),K)Ae.call(K,Re)&&!b.hasOwnProperty(Re)&&(Ce[Re]=K[Re]);var Be=arguments.length-2;if(Be===1)Ce.children=pe;else if(1<Be){for(var We=Array(Be),Tt=0;Tt<Be;Tt++)We[Tt]=arguments[Tt+2];Ce.children=We}if(L&&L.defaultProps)for(Re in Be=L.defaultProps,Be)Ce[Re]===void 0&&(Ce[Re]=Be[Re]);return{$$typeof:n,type:L,key:Oe,ref:Ue,props:Ce,_owner:_e.current}}function R(L,K){return{$$typeof:n,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function D(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return K[pe]})}var M=/\/+/g;function C(L,K){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):K.toString(36)}function ot(L,K,pe,Re,Ce){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Ue=!1;if(L===null)Ue=!0;else switch(Oe){case"string":case"number":Ue=!0;break;case"object":switch(L.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=L,Ce=Ce(Ue),L=Re===""?"."+C(Ue,0):Re,oe(Ce)?(pe="",L!=null&&(pe=L.replace(M,"$&/")+"/"),ot(Ce,K,pe,"",function(Tt){return Tt})):Ce!=null&&(x(Ce)&&(Ce=R(Ce,pe+(!Ce.key||Ue&&Ue.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+L)),K.push(Ce)),1;if(Ue=0,Re=Re===""?".":Re+":",oe(L))for(var Be=0;Be<L.length;Be++){Oe=L[Be];var We=Re+C(Oe,Be);Ue+=ot(Oe,K,pe,We,Ce)}else if(We=S(L),typeof We=="function")for(L=We.call(L),Be=0;!(Oe=L.next()).done;)Oe=Oe.value,We=Re+C(Oe,Be++),Ue+=ot(Oe,K,pe,We,Ce);else if(Oe==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Lt(L,K,pe){if(L==null)return L;var Re=[],Ce=0;return ot(L,Re,"","",function(Oe){return K.call(pe,Oe,Ce++)}),Re}function Mt(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var qe={current:null},ne={transition:null},ge={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:_e};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Lt,forEach:function(L,K,pe){Lt(L,function(){K.apply(this,arguments)},pe)},count:function(L){var K=0;return Lt(L,function(){K++}),K},toArray:function(L){return Lt(L,function(K){return K})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Pe.Component=V,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=X,Pe.StrictMode=i,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Pe.act=ae,Pe.cloneElement=function(L,K,pe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Re=N({},L.props),Ce=L.key,Oe=L.ref,Ue=L._owner;if(K!=null){if(K.ref!==void 0&&(Oe=K.ref,Ue=_e.current),K.key!==void 0&&(Ce=""+K.key),L.type&&L.type.defaultProps)var Be=L.type.defaultProps;for(We in K)Ae.call(K,We)&&!b.hasOwnProperty(We)&&(Re[We]=K[We]===void 0&&Be!==void 0?Be[We]:K[We])}var We=arguments.length-2;if(We===1)Re.children=pe;else if(1<We){Be=Array(We);for(var Tt=0;Tt<We;Tt++)Be[Tt]=arguments[Tt+2];Re.children=Be}return{$$typeof:n,type:L.type,key:Ce,ref:Oe,props:Re,_owner:Ue}},Pe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Pe.createElement=A,Pe.createFactory=function(L){var K=A.bind(null,L);return K.type=L,K},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(L){return{$$typeof:f,render:L}},Pe.isValidElement=x,Pe.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:Mt}},Pe.memo=function(L,K){return{$$typeof:y,type:L,compare:K===void 0?null:K}},Pe.startTransition=function(L){var K=ne.transition;ne.transition={};try{L()}finally{ne.transition=K}},Pe.unstable_act=ae,Pe.useCallback=function(L,K){return qe.current.useCallback(L,K)},Pe.useContext=function(L){return qe.current.useContext(L)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(L){return qe.current.useDeferredValue(L)},Pe.useEffect=function(L,K){return qe.current.useEffect(L,K)},Pe.useId=function(){return qe.current.useId()},Pe.useImperativeHandle=function(L,K,pe){return qe.current.useImperativeHandle(L,K,pe)},Pe.useInsertionEffect=function(L,K){return qe.current.useInsertionEffect(L,K)},Pe.useLayoutEffect=function(L,K){return qe.current.useLayoutEffect(L,K)},Pe.useMemo=function(L,K){return qe.current.useMemo(L,K)},Pe.useReducer=function(L,K,pe){return qe.current.useReducer(L,K,pe)},Pe.useRef=function(L){return qe.current.useRef(L)},Pe.useState=function(L){return qe.current.useState(L)},Pe.useSyncExternalStore=function(L,K,pe){return qe.current.useSyncExternalStore(L,K,pe)},Pe.useTransition=function(){return qe.current.useTransition()},Pe.version="18.3.1",Pe}var Cy;function th(){return Cy||(Cy=1,ud.exports=$T()),ud.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function qT(){if(Py)return ol;Py=1;var n=th(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,y){var _,T={},S=null,k=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(k=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(T[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)T[_]===void 0&&(T[_]=p[_]);return{$$typeof:e,type:f,key:S,ref:k,props:T,_owner:o.current}}return ol.Fragment=t,ol.jsx=c,ol.jsxs=c,ol}var ky;function HT(){return ky||(ky=1,ld.exports=qT()),ld.exports}var te=HT(),$=th();const xy=zT($);var lc={},cd={exports:{}},rn={},hd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function WT(){return by||(by=1,function(n){function e(ne,ge){var ae=ne.length;ne.push(ge);e:for(;0<ae;){var L=ae-1>>>1,K=ne[L];if(0<o(K,ge))ne[L]=ge,ne[ae]=K,ae=L;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var ge=ne[0],ae=ne.pop();if(ae!==ge){ne[0]=ae;e:for(var L=0,K=ne.length,pe=K>>>1;L<pe;){var Re=2*(L+1)-1,Ce=ne[Re],Oe=Re+1,Ue=ne[Oe];if(0>o(Ce,ae))Oe<K&&0>o(Ue,Ce)?(ne[L]=Ue,ne[Oe]=ae,L=Oe):(ne[L]=Ce,ne[Re]=ae,L=Re);else if(Oe<K&&0>o(Ue,ae))ne[L]=Ue,ne[Oe]=ae,L=Oe;else break e}}return ge}function o(ne,ge){var ae=ne.sortIndex-ge.sortIndex;return ae!==0?ae:ne.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],y=[],_=1,T=null,S=3,k=!1,N=!1,U=!1,V=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(ne){for(var ge=t(y);ge!==null;){if(ge.callback===null)i(y);else if(ge.startTime<=ne)i(y),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(y)}}function oe(ne){if(U=!1,ie(ne),!N)if(t(p)!==null)N=!0,Mt(Ae);else{var ge=t(y);ge!==null&&qe(oe,ge.startTime-ne)}}function Ae(ne,ge){N=!1,U&&(U=!1,H(A),A=-1),k=!0;var ae=S;try{for(ie(ge),T=t(p);T!==null&&(!(T.expirationTime>ge)||ne&&!D());){var L=T.callback;if(typeof L=="function"){T.callback=null,S=T.priorityLevel;var K=L(T.expirationTime<=ge);ge=n.unstable_now(),typeof K=="function"?T.callback=K:T===t(p)&&i(p),ie(ge)}else i(p);T=t(p)}if(T!==null)var pe=!0;else{var Re=t(y);Re!==null&&qe(oe,Re.startTime-ge),pe=!1}return pe}finally{T=null,S=ae,k=!1}}var _e=!1,b=null,A=-1,R=5,x=-1;function D(){return!(n.unstable_now()-x<R)}function M(){if(b!==null){var ne=n.unstable_now();x=ne;var ge=!0;try{ge=b(!0,ne)}finally{ge?C():(_e=!1,b=null)}}else _e=!1}var C;if(typeof X=="function")C=function(){X(M)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,Lt=ot.port2;ot.port1.onmessage=M,C=function(){Lt.postMessage(null)}}else C=function(){V(M,0)};function Mt(ne){b=ne,_e||(_e=!0,C())}function qe(ne,ge){A=V(function(){ne(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){N||k||(N=!0,Mt(Ae))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var ae=S;S=ge;try{return ne()}finally{S=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,ge){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=S;S=ne;try{return ge()}finally{S=ae}},n.unstable_scheduleCallback=function(ne,ge,ae){var L=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?L+ae:L):ae=L,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ae+K,ne={id:_++,callback:ge,priorityLevel:ne,startTime:ae,expirationTime:K,sortIndex:-1},ae>L?(ne.sortIndex=ae,e(y,ne),t(p)===null&&ne===t(y)&&(U?(H(A),A=-1):U=!0,qe(oe,ae-L))):(ne.sortIndex=K,e(p,ne),N||k||(N=!0,Mt(Ae))),ne},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ne){var ge=S;return function(){var ae=S;S=ge;try{return ne.apply(this,arguments)}finally{S=ae}}}}(fd)),fd}var Oy;function KT(){return Oy||(Oy=1,hd.exports=WT()),hd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function GT(){if(Dy)return rn;Dy=1;var n=th(),e=KT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function S(r){return p.call(T,r)?!0:p.call(_,r)?!1:y.test(r)?T[r]=!0:(_[r]=!0,!1)}function k(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,s,a,h){if(s===null||typeof s>"u"||k(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function U(r,s,a,h,d,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new U(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new U(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new U(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new U(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new U(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new U(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new U(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new U(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new U(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,X);V[s]=new U(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,X);V[s]=new U(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,X);V[s]=new U(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new U(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new U(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,s,a,h){var d=V.hasOwnProperty(s)?V[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,a,d,h)&&(a=null),h||d===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),_e=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),qe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,L;function K(r){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var pe=!1;function Re(r,s){if(!r||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),g=h.stack.split(`
`),w=d.length-1,I=g.length-1;1<=w&&0<=I&&d[w]!==g[I];)I--;for(;1<=w&&0<=I;w--,I--)if(d[w]!==g[I]){if(w!==1||I!==1)do if(w--,I--,0>I||d[w]!==g[I]){var P=`
`+d[w].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=w&&0<=I);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Ce(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case _e:return"Portal";case R:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case ot:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Lt:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case Mt:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=We(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function kr(r){r._valueTracker||(r._valueTracker=Tt(r))}function qs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=We(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function oi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Yi(r,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Hs(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Be(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function fa(r,s){s=s.checked,s!=null&&ie(r,"checked",s,!1)}function da(r,s){fa(r,s);var a=Be(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ws(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ws(r,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Kl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ws(r,s,a){(s!=="number"||oi(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var xr=Array.isArray;function br(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Be(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function pa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ks(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(xr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Be(a)}}function Gs(r,s){var a=Be(s.value),h=Be(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function ma(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Or,ga=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Or.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ai(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ji=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(r){Ji.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Xi[s]=Xi[r]})});function ya(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Xi.hasOwnProperty(r)&&Xi[r]?(""+s).trim():s+"px"}function va(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=ya(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var _a=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(r,s){if(s){if(_a[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ea(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zi=null;function Qs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ys=null,wn=null,or=null;function Xs(r){if(r=Ha(r)){if(typeof Ys!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Su(s),Ys(r.stateNode,r.type,s))}}function ar(r){wn?or?or.push(r):or=[r]:wn=r}function Ta(){if(wn){var r=wn,s=or;if(or=wn=null,Xs(r),s)for(r=0;r<s.length;r++)Xs(s[r])}}function es(r,s){return r(s)}function Sa(){}var Dr=!1;function Aa(r,s,a){if(Dr)return r(s,a);Dr=!0;try{return es(r,s,a)}finally{Dr=!1,(wn!==null||or!==null)&&(Sa(),Ta())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var h=Su(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Js=!1;if(f)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Js=!1}function ts(r,s,a,h,d,g,w,I,P){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(Y){this.onError(Y)}}var ns=!1,Zs=null,Ln=!1,Ia=null,Vh={onError:function(r){ns=!0,Zs=r}};function eo(r,s,a,h,d,g,w,I,P){ns=!1,Zs=null,ts.apply(Vh,arguments)}function Gl(r,s,a,h,d,g,w,I,P){if(eo.apply(this,arguments),ns){if(ns){var z=Zs;ns=!1,Zs=null}else throw Error(t(198));Ln||(Ln=!0,Ia=z)}}function Mn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function rs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(r){if(Mn(r)!==r)throw Error(t(188))}function Ql(r){var s=r.alternate;if(!s){if(s=Mn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Fn(d),r;if(g===h)return Fn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=g;else{for(var w=!1,I=d.child;I;){if(I===a){w=!0,a=d,h=g;break}if(I===h){w=!0,h=d,a=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===a){w=!0,a=g,h=d;break}if(I===h){w=!0,h=g,a=d;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Ra(r){return r=Ql(r),r!==null?to(r):null}function to(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=to(r);if(s!==null)return s;r=r.sibling}return null}var no=e.unstable_scheduleCallback,Ca=e.unstable_cancelCallback,Yl=e.unstable_shouldYield,Lh=e.unstable_requestPaint,Ke=e.unstable_now,Xl=e.unstable_getCurrentPriorityLevel,is=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,Pa=e.unstable_LowPriority,Jl=e.unstable_IdlePriority,ss=null,ln=null;function Zl(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(ss,r,void 0,(r.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:tu,ka=Math.log,eu=Math.LN2;function tu(r){return r>>>=0,r===0?32:31-(ka(r)/eu|0)|0}var ro=64,io=4194304;function ui(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function os(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var I=w&~d;I!==0?h=ui(I):(g&=w,g!==0&&(h=ui(g)))}else w=a&~d,w!==0?h=ui(w):g!==0&&(h=ui(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&d)&&(d=h&-h,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Ht(s),d=1<<a,h|=r[a],s&=~d;return h}function Mh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Ht(g),I=1<<w,P=d[w];P===-1?(!(I&a)||I&h)&&(d[w]=Mh(I,s)):P<=s&&(r.expiredLanes|=I),g&=~I}}function un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function as(){var r=ro;return ro<<=1,!(ro&4194240)&&(ro=64),r}function ci(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function hi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Ht(s),r[s]=a}function He(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Ht(a),g=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~g}}function fi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Ht(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var xe=0;function di(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var nu,so,ru,iu,su,xa=!1,lr=[],Pt=null,jn=null,Un=null,pi=new Map,Tn=new Map,ur=[],Fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ou(r,s){switch(r){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":pi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(s.pointerId)}}function Yt(r,s,a,h,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Ha(s),s!==null&&so(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function jh(r,s,a,h,d){switch(s){case"focusin":return Pt=Yt(Pt,r,s,a,h,d),!0;case"dragenter":return jn=Yt(jn,r,s,a,h,d),!0;case"mouseover":return Un=Yt(Un,r,s,a,h,d),!0;case"pointerover":var g=d.pointerId;return pi.set(g,Yt(pi.get(g)||null,r,s,a,h,d)),!0;case"gotpointercapture":return g=d.pointerId,Tn.set(g,Yt(Tn.get(g)||null,r,s,a,h,d)),!0}return!1}function au(r){var s=fs(r.target);if(s!==null){var a=Mn(s);if(a!==null){if(s=a.tag,s===13){if(s=rs(a),s!==null){r.blockedOn=s,su(r.priority,function(){ru(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=oo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Zi=h,a.target.dispatchEvent(h),Zi=null}else return s=Ha(a),s!==null&&so(s),r.blockedOn=a,!1;s.shift()}return!0}function ls(r,s,a){Vr(r)&&a.delete(s)}function lu(){xa=!1,Pt!==null&&Vr(Pt)&&(Pt=null),jn!==null&&Vr(jn)&&(jn=null),Un!==null&&Vr(Un)&&(Un=null),pi.forEach(ls),Tn.forEach(ls)}function Bn(r,s){r.blockedOn===s&&(r.blockedOn=null,xa||(xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lu)))}function zn(r){function s(d){return Bn(d,r)}if(0<lr.length){Bn(lr[0],r);for(var a=1;a<lr.length;a++){var h=lr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Pt!==null&&Bn(Pt,r),jn!==null&&Bn(jn,r),Un!==null&&Bn(Un,r),pi.forEach(s),Tn.forEach(s),a=0;a<ur.length;a++)h=ur[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<ur.length&&(a=ur[0],a.blockedOn===null);)au(a),a.blockedOn===null&&ur.shift()}var Lr=oe.ReactCurrentBatchConfig,mi=!0;function Ze(r,s,a,h){var d=xe,g=Lr.transition;Lr.transition=null;try{xe=1,ba(r,s,a,h)}finally{xe=d,Lr.transition=g}}function Uh(r,s,a,h){var d=xe,g=Lr.transition;Lr.transition=null;try{xe=4,ba(r,s,a,h)}finally{xe=d,Lr.transition=g}}function ba(r,s,a,h){if(mi){var d=oo(r,s,a,h);if(d===null)Xh(r,s,h,us,a),ou(r,h);else if(jh(d,r,s,a,h))h.stopPropagation();else if(ou(r,h),s&4&&-1<Fh.indexOf(r)){for(;d!==null;){var g=Ha(d);if(g!==null&&nu(g),g=oo(r,s,a,h),g===null&&Xh(r,s,h,us,a),g===d)break;d=g}d!==null&&h.stopPropagation()}else Xh(r,s,h,null,a)}}var us=null;function oo(r,s,a,h){if(us=null,r=Qs(h),r=fs(r),r!==null)if(s=Mn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=rs(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return us=r,null}function Oa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xl()){case is:return 1;case li:return 4;case En:case Pa:return 16;case Jl:return 536870912;default:return 16}default:return 16}}var cn=null,ao=null,Xt=null;function Da(){if(Xt)return Xt;var r,s=ao,a=s.length,h,d="value"in cn?cn.value:cn.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===d[g-h];h++);return Xt=d.slice(r,1<h?1-h:void 0)}function lo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function cr(){return!0}function Na(){return!1}function kt(r){function s(a,h,d,g,w){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:Na,this.isPropagationStopped=Na,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),s}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=kt($n),hr=ae({},$n,{view:0,detail:0}),Bh=kt(hr),co,Mr,gi,cs=ae({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gi&&(gi&&r.type==="mousemove"?(co=r.screenX-gi.screenX,Mr=r.screenY-gi.screenY):Mr=co=0,gi=r),co)},movementY:function(r){return"movementY"in r?r.movementY:Mr}}),ho=kt(cs),Va=ae({},cs,{dataTransfer:0}),uu=kt(Va),fo=ae({},hr,{relatedTarget:0}),po=kt(fo),cu=ae({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=kt(cu),hu=ae({},$n,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fu=kt(hu),du=ae({},$n,{data:0}),La=kt(du),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=pu[r])?!!s[r]:!1}function fr(){return mu}var u=ae({},hr,{key:function(r){if(r.key){var s=mo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=lo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(r){return r.type==="keypress"?lo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?lo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),v=ae({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=kt(v),F=ae({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),q=kt(F),ee=ae({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=kt(ee),yt=ae({},cs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),De=kt(yt),St=[9,13,27,32],ht=f&&"CompositionEvent"in window,Sn=null;f&&"documentMode"in document&&(Sn=document.documentMode);var hn=f&&"TextEvent"in window&&!Sn,hs=f&&(!ht||Sn&&8<Sn&&11>=Sn),go=" ",wm=!1;function Em(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var yo=!1;function FE(r,s){switch(r){case"compositionend":return Tm(s);case"keypress":return s.which!==32?null:(wm=!0,go);case"textInput":return r=s.data,r===go&&wm?null:r;default:return null}}function jE(r,s){if(yo)return r==="compositionend"||!ht&&Em(r,s)?(r=Da(),Xt=ao=cn=null,yo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hs&&s.locale!=="ko"?null:s.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!UE[r.type]:s==="textarea"}function Am(r,s,a,h){ar(h),s=wu(s,"onChange"),0<s.length&&(a=new uo("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Ma=null,Fa=null;function BE(r){zm(r,0)}function gu(r){var s=To(r);if(qs(s))return r}function zE(r,s){if(r==="change")return s}var Im=!1;if(f){var zh;if(f){var $h="oninput"in document;if(!$h){var Rm=document.createElement("div");Rm.setAttribute("oninput","return;"),$h=typeof Rm.oninput=="function"}zh=$h}else zh=!1;Im=zh&&(!document.documentMode||9<document.documentMode)}function Cm(){Ma&&(Ma.detachEvent("onpropertychange",Pm),Fa=Ma=null)}function Pm(r){if(r.propertyName==="value"&&gu(Fa)){var s=[];Am(s,Fa,r,Qs(r)),Aa(BE,s)}}function $E(r,s,a){r==="focusin"?(Cm(),Ma=s,Fa=a,Ma.attachEvent("onpropertychange",Pm)):r==="focusout"&&Cm()}function qE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return gu(Fa)}function HE(r,s){if(r==="click")return gu(s)}function WE(r,s){if(r==="input"||r==="change")return gu(s)}function KE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var qn=typeof Object.is=="function"?Object.is:KE;function ja(r,s){if(qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!qn(r[d],s[d]))return!1}return!0}function km(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xm(r,s){var a=km(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=km(a)}}function bm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?bm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Om(){for(var r=window,s=oi();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=oi(r.document)}return s}function qh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function GE(r){var s=Om(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&bm(a.ownerDocument.documentElement,a)){if(h!==null&&qh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(h.start,d);h=h.end===void 0?g:Math.min(h.end,d),!r.extend&&g>h&&(d=h,h=g,g=d),d=xm(a,g);var w=xm(a,h);d&&w&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var QE=f&&"documentMode"in document&&11>=document.documentMode,vo=null,Hh=null,Ua=null,Wh=!1;function Dm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||vo==null||vo!==oi(h)||(h=vo,"selectionStart"in h&&qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ua&&ja(Ua,h)||(Ua=h,h=wu(Hh,"onSelect"),0<h.length&&(s=new uo("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=vo)))}function yu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var _o={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Kh={},Nm={};f&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function vu(r){if(Kh[r])return Kh[r];if(!_o[r])return r;var s=_o[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Nm)return Kh[r]=s[a];return r}var Vm=vu("animationend"),Lm=vu("animationiteration"),Mm=vu("animationstart"),Fm=vu("transitionend"),jm=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(r,s){jm.set(r,s),l(s,[r])}for(var Gh=0;Gh<Um.length;Gh++){var Qh=Um[Gh],YE=Qh.toLowerCase(),XE=Qh[0].toUpperCase()+Qh.slice(1);yi(YE,"on"+XE)}yi(Vm,"onAnimationEnd"),yi(Lm,"onAnimationIteration"),yi(Mm,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(Fm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function Bm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Gl(h,s,void 0,r),r.currentTarget=null}function zm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var I=h[w],P=I.instance,z=I.currentTarget;if(I=I.listener,P!==g&&d.isPropagationStopped())break e;Bm(d,I,z),g=P}else for(w=0;w<h.length;w++){if(I=h[w],P=I.instance,z=I.currentTarget,I=I.listener,P!==g&&d.isPropagationStopped())break e;Bm(d,I,z),g=P}}}if(Ln)throw r=Ia,Ln=!1,Ia=null,r}function Ye(r,s){var a=s[rf];a===void 0&&(a=s[rf]=new Set);var h=r+"__bubble";a.has(h)||($m(s,r,2,!1),a.add(h))}function Yh(r,s,a){var h=0;s&&(h|=4),$m(a,r,h,s)}var _u="_reactListening"+Math.random().toString(36).slice(2);function za(r){if(!r[_u]){r[_u]=!0,i.forEach(function(a){a!=="selectionchange"&&(JE.has(a)||Yh(a,!1,r),Yh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_u]||(s[_u]=!0,Yh("selectionchange",!1,s))}}function $m(r,s,a,h){switch(Oa(s)){case 1:var d=Ze;break;case 4:d=Uh;break;default:d=ba}a=d.bind(null,s,a,r),d=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function Xh(r,s,a,h,d){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var I=h.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(w===4)for(w=h.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;w=w.return}for(;I!==null;){if(w=fs(I),w===null)return;if(P=w.tag,P===5||P===6){h=g=w;continue e}I=I.parentNode}}h=h.return}Aa(function(){var z=g,Y=Qs(a),J=[];e:{var Q=jm.get(r);if(Q!==void 0){var se=uo,ce=r;switch(r){case"keypress":if(lo(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ce="focus",se=po;break;case"focusout":ce="blur",se=po;break;case"beforeblur":case"afterblur":se=po;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=q;break;case Vm:case Lm:case Mm:se=Fr;break;case Fm:se=$e;break;case"scroll":se=Bh;break;case"wheel":se=De;break;case"copy":case"cut":case"paste":se=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var fe=(s&4)!==0,lt=!fe&&r==="scroll",j=fe?Q!==null?Q+"Capture":null:Q;fe=[];for(var O=z,B;O!==null;){B=O;var Z=B.stateNode;if(B.tag===5&&Z!==null&&(B=Z,j!==null&&(Z=at(O,j),Z!=null&&fe.push($a(O,Z,B)))),lt)break;O=O.return}0<fe.length&&(Q=new se(Q,ce,null,a,Y),J.push({event:Q,listeners:fe}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",Q&&a!==Zi&&(ce=a.relatedTarget||a.fromElement)&&(fs(ce)||ce[jr]))break e;if((se||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=z,ce=ce?fs(ce):null,ce!==null&&(lt=Mn(ce),ce!==lt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=z),se!==ce)){if(fe=ho,Z="onMouseLeave",j="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(fe=E,Z="onPointerLeave",j="onPointerEnter",O="pointer"),lt=se==null?Q:To(se),B=ce==null?Q:To(ce),Q=new fe(Z,O+"leave",se,a,Y),Q.target=lt,Q.relatedTarget=B,Z=null,fs(Y)===z&&(fe=new fe(j,O+"enter",ce,a,Y),fe.target=B,fe.relatedTarget=lt,Z=fe),lt=Z,se&&ce)t:{for(fe=se,j=ce,O=0,B=fe;B;B=wo(B))O++;for(B=0,Z=j;Z;Z=wo(Z))B++;for(;0<O-B;)fe=wo(fe),O--;for(;0<B-O;)j=wo(j),B--;for(;O--;){if(fe===j||j!==null&&fe===j.alternate)break t;fe=wo(fe),j=wo(j)}fe=null}else fe=null;se!==null&&qm(J,Q,se,fe,!1),ce!==null&&lt!==null&&qm(J,lt,ce,fe,!0)}}e:{if(Q=z?To(z):window,se=Q.nodeName&&Q.nodeName.toLowerCase(),se==="select"||se==="input"&&Q.type==="file")var de=zE;else if(Sm(Q))if(Im)de=WE;else{de=qE;var ye=$E}else(se=Q.nodeName)&&se.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(de=HE);if(de&&(de=de(r,z))){Am(J,de,a,Y);break e}ye&&ye(r,Q,z),r==="focusout"&&(ye=Q._wrapperState)&&ye.controlled&&Q.type==="number"&&Ws(Q,"number",Q.value)}switch(ye=z?To(z):window,r){case"focusin":(Sm(ye)||ye.contentEditable==="true")&&(vo=ye,Hh=z,Ua=null);break;case"focusout":Ua=Hh=vo=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Dm(J,a,Y);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":Dm(J,a,Y)}var ve;if(ht)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else yo?Em(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(hs&&a.locale!=="ko"&&(yo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&yo&&(ve=Da()):(cn=Y,ao="value"in cn?cn.value:cn.textContent,yo=!0)),ye=wu(z,Ee),0<ye.length&&(Ee=new La(Ee,r,null,a,Y),J.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Tm(a),ve!==null&&(Ee.data=ve)))),(ve=hn?FE(r,a):jE(r,a))&&(z=wu(z,"onBeforeInput"),0<z.length&&(Y=new La("onBeforeInput","beforeinput",null,a,Y),J.push({event:Y,listeners:z}),Y.data=ve))}zm(J,s)})}function $a(r,s,a){return{instance:r,listener:s,currentTarget:a}}function wu(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=at(r,a),g!=null&&h.unshift($a(r,g,d)),g=at(r,s),g!=null&&h.push($a(r,g,d))),r=r.return}return h}function wo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qm(r,s,a,h,d){for(var g=s._reactName,w=[];a!==null&&a!==h;){var I=a,P=I.alternate,z=I.stateNode;if(P!==null&&P===h)break;I.tag===5&&z!==null&&(I=z,d?(P=at(a,g),P!=null&&w.unshift($a(a,P,I))):d||(P=at(a,g),P!=null&&w.push($a(a,P,I)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var ZE=/\r\n?/g,eT=/\u0000|\uFFFD/g;function Hm(r){return(typeof r=="string"?r:""+r).replace(ZE,`
`).replace(eT,"")}function Eu(r,s,a){if(s=Hm(s),Hm(r)!==s&&a)throw Error(t(425))}function Tu(){}var Jh=null,Zh=null;function ef(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(r){return Wm.resolve(null).then(r).catch(rT)}:tf;function rT(r){setTimeout(function(){throw r})}function nf(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),zn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);zn(s)}function vi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Km(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),dr="__reactFiber$"+Eo,qa="__reactProps$"+Eo,jr="__reactContainer$"+Eo,rf="__reactEvents$"+Eo,iT="__reactListeners$"+Eo,sT="__reactHandles$"+Eo;function fs(r){var s=r[dr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[jr]||a[dr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Km(r);r!==null;){if(a=r[dr])return a;r=Km(r)}return s}r=a,a=r.parentNode}return null}function Ha(r){return r=r[dr]||r[jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function To(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Su(r){return r[qa]||null}var sf=[],So=-1;function _i(r){return{current:r}}function Xe(r){0>So||(r.current=sf[So],sf[So]=null,So--)}function Ge(r,s){So++,sf[So]=r.current,r.current=s}var wi={},Ft=_i(wi),Jt=_i(!1),ds=wi;function Ao(r,s){var a=r.type.contextTypes;if(!a)return wi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Zt(r){return r=r.childContextTypes,r!=null}function Au(){Xe(Jt),Xe(Ft)}function Gm(r,s,a){if(Ft.current!==wi)throw Error(t(168));Ge(Ft,s),Ge(Jt,a)}function Qm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Ue(r)||"Unknown",d));return ae({},a,h)}function Iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wi,ds=Ft.current,Ge(Ft,r),Ge(Jt,Jt.current),!0}function Ym(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Qm(r,s,ds),h.__reactInternalMemoizedMergedChildContext=r,Xe(Jt),Xe(Ft),Ge(Ft,r)):Xe(Jt),Ge(Jt,a)}var Ur=null,Ru=!1,of=!1;function Xm(r){Ur===null?Ur=[r]:Ur.push(r)}function oT(r){Ru=!0,Xm(r)}function Ei(){if(!of&&Ur!==null){of=!0;var r=0,s=xe;try{var a=Ur;for(xe=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Ur=null,Ru=!1}catch(d){throw Ur!==null&&(Ur=Ur.slice(r+1)),no(is,Ei),d}finally{xe=s,of=!1}}return null}var Io=[],Ro=0,Cu=null,Pu=0,An=[],In=0,ps=null,Br=1,zr="";function ms(r,s){Io[Ro++]=Pu,Io[Ro++]=Cu,Cu=r,Pu=s}function Jm(r,s,a){An[In++]=Br,An[In++]=zr,An[In++]=ps,ps=r;var h=Br;r=zr;var d=32-Ht(h)-1;h&=~(1<<d),a+=1;var g=32-Ht(s)+d;if(30<g){var w=d-d%5;g=(h&(1<<w)-1).toString(32),h>>=w,d-=w,Br=1<<32-Ht(s)+d|a<<d|h,zr=g+r}else Br=1<<g|a<<d|h,zr=r}function af(r){r.return!==null&&(ms(r,1),Jm(r,1,0))}function lf(r){for(;r===Cu;)Cu=Io[--Ro],Io[Ro]=null,Pu=Io[--Ro],Io[Ro]=null;for(;r===ps;)ps=An[--In],An[In]=null,zr=An[--In],An[In]=null,Br=An[--In],An[In]=null}var fn=null,dn=null,et=!1,Hn=null;function Zm(r,s){var a=kn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function eg(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,fn=r,dn=vi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,fn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ps!==null?{id:Br,overflow:zr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=kn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,fn=r,dn=null,!0):!1;default:return!1}}function uf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function cf(r){if(et){var s=dn;if(s){var a=s;if(!eg(r,s)){if(uf(r))throw Error(t(418));s=vi(a.nextSibling);var h=fn;s&&eg(r,s)?Zm(h,a):(r.flags=r.flags&-4097|2,et=!1,fn=r)}}else{if(uf(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,fn=r}}}function tg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;fn=r}function ku(r){if(r!==fn)return!1;if(!et)return tg(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ef(r.type,r.memoizedProps)),s&&(s=dn)){if(uf(r))throw ng(),Error(t(418));for(;s;)Zm(r,s),s=vi(s.nextSibling)}if(tg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){dn=vi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=fn?vi(r.stateNode.nextSibling):null;return!0}function ng(){for(var r=dn;r;)r=vi(r.nextSibling)}function Co(){dn=fn=null,et=!1}function hf(r){Hn===null?Hn=[r]:Hn.push(r)}var aT=oe.ReactCurrentBatchConfig;function Wa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var I=d.refs;w===null?delete I[g]:I[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function xu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function rg(r){var s=r._init;return s(r._payload)}function ig(r){function s(j,O){if(r){var B=j.deletions;B===null?(j.deletions=[O],j.flags|=16):B.push(O)}}function a(j,O){if(!r)return null;for(;O!==null;)s(j,O),O=O.sibling;return null}function h(j,O){for(j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function d(j,O){return j=ki(j,O),j.index=0,j.sibling=null,j}function g(j,O,B){return j.index=B,r?(B=j.alternate,B!==null?(B=B.index,B<O?(j.flags|=2,O):B):(j.flags|=2,O)):(j.flags|=1048576,O)}function w(j){return r&&j.alternate===null&&(j.flags|=2),j}function I(j,O,B,Z){return O===null||O.tag!==6?(O=nd(B,j.mode,Z),O.return=j,O):(O=d(O,B),O.return=j,O)}function P(j,O,B,Z){var de=B.type;return de===b?Y(j,O,B.props.children,Z,B.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Mt&&rg(de)===O.type)?(Z=d(O,B.props),Z.ref=Wa(j,O,B),Z.return=j,Z):(Z=ec(B.type,B.key,B.props,null,j.mode,Z),Z.ref=Wa(j,O,B),Z.return=j,Z)}function z(j,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=rd(B,j.mode,Z),O.return=j,O):(O=d(O,B.children||[]),O.return=j,O)}function Y(j,O,B,Z,de){return O===null||O.tag!==7?(O=Ss(B,j.mode,Z,de),O.return=j,O):(O=d(O,B),O.return=j,O)}function J(j,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=nd(""+O,j.mode,B),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ae:return B=ec(O.type,O.key,O.props,null,j.mode,B),B.ref=Wa(j,null,O),B.return=j,B;case _e:return O=rd(O,j.mode,B),O.return=j,O;case Mt:var Z=O._init;return J(j,Z(O._payload),B)}if(xr(O)||ge(O))return O=Ss(O,j.mode,B,null),O.return=j,O;xu(j,O)}return null}function Q(j,O,B,Z){var de=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return de!==null?null:I(j,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ae:return B.key===de?P(j,O,B,Z):null;case _e:return B.key===de?z(j,O,B,Z):null;case Mt:return de=B._init,Q(j,O,de(B._payload),Z)}if(xr(B)||ge(B))return de!==null?null:Y(j,O,B,Z,null);xu(j,B)}return null}function se(j,O,B,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return j=j.get(B)||null,I(O,j,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ae:return j=j.get(Z.key===null?B:Z.key)||null,P(O,j,Z,de);case _e:return j=j.get(Z.key===null?B:Z.key)||null,z(O,j,Z,de);case Mt:var ye=Z._init;return se(j,O,B,ye(Z._payload),de)}if(xr(Z)||ge(Z))return j=j.get(B)||null,Y(O,j,Z,de,null);xu(O,Z)}return null}function ce(j,O,B,Z){for(var de=null,ye=null,ve=O,Ee=O=0,Rt=null;ve!==null&&Ee<B.length;Ee++){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var Fe=Q(j,ve,B[Ee],Z);if(Fe===null){ve===null&&(ve=Rt);break}r&&ve&&Fe.alternate===null&&s(j,ve),O=g(Fe,O,Ee),ye===null?de=Fe:ye.sibling=Fe,ye=Fe,ve=Rt}if(Ee===B.length)return a(j,ve),et&&ms(j,Ee),de;if(ve===null){for(;Ee<B.length;Ee++)ve=J(j,B[Ee],Z),ve!==null&&(O=g(ve,O,Ee),ye===null?de=ve:ye.sibling=ve,ye=ve);return et&&ms(j,Ee),de}for(ve=h(j,ve);Ee<B.length;Ee++)Rt=se(ve,j,Ee,B[Ee],Z),Rt!==null&&(r&&Rt.alternate!==null&&ve.delete(Rt.key===null?Ee:Rt.key),O=g(Rt,O,Ee),ye===null?de=Rt:ye.sibling=Rt,ye=Rt);return r&&ve.forEach(function(xi){return s(j,xi)}),et&&ms(j,Ee),de}function fe(j,O,B,Z){var de=ge(B);if(typeof de!="function")throw Error(t(150));if(B=de.call(B),B==null)throw Error(t(151));for(var ye=de=null,ve=O,Ee=O=0,Rt=null,Fe=B.next();ve!==null&&!Fe.done;Ee++,Fe=B.next()){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var xi=Q(j,ve,Fe.value,Z);if(xi===null){ve===null&&(ve=Rt);break}r&&ve&&xi.alternate===null&&s(j,ve),O=g(xi,O,Ee),ye===null?de=xi:ye.sibling=xi,ye=xi,ve=Rt}if(Fe.done)return a(j,ve),et&&ms(j,Ee),de;if(ve===null){for(;!Fe.done;Ee++,Fe=B.next())Fe=J(j,Fe.value,Z),Fe!==null&&(O=g(Fe,O,Ee),ye===null?de=Fe:ye.sibling=Fe,ye=Fe);return et&&ms(j,Ee),de}for(ve=h(j,ve);!Fe.done;Ee++,Fe=B.next())Fe=se(ve,j,Ee,Fe.value,Z),Fe!==null&&(r&&Fe.alternate!==null&&ve.delete(Fe.key===null?Ee:Fe.key),O=g(Fe,O,Ee),ye===null?de=Fe:ye.sibling=Fe,ye=Fe);return r&&ve.forEach(function(jT){return s(j,jT)}),et&&ms(j,Ee),de}function lt(j,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===b&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Ae:e:{for(var de=B.key,ye=O;ye!==null;){if(ye.key===de){if(de=B.type,de===b){if(ye.tag===7){a(j,ye.sibling),O=d(ye,B.props.children),O.return=j,j=O;break e}}else if(ye.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Mt&&rg(de)===ye.type){a(j,ye.sibling),O=d(ye,B.props),O.ref=Wa(j,ye,B),O.return=j,j=O;break e}a(j,ye);break}else s(j,ye);ye=ye.sibling}B.type===b?(O=Ss(B.props.children,j.mode,Z,B.key),O.return=j,j=O):(Z=ec(B.type,B.key,B.props,null,j.mode,Z),Z.ref=Wa(j,O,B),Z.return=j,j=Z)}return w(j);case _e:e:{for(ye=B.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(j,O.sibling),O=d(O,B.children||[]),O.return=j,j=O;break e}else{a(j,O);break}else s(j,O);O=O.sibling}O=rd(B,j.mode,Z),O.return=j,j=O}return w(j);case Mt:return ye=B._init,lt(j,O,ye(B._payload),Z)}if(xr(B))return ce(j,O,B,Z);if(ge(B))return fe(j,O,B,Z);xu(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(a(j,O.sibling),O=d(O,B),O.return=j,j=O):(a(j,O),O=nd(B,j.mode,Z),O.return=j,j=O),w(j)):a(j,O)}return lt}var Po=ig(!0),sg=ig(!1),bu=_i(null),Ou=null,ko=null,ff=null;function df(){ff=ko=Ou=null}function pf(r){var s=bu.current;Xe(bu),r._currentValue=s}function mf(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function xo(r,s){Ou=r,ff=ko=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(en=!0),r.firstContext=null)}function Rn(r){var s=r._currentValue;if(ff!==r)if(r={context:r,memoizedValue:s,next:null},ko===null){if(Ou===null)throw Error(t(308));ko=r,Ou.dependencies={lanes:0,firstContext:r}}else ko=ko.next=r;return s}var gs=null;function gf(r){gs===null?gs=[r]:gs.push(r)}function og(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,gf(s)):(a.next=d.next,d.next=a),s.interleaved=a,$r(r,h)}function $r(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ti=!1;function yf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ag(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function qr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Si(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Le&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,$r(r,a)}return d=h.interleaved,d===null?(s.next=s,gf(h)):(s.next=d.next,d.next=s),h.interleaved=s,$r(r,a)}function Du(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,fi(r,a)}}function lg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Nu(r,s,a,h){var d=r.updateQueue;Ti=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var P=I,z=P.next;P.next=null,w===null?g=z:w.next=z,w=P;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,I=Y.lastBaseUpdate,I!==w&&(I===null?Y.firstBaseUpdate=z:I.next=z,Y.lastBaseUpdate=P))}if(g!==null){var J=d.baseState;w=0,Y=z=P=null,I=g;do{var Q=I.lane,se=I.eventTime;if((h&Q)===Q){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ce=r,fe=I;switch(Q=s,se=a,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){J=ce.call(se,J,Q);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,Q=typeof ce=="function"?ce.call(se,J,Q):ce,Q==null)break e;J=ae({},J,Q);break e;case 2:Ti=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,Q=d.effects,Q===null?d.effects=[I]:Q.push(I))}else se={eventTime:se,lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?(z=Y=se,P=J):Y=Y.next=se,w|=Q;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;Q=I,I=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(Y===null&&(P=J),d.baseState=P,d.firstBaseUpdate=z,d.lastBaseUpdate=Y,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);_s|=w,r.lanes=w,r.memoizedState=J}}function ug(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Ka={},pr=_i(Ka),Ga=_i(Ka),Qa=_i(Ka);function ys(r){if(r===Ka)throw Error(t(174));return r}function vf(r,s){switch(Ge(Qa,s),Ge(Ga,r),Ge(pr,Ka),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=gt(s,r)}Xe(pr),Ge(pr,s)}function bo(){Xe(pr),Xe(Ga),Xe(Qa)}function cg(r){ys(Qa.current);var s=ys(pr.current),a=gt(s,r.type);s!==a&&(Ge(Ga,r),Ge(pr,a))}function _f(r){Ga.current===r&&(Xe(pr),Xe(Ga))}var nt=_i(0);function Vu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wf=[];function Ef(){for(var r=0;r<wf.length;r++)wf[r]._workInProgressVersionPrimary=null;wf.length=0}var Lu=oe.ReactCurrentDispatcher,Tf=oe.ReactCurrentBatchConfig,vs=0,rt=null,vt=null,At=null,Mu=!1,Ya=!1,Xa=0,lT=0;function jt(){throw Error(t(321))}function Sf(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!qn(r[a],s[a]))return!1;return!0}function Af(r,s,a,h,d,g){if(vs=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Lu.current=r===null||r.memoizedState===null?fT:dT,r=a(h,d),Ya){g=0;do{if(Ya=!1,Xa=0,25<=g)throw Error(t(301));g+=1,At=vt=null,s.updateQueue=null,Lu.current=pT,r=a(h,d)}while(Ya)}if(Lu.current=Uu,s=vt!==null&&vt.next!==null,vs=0,At=vt=rt=null,Mu=!1,s)throw Error(t(300));return r}function If(){var r=Xa!==0;return Xa=0,r}function mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=r:At=At.next=r,At}function Cn(){if(vt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=At===null?rt.memoizedState:At.next;if(s!==null)At=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},At===null?rt.memoizedState=At=r:At=At.next=r}return At}function Ja(r,s){return typeof s=="function"?s(r):s}function Rf(r){var s=Cn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=vt,d=h.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}h.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,h=h.baseState;var I=w=null,P=null,z=g;do{var Y=z.lane;if((vs&Y)===Y)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(I=P=J,w=h):P=P.next=J,rt.lanes|=Y,_s|=Y}z=z.next}while(z!==null&&z!==g);P===null?w=h:P.next=I,qn(h,s.memoizedState)||(en=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=P,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do g=d.lane,rt.lanes|=g,_s|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Cf(r){var s=Cn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=r(g,w.action),w=w.next;while(w!==d);qn(g,s.memoizedState)||(en=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function hg(){}function fg(r,s){var a=rt,h=Cn(),d=s(),g=!qn(h.memoizedState,d);if(g&&(h.memoizedState=d,en=!0),h=h.queue,Pf(mg.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Za(9,pg.bind(null,a,h,d,s),void 0,null),It===null)throw Error(t(349));vs&30||dg(a,s,d)}return d}function dg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function pg(r,s,a,h){s.value=a,s.getSnapshot=h,gg(s)&&yg(r)}function mg(r,s,a){return a(function(){gg(s)&&yg(r)})}function gg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!qn(r,a)}catch{return!0}}function yg(r){var s=$r(r,1);s!==null&&Qn(s,r,1,-1)}function vg(r){var s=mr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:r},s.queue=r,r=r.dispatch=hT.bind(null,rt,r),[s.memoizedState,r]}function Za(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function _g(){return Cn().memoizedState}function Fu(r,s,a,h){var d=mr();rt.flags|=r,d.memoizedState=Za(1|s,a,void 0,h===void 0?null:h)}function ju(r,s,a,h){var d=Cn();h=h===void 0?null:h;var g=void 0;if(vt!==null){var w=vt.memoizedState;if(g=w.destroy,h!==null&&Sf(h,w.deps)){d.memoizedState=Za(s,a,g,h);return}}rt.flags|=r,d.memoizedState=Za(1|s,a,g,h)}function wg(r,s){return Fu(8390656,8,r,s)}function Pf(r,s){return ju(2048,8,r,s)}function Eg(r,s){return ju(4,2,r,s)}function Tg(r,s){return ju(4,4,r,s)}function Sg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ag(r,s,a){return a=a!=null?a.concat([r]):null,ju(4,4,Sg.bind(null,s,r),a)}function kf(){}function Ig(r,s){var a=Cn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Sf(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Rg(r,s){var a=Cn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Sf(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Cg(r,s,a){return vs&21?(qn(a,s)||(a=as(),rt.lanes|=a,_s|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,en=!0),r.memoizedState=a)}function uT(r,s){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var h=Tf.transition;Tf.transition={};try{r(!1),s()}finally{xe=a,Tf.transition=h}}function Pg(){return Cn().memoizedState}function cT(r,s,a){var h=Ci(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},kg(r))xg(s,a);else if(a=og(r,s,a,h),a!==null){var d=Gt();Qn(a,r,h,d),bg(a,s,h)}}function hT(r,s,a){var h=Ci(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(kg(r))xg(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,I=g(w,a);if(d.hasEagerState=!0,d.eagerState=I,qn(I,w)){var P=s.interleaved;P===null?(d.next=d,gf(s)):(d.next=P.next,P.next=d),s.interleaved=d;return}}catch{}finally{}a=og(r,s,d,h),a!==null&&(d=Gt(),Qn(a,r,h,d),bg(a,s,h))}}function kg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function xg(r,s){Ya=Mu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function bg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,fi(r,a)}}var Uu={readContext:Rn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},fT={readContext:Rn,useCallback:function(r,s){return mr().memoizedState=[r,s===void 0?null:s],r},useContext:Rn,useEffect:wg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Fu(4194308,4,Sg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Fu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Fu(4,2,r,s)},useMemo:function(r,s){var a=mr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=mr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=cT.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=mr();return r={current:r},s.memoizedState=r},useState:vg,useDebugValue:kf,useDeferredValue:function(r){return mr().memoizedState=r},useTransition:function(){var r=vg(!1),s=r[0];return r=uT.bind(null,r[1]),mr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=rt,d=mr();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));vs&30||dg(h,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,wg(mg.bind(null,h,g,r),[r]),h.flags|=2048,Za(9,pg.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=mr(),s=It.identifierPrefix;if(et){var a=zr,h=Br;a=(h&~(1<<32-Ht(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Xa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=lT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},dT={readContext:Rn,useCallback:Ig,useContext:Rn,useEffect:Pf,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Rg,useReducer:Rf,useRef:_g,useState:function(){return Rf(Ja)},useDebugValue:kf,useDeferredValue:function(r){var s=Cn();return Cg(s,vt.memoizedState,r)},useTransition:function(){var r=Rf(Ja)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:hg,useSyncExternalStore:fg,useId:Pg,unstable_isNewReconciler:!1},pT={readContext:Rn,useCallback:Ig,useContext:Rn,useEffect:Pf,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Rg,useReducer:Cf,useRef:_g,useState:function(){return Cf(Ja)},useDebugValue:kf,useDeferredValue:function(r){var s=Cn();return vt===null?s.memoizedState=r:Cg(s,vt.memoizedState,r)},useTransition:function(){var r=Cf(Ja)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:hg,useSyncExternalStore:fg,useId:Pg,unstable_isNewReconciler:!1};function Wn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function xf(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ae({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Bu={isMounted:function(r){return(r=r._reactInternals)?Mn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Gt(),d=Ci(r),g=qr(h,d);g.payload=s,a!=null&&(g.callback=a),s=Si(r,g,d),s!==null&&(Qn(s,r,d,h),Du(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Gt(),d=Ci(r),g=qr(h,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Si(r,g,d),s!==null&&(Qn(s,r,d,h),Du(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Gt(),h=Ci(r),d=qr(a,h);d.tag=2,s!=null&&(d.callback=s),s=Si(r,d,h),s!==null&&(Qn(s,r,h,a),Du(s,r,h))}};function Og(r,s,a,h,d,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!ja(a,h)||!ja(d,g):!0}function Dg(r,s,a){var h=!1,d=wi,g=s.contextType;return typeof g=="object"&&g!==null?g=Rn(g):(d=Zt(s)?ds:Ft.current,h=s.contextTypes,g=(h=h!=null)?Ao(r,d):wi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ng(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Bu.enqueueReplaceState(s,s.state,null)}function bf(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},yf(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=Rn(g):(g=Zt(s)?ds:Ft.current,d.context=Ao(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(xf(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Bu.enqueueReplaceState(d,d.state,null),Nu(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Oo(r,s){try{var a="",h=s;do a+=Ce(h),h=h.return;while(h);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function Of(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Df(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var mT=typeof WeakMap=="function"?WeakMap:Map;function Vg(r,s,a){a=qr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Gu||(Gu=!0,Gf=h),Df(r,s)},a}function Lg(r,s,a){a=qr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){Df(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Df(r,s),typeof h!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Mg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new mT;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=kT.bind(null,r,s,a),s.then(r,r))}function Fg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function jg(r,s,a,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=qr(-1,1),s.tag=2,Si(a,s,1))),a.lanes|=1),r)}var gT=oe.ReactCurrentOwner,en=!1;function Kt(r,s,a,h){s.child=r===null?sg(s,null,a,h):Po(s,r.child,a,h)}function Ug(r,s,a,h,d){a=a.render;var g=s.ref;return xo(s,d),h=Af(r,s,a,h,g,d),a=If(),r!==null&&!en?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Hr(r,s,d)):(et&&a&&af(s),s.flags|=1,Kt(r,s,h,d),s.child)}function Bg(r,s,a,h,d){if(r===null){var g=a.type;return typeof g=="function"&&!td(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,zg(r,s,g,h,d)):(r=ec(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&d)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:ja,a(w,h)&&r.ref===s.ref)return Hr(r,s,d)}return s.flags|=1,r=ki(g,h),r.ref=s.ref,r.return=s,s.child=r}function zg(r,s,a,h,d){if(r!==null){var g=r.memoizedProps;if(ja(g,h)&&r.ref===s.ref)if(en=!1,s.pendingProps=h=g,(r.lanes&d)!==0)r.flags&131072&&(en=!0);else return s.lanes=r.lanes,Hr(r,s,d)}return Nf(r,s,a,h,d)}function $g(r,s,a){var h=s.pendingProps,d=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(No,pn),pn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ge(No,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ge(No,pn),pn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ge(No,pn),pn|=h;return Kt(r,s,d,a),s.child}function qg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Nf(r,s,a,h,d){var g=Zt(a)?ds:Ft.current;return g=Ao(s,g),xo(s,d),a=Af(r,s,a,h,g,d),h=If(),r!==null&&!en?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Hr(r,s,d)):(et&&h&&af(s),s.flags|=1,Kt(r,s,a,d),s.child)}function Hg(r,s,a,h,d){if(Zt(a)){var g=!0;Iu(s)}else g=!1;if(xo(s,d),s.stateNode===null)$u(r,s),Dg(s,a,h),bf(s,a,h,d),h=!0;else if(r===null){var w=s.stateNode,I=s.memoizedProps;w.props=I;var P=w.context,z=a.contextType;typeof z=="object"&&z!==null?z=Rn(z):(z=Zt(a)?ds:Ft.current,z=Ao(s,z));var Y=a.getDerivedStateFromProps,J=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function";J||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==h||P!==z)&&Ng(s,w,h,z),Ti=!1;var Q=s.memoizedState;w.state=Q,Nu(s,h,w,d),P=s.memoizedState,I!==h||Q!==P||Jt.current||Ti?(typeof Y=="function"&&(xf(s,a,Y,h),P=s.memoizedState),(I=Ti||Og(s,a,I,h,Q,P,z))?(J||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=P),w.props=h,w.state=P,w.context=z,h=I):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,ag(r,s),I=s.memoizedProps,z=s.type===s.elementType?I:Wn(s.type,I),w.props=z,J=s.pendingProps,Q=w.context,P=a.contextType,typeof P=="object"&&P!==null?P=Rn(P):(P=Zt(a)?ds:Ft.current,P=Ao(s,P));var se=a.getDerivedStateFromProps;(Y=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==J||Q!==P)&&Ng(s,w,h,P),Ti=!1,Q=s.memoizedState,w.state=Q,Nu(s,h,w,d);var ce=s.memoizedState;I!==J||Q!==ce||Jt.current||Ti?(typeof se=="function"&&(xf(s,a,se,h),ce=s.memoizedState),(z=Ti||Og(s,a,z,h,Q,ce,P)||!1)?(Y||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ce,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ce,P)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),w.props=h,w.state=ce,w.context=P,h=z):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),h=!1)}return Vf(r,s,a,h,g,d)}function Vf(r,s,a,h,d,g){qg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return d&&Ym(s,a,!1),Hr(r,s,g);h=s.stateNode,gT.current=s;var I=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Po(s,r.child,null,g),s.child=Po(s,null,I,g)):Kt(r,s,I,g),s.memoizedState=h.state,d&&Ym(s,a,!0),s.child}function Wg(r){var s=r.stateNode;s.pendingContext?Gm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Gm(r,s.context,!1),vf(r,s.containerInfo)}function Kg(r,s,a,h,d){return Co(),hf(d),s.flags|=256,Kt(r,s,a,h),s.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Mf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Gg(r,s,a){var h=s.pendingProps,d=nt.current,g=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=r!==null&&r.memoizedState===null?!1:(d&2)!==0),I?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Ge(nt,d&1),r===null)return cf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=tc(w,h,0,null),r=Ss(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Mf(a),s.memoizedState=Lf,r):Ff(s,w));if(d=r.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return yT(r,s,w,h,I,d,a);if(g){g=h.fallback,w=s.mode,d=r.child,I=d.sibling;var P={mode:"hidden",children:h.children};return!(w&1)&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=P,s.deletions=null):(h=ki(d,P),h.subtreeFlags=d.subtreeFlags&14680064),I!==null?g=ki(I,g):(g=Ss(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Mf(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Lf,h}return g=r.child,r=g.sibling,h=ki(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Ff(r,s){return s=tc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function zu(r,s,a,h){return h!==null&&hf(h),Po(s,r.child,null,a),r=Ff(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function yT(r,s,a,h,d,g,w){if(a)return s.flags&256?(s.flags&=-257,h=Of(Error(t(422))),zu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,d=s.mode,h=tc({mode:"visible",children:h.children},d,0,null),g=Ss(g,d,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Po(s,r.child,null,w),s.child.memoizedState=Mf(w),s.memoizedState=Lf,g);if(!(s.mode&1))return zu(r,s,w,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var I=h.dgst;return h=I,g=Error(t(419)),h=Of(g,h,void 0),zu(r,s,w,h)}if(I=(w&r.childLanes)!==0,en||I){if(h=It,h!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|w)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,$r(r,d),Qn(h,r,d,-1))}return ed(),h=Of(Error(t(421))),zu(r,s,w,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=xT.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,dn=vi(d.nextSibling),fn=s,et=!0,Hn=null,r!==null&&(An[In++]=Br,An[In++]=zr,An[In++]=ps,Br=r.id,zr=r.overflow,ps=s),s=Ff(s,h.children),s.flags|=4096,s)}function Qg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),mf(r.return,s,a)}function jf(r,s,a,h,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=d)}function Yg(r,s,a){var h=s.pendingProps,d=h.revealOrder,g=h.tail;if(Kt(r,s,h.children,a),h=nt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Qg(r,a,s);else if(r.tag===19)Qg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ge(nt,h),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&Vu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),jf(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Vu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}jf(s,!0,a,null,g);break;case"together":jf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $u(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Hr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),_s|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=ki(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ki(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function vT(r,s,a){switch(s.tag){case 3:Wg(s),Co();break;case 5:cg(s);break;case 1:Zt(s.type)&&Iu(s);break;case 4:vf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;Ge(bu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ge(nt,nt.current&1),s.flags|=128,null):a&s.child.childLanes?Gg(r,s,a):(Ge(nt,nt.current&1),r=Hr(r,s,a),r!==null?r.sibling:null);Ge(nt,nt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return Yg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ge(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,$g(r,s,a)}return Hr(r,s,a)}var Xg,Uf,Jg,Zg;Xg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Uf=function(){},Jg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,ys(pr.current);var g=null;switch(a){case"input":d=Yi(r,d),h=Yi(r,h),g=[];break;case"select":d=ae({},d,{value:void 0}),h=ae({},h,{value:void 0}),g=[];break;case"textarea":d=pa(r,d),h=pa(r,h),g=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Tu)}wa(a,h);var w;a=null;for(z in d)if(!h.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var P=h[z];if(I=d!=null?d[z]:void 0,h.hasOwnProperty(z)&&P!==I&&(P!=null||I!=null))if(z==="style")if(I){for(w in I)!I.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in P)P.hasOwnProperty(w)&&I[w]!==P[w]&&(a||(a={}),a[w]=P[w])}else a||(g||(g=[]),g.push(z,a)),a=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(g=g||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&Ye("scroll",r),g||I===P||(g=[])):(g=g||[]).push(z,P))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},Zg=function(r,s,a,h){a!==h&&(s.flags|=4)};function el(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function _T(r,s,a){var h=s.pendingProps;switch(lf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Zt(s.type)&&Au(),Ut(s),null;case 3:return h=s.stateNode,bo(),Xe(Jt),Xe(Ft),Ef(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ku(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Hn!==null&&(Xf(Hn),Hn=null))),Uf(r,s),Ut(s),null;case 5:_f(s);var d=ys(Qa.current);if(a=s.type,r!==null&&s.stateNode!=null)Jg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=ys(pr.current),ku(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[dr]=s,h[qa]=g,r=(s.mode&1)!==0,a){case"dialog":Ye("cancel",h),Ye("close",h);break;case"iframe":case"object":case"embed":Ye("load",h);break;case"video":case"audio":for(d=0;d<Ba.length;d++)Ye(Ba[d],h);break;case"source":Ye("error",h);break;case"img":case"image":case"link":Ye("error",h),Ye("load",h);break;case"details":Ye("toggle",h);break;case"input":Hs(h,g),Ye("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ye("invalid",h);break;case"textarea":Ks(h,g),Ye("invalid",h)}wa(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var I=g[w];w==="children"?typeof I=="string"?h.textContent!==I&&(g.suppressHydrationWarning!==!0&&Eu(h.textContent,I,r),d=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(g.suppressHydrationWarning!==!0&&Eu(h.textContent,I,r),d=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&Ye("scroll",h)}switch(a){case"input":kr(h),Kl(h,g,!0);break;case"textarea":kr(h),ma(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Tu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[dr]=s,r[qa]=h,Xg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ea(a,h),a){case"dialog":Ye("cancel",r),Ye("close",r),d=h;break;case"iframe":case"object":case"embed":Ye("load",r),d=h;break;case"video":case"audio":for(d=0;d<Ba.length;d++)Ye(Ba[d],r);d=h;break;case"source":Ye("error",r),d=h;break;case"img":case"image":case"link":Ye("error",r),Ye("load",r),d=h;break;case"details":Ye("toggle",r),d=h;break;case"input":Hs(r,h),d=Yi(r,h),Ye("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ae({},h,{value:void 0}),Ye("invalid",r);break;case"textarea":Ks(r,h),d=pa(r,h),Ye("invalid",r);break;default:d=h}wa(a,d),I=d;for(g in I)if(I.hasOwnProperty(g)){var P=I[g];g==="style"?va(r,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&ga(r,P)):g==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&ai(r,P):typeof P=="number"&&ai(r,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Ye("scroll",r):P!=null&&ie(r,g,P,w))}switch(a){case"input":kr(r),Kl(r,h,!1);break;case"textarea":kr(r),ma(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Be(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?br(r,!!h.multiple,g,!1):h.defaultValue!=null&&br(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Tu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Zg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=ys(Qa.current),ys(pr.current),ku(s)){if(h=s.stateNode,a=s.memoizedProps,h[dr]=s,(g=h.nodeValue!==a)&&(r=fn,r!==null))switch(r.tag){case 3:Eu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Eu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[dr]=s,s.stateNode=h}return Ut(s),null;case 13:if(Xe(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&dn!==null&&s.mode&1&&!(s.flags&128))ng(),Co(),s.flags|=98560,g=!1;else if(g=ku(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[dr]=s}else Co(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ut(s),g=!1}else Hn!==null&&(Xf(Hn),Hn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||nt.current&1?_t===0&&(_t=3):ed())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return bo(),Uf(r,s),r===null&&za(s.stateNode.containerInfo),Ut(s),null;case 10:return pf(s.type._context),Ut(s),null;case 17:return Zt(s.type)&&Au(),Ut(s),null;case 19:if(Xe(nt),g=s.memoizedState,g===null)return Ut(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)el(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Vu(r),w!==null){for(s.flags|=128,el(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ge(nt,nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ke()>Vo&&(s.flags|=128,h=!0,el(g,!1),s.lanes=4194304)}else{if(!h)if(r=Vu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),el(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!et)return Ut(s),null}else 2*Ke()-g.renderingStartTime>Vo&&a!==1073741824&&(s.flags|=128,h=!0,el(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ke(),s.sibling=null,a=nt.current,Ge(nt,h?a&1|2:a&1),s):(Ut(s),null);case 22:case 23:return Zf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?pn&1073741824&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function wT(r,s){switch(lf(s),s.tag){case 1:return Zt(s.type)&&Au(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return bo(),Xe(Jt),Xe(Ft),Ef(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return _f(s),null;case 13:if(Xe(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Co()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Xe(nt),null;case 4:return bo(),null;case 10:return pf(s.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var qu=!1,Bt=!1,ET=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Do(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){st(r,s,h)}else a.current=null}function Bf(r,s,a){try{a()}catch(h){st(r,s,h)}}var ey=!1;function TT(r,s){if(Jh=mi,r=Om(),qh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,I=-1,P=-1,z=0,Y=0,J=r,Q=null;t:for(;;){for(var se;J!==a||d!==0&&J.nodeType!==3||(I=w+d),J!==g||h!==0&&J.nodeType!==3||(P=w+h),J.nodeType===3&&(w+=J.nodeValue.length),(se=J.firstChild)!==null;)Q=J,J=se;for(;;){if(J===r)break t;if(Q===a&&++z===d&&(I=w),Q===g&&++Y===h&&(P=w),(se=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=se}a=I===-1||P===-1?null:{start:I,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zh={focusedElem:r,selectionRange:a},mi=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,lt=ce.memoizedState,j=s.stateNode,O=j.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Wn(s.type,fe),lt);j.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){st(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=ey,ey=!1,ce}function tl(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&Bf(s,a,g)}d=d.next}while(d!==h)}}function Hu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function zf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function ty(r){var s=r.alternate;s!==null&&(r.alternate=null,ty(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[dr],delete s[qa],delete s[rf],delete s[iT],delete s[sT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ny(r){return r.tag===5||r.tag===3||r.tag===4}function ry(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ny(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $f(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Tu));else if(h!==4&&(r=r.child,r!==null))for($f(r,s,a),r=r.sibling;r!==null;)$f(r,s,a),r=r.sibling}function qf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(qf(r,s,a),r=r.sibling;r!==null;)qf(r,s,a),r=r.sibling}var xt=null,Kn=!1;function Ai(r,s,a){for(a=a.child;a!==null;)iy(r,s,a),a=a.sibling}function iy(r,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(ss,a)}catch{}switch(a.tag){case 5:Bt||Do(a,s);case 6:var h=xt,d=Kn;xt=null,Ai(r,s,a),xt=h,Kn=d,xt!==null&&(Kn?(r=xt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):xt.removeChild(a.stateNode));break;case 18:xt!==null&&(Kn?(r=xt,a=a.stateNode,r.nodeType===8?nf(r.parentNode,a):r.nodeType===1&&nf(r,a),zn(r)):nf(xt,a.stateNode));break;case 4:h=xt,d=Kn,xt=a.stateNode.containerInfo,Kn=!0,Ai(r,s,a),xt=h,Kn=d;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Bf(a,s,w),d=d.next}while(d!==h)}Ai(r,s,a);break;case 1:if(!Bt&&(Do(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(I){st(a,s,I)}Ai(r,s,a);break;case 21:Ai(r,s,a);break;case 22:a.mode&1?(Bt=(h=Bt)||a.memoizedState!==null,Ai(r,s,a),Bt=h):Ai(r,s,a);break;default:Ai(r,s,a)}}function sy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new ET),s.forEach(function(h){var d=bT.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Gn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var g=r,w=s,I=w;e:for(;I!==null;){switch(I.tag){case 5:xt=I.stateNode,Kn=!1;break e;case 3:xt=I.stateNode.containerInfo,Kn=!0;break e;case 4:xt=I.stateNode.containerInfo,Kn=!0;break e}I=I.return}if(xt===null)throw Error(t(160));iy(g,w,d),xt=null,Kn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(z){st(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)oy(s,r),s=s.sibling}function oy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Gn(s,r),gr(r),h&4){try{tl(3,r,r.return),Hu(3,r)}catch(fe){st(r,r.return,fe)}try{tl(5,r,r.return)}catch(fe){st(r,r.return,fe)}}break;case 1:Gn(s,r),gr(r),h&512&&a!==null&&Do(a,a.return);break;case 5:if(Gn(s,r),gr(r),h&512&&a!==null&&Do(a,a.return),r.flags&32){var d=r.stateNode;try{ai(d,"")}catch(fe){st(r,r.return,fe)}}if(h&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,I=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{I==="input"&&g.type==="radio"&&g.name!=null&&fa(d,g),Ea(I,w);var z=Ea(I,g);for(w=0;w<P.length;w+=2){var Y=P[w],J=P[w+1];Y==="style"?va(d,J):Y==="dangerouslySetInnerHTML"?ga(d,J):Y==="children"?ai(d,J):ie(d,Y,J,z)}switch(I){case"input":da(d,g);break;case"textarea":Gs(d,g);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?br(d,!!g.multiple,se,!1):Q!==!!g.multiple&&(g.defaultValue!=null?br(d,!!g.multiple,g.defaultValue,!0):br(d,!!g.multiple,g.multiple?[]:"",!1))}d[qa]=g}catch(fe){st(r,r.return,fe)}}break;case 6:if(Gn(s,r),gr(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(fe){st(r,r.return,fe)}}break;case 3:if(Gn(s,r),gr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{zn(s.containerInfo)}catch(fe){st(r,r.return,fe)}break;case 4:Gn(s,r),gr(r);break;case 13:Gn(s,r),gr(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Kf=Ke())),h&4&&sy(r);break;case 22:if(Y=a!==null&&a.memoizedState!==null,r.mode&1?(Bt=(z=Bt)||Y,Gn(s,r),Bt=z):Gn(s,r),gr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Y&&r.mode&1)for(ue=r,Y=r.child;Y!==null;){for(J=ue=Y;ue!==null;){switch(Q=ue,se=Q.child,Q.tag){case 0:case 11:case 14:case 15:tl(4,Q,Q.return);break;case 1:Do(Q,Q.return);var ce=Q.stateNode;if(typeof ce.componentWillUnmount=="function"){h=Q,a=Q.return;try{s=h,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(fe){st(h,a,fe)}}break;case 5:Do(Q,Q.return);break;case 22:if(Q.memoizedState!==null){uy(J);continue}}se!==null?(se.return=Q,ue=se):uy(J)}Y=Y.sibling}e:for(Y=null,J=r;;){if(J.tag===5){if(Y===null){Y=J;try{d=J.stateNode,z?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(I=J.stateNode,P=J.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=ya("display",w))}catch(fe){st(r,r.return,fe)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(fe){st(r,r.return,fe)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Gn(s,r),gr(r),h&4&&sy(r);break;case 21:break;default:Gn(s,r),gr(r)}}function gr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(ny(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(ai(d,""),h.flags&=-33);var g=ry(r);qf(r,g,d);break;case 3:case 4:var w=h.stateNode.containerInfo,I=ry(r);$f(r,I,w);break;default:throw Error(t(161))}}catch(P){st(r,r.return,P)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ST(r,s,a){ue=r,ay(r)}function ay(r,s,a){for(var h=(r.mode&1)!==0;ue!==null;){var d=ue,g=d.child;if(d.tag===22&&h){var w=d.memoizedState!==null||qu;if(!w){var I=d.alternate,P=I!==null&&I.memoizedState!==null||Bt;I=qu;var z=Bt;if(qu=w,(Bt=P)&&!z)for(ue=d;ue!==null;)w=ue,P=w.child,w.tag===22&&w.memoizedState!==null?cy(d):P!==null?(P.return=w,ue=P):cy(d);for(;g!==null;)ue=g,ay(g),g=g.sibling;ue=d,qu=I,Bt=z}ly(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ue=g):ly(r)}}function ly(r){for(;ue!==null;){var s=ue;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Bt||Hu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Bt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Wn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&ug(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ug(s,w,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&zn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&zf(s)}catch(Q){st(s,s.return,Q)}}if(s===r){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function uy(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function cy(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Hu(4,s)}catch(P){st(s,a,P)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(P){st(s,d,P)}}var g=s.return;try{zf(s)}catch(P){st(s,g,P)}break;case 5:var w=s.return;try{zf(s)}catch(P){st(s,w,P)}}}catch(P){st(s,s.return,P)}if(s===r){ue=null;break}var I=s.sibling;if(I!==null){I.return=s.return,ue=I;break}ue=s.return}}var AT=Math.ceil,Wu=oe.ReactCurrentDispatcher,Hf=oe.ReactCurrentOwner,Pn=oe.ReactCurrentBatchConfig,Le=0,It=null,ft=null,bt=0,pn=0,No=_i(0),_t=0,nl=null,_s=0,Ku=0,Wf=0,rl=null,tn=null,Kf=0,Vo=1/0,Wr=null,Gu=!1,Gf=null,Ii=null,Qu=!1,Ri=null,Yu=0,il=0,Qf=null,Xu=-1,Ju=0;function Gt(){return Le&6?Ke():Xu!==-1?Xu:Xu=Ke()}function Ci(r){return r.mode&1?Le&2&&bt!==0?bt&-bt:aT.transition!==null?(Ju===0&&(Ju=as()),Ju):(r=xe,r!==0||(r=window.event,r=r===void 0?16:Oa(r.type)),r):1}function Qn(r,s,a,h){if(50<il)throw il=0,Qf=null,Error(t(185));hi(r,a,h),(!(Le&2)||r!==It)&&(r===It&&(!(Le&2)&&(Ku|=a),_t===4&&Pi(r,bt)),nn(r,h),a===1&&Le===0&&!(s.mode&1)&&(Vo=Ke()+500,Ru&&Ei()))}function nn(r,s){var a=r.callbackNode;Nr(r,s);var h=os(r,r===It?bt:0);if(h===0)a!==null&&Ca(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Ca(a),s===1)r.tag===0?oT(fy.bind(null,r)):Xm(fy.bind(null,r)),nT(function(){!(Le&6)&&Ei()}),a=null;else{switch(di(h)){case 1:a=is;break;case 4:a=li;break;case 16:a=En;break;case 536870912:a=Jl;break;default:a=En}a=wy(a,hy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function hy(r,s){if(Xu=-1,Ju=0,Le&6)throw Error(t(327));var a=r.callbackNode;if(Lo()&&r.callbackNode!==a)return null;var h=os(r,r===It?bt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Zu(r,h);else{s=h;var d=Le;Le|=2;var g=py();(It!==r||bt!==s)&&(Wr=null,Vo=Ke()+500,Es(r,s));do try{CT();break}catch(I){dy(r,I)}while(!0);df(),Wu.current=g,Le=d,ft!==null?s=0:(It=null,bt=0,s=_t)}if(s!==0){if(s===2&&(d=un(r),d!==0&&(h=d,s=Yf(r,d))),s===1)throw a=nl,Es(r,0),Pi(r,h),nn(r,Ke()),a;if(s===6)Pi(r,h);else{if(d=r.current.alternate,!(h&30)&&!IT(d)&&(s=Zu(r,h),s===2&&(g=un(r),g!==0&&(h=g,s=Yf(r,g))),s===1))throw a=nl,Es(r,0),Pi(r,h),nn(r,Ke()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ts(r,tn,Wr);break;case 3:if(Pi(r,h),(h&130023424)===h&&(s=Kf+500-Ke(),10<s)){if(os(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Gt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=tf(Ts.bind(null,r,tn,Wr),s);break}Ts(r,tn,Wr);break;case 4:if(Pi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var w=31-Ht(h);g=1<<w,w=s[w],w>d&&(d=w),h&=~g}if(h=d,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*AT(h/1960))-h,10<h){r.timeoutHandle=tf(Ts.bind(null,r,tn,Wr),h);break}Ts(r,tn,Wr);break;case 5:Ts(r,tn,Wr);break;default:throw Error(t(329))}}}return nn(r,Ke()),r.callbackNode===a?hy.bind(null,r):null}function Yf(r,s){var a=rl;return r.current.memoizedState.isDehydrated&&(Es(r,s).flags|=256),r=Zu(r,s),r!==2&&(s=tn,tn=a,s!==null&&Xf(s)),r}function Xf(r){tn===null?tn=r:tn.push.apply(tn,r)}function IT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],g=d.getSnapshot;d=d.value;try{if(!qn(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Pi(r,s){for(s&=~Wf,s&=~Ku,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Ht(s),h=1<<a;r[a]=-1,s&=~h}}function fy(r){if(Le&6)throw Error(t(327));Lo();var s=os(r,0);if(!(s&1))return nn(r,Ke()),null;var a=Zu(r,s);if(r.tag!==0&&a===2){var h=un(r);h!==0&&(s=h,a=Yf(r,h))}if(a===1)throw a=nl,Es(r,0),Pi(r,s),nn(r,Ke()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ts(r,tn,Wr),nn(r,Ke()),null}function Jf(r,s){var a=Le;Le|=1;try{return r(s)}finally{Le=a,Le===0&&(Vo=Ke()+500,Ru&&Ei())}}function ws(r){Ri!==null&&Ri.tag===0&&!(Le&6)&&Lo();var s=Le;Le|=1;var a=Pn.transition,h=xe;try{if(Pn.transition=null,xe=1,r)return r()}finally{xe=h,Pn.transition=a,Le=s,!(Le&6)&&Ei()}}function Zf(){pn=No.current,Xe(No)}function Es(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,tT(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(lf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Au();break;case 3:bo(),Xe(Jt),Xe(Ft),Ef();break;case 5:_f(h);break;case 4:bo();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:pf(h.type._context);break;case 22:case 23:Zf()}a=a.return}if(It=r,ft=r=ki(r.current,null),bt=pn=s,_t=0,nl=null,Wf=Ku=_s=0,tn=rl=null,gs!==null){for(s=0;s<gs.length;s++)if(a=gs[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,h.next=w}a.pending=h}gs=null}return r}function dy(r,s){do{var a=ft;try{if(df(),Lu.current=Uu,Mu){for(var h=rt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Mu=!1}if(vs=0,At=vt=rt=null,Ya=!1,Xa=0,Hf.current=null,a===null||a.return===null){_t=1,nl=s,ft=null;break}e:{var g=r,w=a.return,I=a,P=s;if(s=bt,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,Y=I,J=Y.tag;if(!(Y.mode&1)&&(J===0||J===11||J===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=Fg(w);if(se!==null){se.flags&=-257,jg(se,w,I,g,s),se.mode&1&&Mg(g,z,s),s=se,P=z;var ce=s.updateQueue;if(ce===null){var fe=new Set;fe.add(P),s.updateQueue=fe}else ce.add(P);break e}else{if(!(s&1)){Mg(g,z,s),ed();break e}P=Error(t(426))}}else if(et&&I.mode&1){var lt=Fg(w);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),jg(lt,w,I,g,s),hf(Oo(P,I));break e}}g=P=Oo(P,I),_t!==4&&(_t=2),rl===null?rl=[g]:rl.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var j=Vg(g,P,s);lg(g,j);break e;case 1:I=P;var O=g.type,B=g.stateNode;if(!(g.flags&128)&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ii===null||!Ii.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var Z=Lg(g,I,s);lg(g,Z);break e}}g=g.return}while(g!==null)}gy(a)}catch(de){s=de,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function py(){var r=Wu.current;return Wu.current=Uu,r===null?Uu:r}function ed(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||!(_s&268435455)&&!(Ku&268435455)||Pi(It,bt)}function Zu(r,s){var a=Le;Le|=2;var h=py();(It!==r||bt!==s)&&(Wr=null,Es(r,s));do try{RT();break}catch(d){dy(r,d)}while(!0);if(df(),Le=a,Wu.current=h,ft!==null)throw Error(t(261));return It=null,bt=0,_t}function RT(){for(;ft!==null;)my(ft)}function CT(){for(;ft!==null&&!Yl();)my(ft)}function my(r){var s=_y(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?gy(r):ft=s,Hf.current=null}function gy(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=wT(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ft=null;return}}else if(a=_T(a,s,pn),a!==null){ft=a;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);_t===0&&(_t=5)}function Ts(r,s,a){var h=xe,d=Pn.transition;try{Pn.transition=null,xe=1,PT(r,s,a,h)}finally{Pn.transition=d,xe=h}return null}function PT(r,s,a,h){do Lo();while(Ri!==null);if(Le&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(He(r,g),r===It&&(ft=It=null,bt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Qu||(Qu=!0,wy(En,function(){return Lo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Pn.transition,Pn.transition=null;var w=xe;xe=1;var I=Le;Le|=4,Hf.current=null,TT(r,a),oy(a,r),GE(Zh),mi=!!Jh,Zh=Jh=null,r.current=a,ST(a),Lh(),Le=I,xe=w,Pn.transition=g}else r.current=a;if(Qu&&(Qu=!1,Ri=r,Yu=d),g=r.pendingLanes,g===0&&(Ii=null),Zl(a.stateNode),nn(r,Ke()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Gu)throw Gu=!1,r=Gf,Gf=null,r;return Yu&1&&r.tag!==0&&Lo(),g=r.pendingLanes,g&1?r===Qf?il++:(il=0,Qf=r):il=0,Ei(),null}function Lo(){if(Ri!==null){var r=di(Yu),s=Pn.transition,a=xe;try{if(Pn.transition=null,xe=16>r?16:r,Ri===null)var h=!1;else{if(r=Ri,Ri=null,Yu=0,Le&6)throw Error(t(331));var d=Le;for(Le|=4,ue=r.current;ue!==null;){var g=ue,w=g.child;if(ue.flags&16){var I=g.deletions;if(I!==null){for(var P=0;P<I.length;P++){var z=I[P];for(ue=z;ue!==null;){var Y=ue;switch(Y.tag){case 0:case 11:case 15:tl(8,Y,g)}var J=Y.child;if(J!==null)J.return=Y,ue=J;else for(;ue!==null;){Y=ue;var Q=Y.sibling,se=Y.return;if(ty(Y),Y===z){ue=null;break}if(Q!==null){Q.return=se,ue=Q;break}ue=se}}}var ce=g.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var lt=fe.sibling;fe.sibling=null,fe=lt}while(fe!==null)}}ue=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ue=w;else e:for(;ue!==null;){if(g=ue,g.flags&2048)switch(g.tag){case 0:case 11:case 15:tl(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,ue=j;break e}ue=g.return}}var O=r.current;for(ue=O;ue!==null;){w=ue;var B=w.child;if(w.subtreeFlags&2064&&B!==null)B.return=w,ue=B;else e:for(w=O;ue!==null;){if(I=ue,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Hu(9,I)}}catch(de){st(I,I.return,de)}if(I===w){ue=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,ue=Z;break e}ue=I.return}}if(Le=d,Ei(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(ss,r)}catch{}h=!0}return h}finally{xe=a,Pn.transition=s}}return!1}function yy(r,s,a){s=Oo(a,s),s=Vg(r,s,1),r=Si(r,s,1),s=Gt(),r!==null&&(hi(r,1,s),nn(r,s))}function st(r,s,a){if(r.tag===3)yy(r,r,a);else for(;s!==null;){if(s.tag===3){yy(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ii===null||!Ii.has(h))){r=Oo(a,r),r=Lg(s,r,1),s=Si(s,r,1),r=Gt(),s!==null&&(hi(s,1,r),nn(s,r));break}}s=s.return}}function kT(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Gt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(bt&a)===a&&(_t===4||_t===3&&(bt&130023424)===bt&&500>Ke()-Kf?Es(r,0):Wf|=a),nn(r,s)}function vy(r,s){s===0&&(r.mode&1?(s=io,io<<=1,!(io&130023424)&&(io=4194304)):s=1);var a=Gt();r=$r(r,s),r!==null&&(hi(r,s,a),nn(r,a))}function xT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),vy(r,a)}function bT(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),vy(r,a)}var _y;_y=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Jt.current)en=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return en=!1,vT(r,s,a);en=!!(r.flags&131072)}else en=!1,et&&s.flags&1048576&&Jm(s,Pu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;$u(r,s),r=s.pendingProps;var d=Ao(s,Ft.current);xo(s,a),d=Af(null,s,h,r,d,a);var g=If();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zt(h)?(g=!0,Iu(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,yf(s),d.updater=Bu,s.stateNode=d,d._reactInternals=s,bf(s,h,r,a),s=Vf(null,s,h,!0,g,a)):(s.tag=0,et&&g&&af(s),Kt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch($u(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=DT(h),r=Wn(h,r),d){case 0:s=Nf(null,s,h,r,a);break e;case 1:s=Hg(null,s,h,r,a);break e;case 11:s=Ug(null,s,h,r,a);break e;case 14:s=Bg(null,s,h,Wn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),Nf(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),Hg(r,s,h,d,a);case 3:e:{if(Wg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,d=g.element,ag(r,s),Nu(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=Oo(Error(t(423)),s),s=Kg(r,s,h,a,d);break e}else if(h!==d){d=Oo(Error(t(424)),s),s=Kg(r,s,h,a,d);break e}else for(dn=vi(s.stateNode.containerInfo.firstChild),fn=s,et=!0,Hn=null,a=sg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Co(),h===d){s=Hr(r,s,a);break e}Kt(r,s,h,a)}s=s.child}return s;case 5:return cg(s),r===null&&cf(s),h=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,w=d.children,ef(h,d)?w=null:g!==null&&ef(h,g)&&(s.flags|=32),qg(r,s),Kt(r,s,w,a),s.child;case 6:return r===null&&cf(s),null;case 13:return Gg(r,s,a);case 4:return vf(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Po(s,null,h,a):Kt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),Ug(r,s,h,d,a);case 7:return Kt(r,s,s.pendingProps,a),s.child;case 8:return Kt(r,s,s.pendingProps.children,a),s.child;case 12:return Kt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,g=s.memoizedProps,w=d.value,Ge(bu,h._currentValue),h._currentValue=w,g!==null)if(qn(g.value,w)){if(g.children===d.children&&!Jt.current){s=Hr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var I=g.dependencies;if(I!==null){w=g.child;for(var P=I.firstContext;P!==null;){if(P.context===h){if(g.tag===1){P=qr(-1,a&-a),P.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?P.next=P:(P.next=Y.next,Y.next=P),z.pending=P}}g.lanes|=a,P=g.alternate,P!==null&&(P.lanes|=a),mf(g.return,a,s),I.lanes|=a;break}P=P.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),mf(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Kt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,xo(s,a),d=Rn(d),h=h(d),s.flags|=1,Kt(r,s,h,a),s.child;case 14:return h=s.type,d=Wn(h,s.pendingProps),d=Wn(h.type,d),Bg(r,s,h,d,a);case 15:return zg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Wn(h,d),$u(r,s),s.tag=1,Zt(h)?(r=!0,Iu(s)):r=!1,xo(s,a),Dg(s,h,d),bf(s,h,d,a),Vf(null,s,h,!0,r,a);case 19:return Yg(r,s,a);case 22:return $g(r,s,a)}throw Error(t(156,s.tag))};function wy(r,s){return no(r,s)}function OT(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,a,h){return new OT(r,s,a,h)}function td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function DT(r){if(typeof r=="function")return td(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Lt)return 14}return 2}function ki(r,s){var a=r.alternate;return a===null?(a=kn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ec(r,s,a,h,d,g){var w=2;if(h=r,typeof r=="function")td(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case b:return Ss(a.children,d,g,s);case A:w=8,d|=8;break;case R:return r=kn(12,a,s,d|2),r.elementType=R,r.lanes=g,r;case C:return r=kn(13,a,s,d),r.elementType=C,r.lanes=g,r;case ot:return r=kn(19,a,s,d),r.elementType=ot,r.lanes=g,r;case qe:return tc(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:w=10;break e;case D:w=9;break e;case M:w=11;break e;case Lt:w=14;break e;case Mt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=kn(w,a,s,d),s.elementType=r,s.type=h,s.lanes=g,s}function Ss(r,s,a,h){return r=kn(7,r,h,s),r.lanes=a,r}function tc(r,s,a,h){return r=kn(22,r,h,s),r.elementType=qe,r.lanes=a,r.stateNode={isHidden:!1},r}function nd(r,s,a){return r=kn(6,r,null,s),r.lanes=a,r}function rd(r,s,a){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function NT(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function id(r,s,a,h,d,g,w,I,P){return r=new NT(r,s,a,I,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=kn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yf(g),r}function VT(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Ey(r){if(!r)return wi;r=r._reactInternals;e:{if(Mn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Zt(a))return Qm(r,a,s)}return s}function Ty(r,s,a,h,d,g,w,I,P){return r=id(a,h,!0,r,d,g,w,I,P),r.context=Ey(null),a=r.current,h=Gt(),d=Ci(a),g=qr(h,d),g.callback=s??null,Si(a,g,d),r.current.lanes=d,hi(r,d,h),nn(r,h),r}function nc(r,s,a,h){var d=s.current,g=Gt(),w=Ci(d);return a=Ey(a),s.context===null?s.context=a:s.pendingContext=a,s=qr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Si(d,s,w),r!==null&&(Qn(r,d,w,g),Du(r,d,w)),w}function rc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Sy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function sd(r,s){Sy(r,s),(r=r.alternate)&&Sy(r,s)}var Ay=typeof reportError=="function"?reportError:function(r){console.error(r)};function od(r){this._internalRoot=r}ic.prototype.render=od.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));nc(r,s,null,null)},ic.prototype.unmount=od.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ws(function(){nc(null,r,null,null)}),s[jr]=null}};function ic(r){this._internalRoot=r}ic.prototype.unstable_scheduleHydration=function(r){if(r){var s=iu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ur.length&&s!==0&&s<ur[a].priority;a++);ur.splice(a,0,r),a===0&&au(r)}};function ad(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function sc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function LT(r,s,a,h,d){if(d){if(typeof h=="function"){var g=h;h=function(){var z=rc(w);g.call(z)}}var w=Ty(s,h,r,0,null,!1,!1,"",Iy);return r._reactRootContainer=w,r[jr]=w.current,za(r.nodeType===8?r.parentNode:r),ws(),w}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var I=h;h=function(){var z=rc(P);I.call(z)}}var P=id(r,0,!1,null,null,!1,!1,"",Iy);return r._reactRootContainer=P,r[jr]=P.current,za(r.nodeType===8?r.parentNode:r),ws(function(){nc(s,P,a,h)}),P}function oc(r,s,a,h,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var I=d;d=function(){var P=rc(w);I.call(P)}}nc(s,w,r,d)}else w=LT(a,s,r,d,h);return rc(w)}nu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ui(s.pendingLanes);a!==0&&(fi(s,a|1),nn(s,Ke()),!(Le&6)&&(Vo=Ke()+500,Ei()))}break;case 13:ws(function(){var h=$r(r,1);if(h!==null){var d=Gt();Qn(h,r,1,d)}}),sd(r,1)}},so=function(r){if(r.tag===13){var s=$r(r,134217728);if(s!==null){var a=Gt();Qn(s,r,134217728,a)}sd(r,134217728)}},ru=function(r){if(r.tag===13){var s=Ci(r),a=$r(r,s);if(a!==null){var h=Gt();Qn(a,r,s,h)}sd(r,s)}},iu=function(){return xe},su=function(r,s){var a=xe;try{return xe=r,s()}finally{xe=a}},Ys=function(r,s,a){switch(s){case"input":if(da(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=Su(h);if(!d)throw Error(t(90));qs(h),da(h,d)}}}break;case"textarea":Gs(r,a);break;case"select":s=a.value,s!=null&&br(r,!!a.multiple,s,!1)}},es=Jf,Sa=ws;var MT={usingClientEntryPoint:!1,Events:[Ha,To,Su,ar,Ta,Jf]},sl={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ra(r),r===null?null:r.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{ss=ac.inject(FT),ln=ac}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT,rn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(s))throw Error(t(200));return VT(r,s,null,a)},rn.createRoot=function(r,s){if(!ad(r))throw Error(t(299));var a=!1,h="",d=Ay;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=id(r,1,!1,null,null,a,!1,h,d),r[jr]=s.current,za(r.nodeType===8?r.parentNode:r),new od(s)},rn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ra(s),r=r===null?null:r.stateNode,r},rn.flushSync=function(r){return ws(r)},rn.hydrate=function(r,s,a){if(!sc(s))throw Error(t(200));return oc(null,r,s,!0,a)},rn.hydrateRoot=function(r,s,a){if(!ad(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,g="",w=Ay;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Ty(s,null,r,1,a??null,d,!1,g,w),r[jr]=s.current,za(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new ic(s)},rn.render=function(r,s,a){if(!sc(s))throw Error(t(200));return oc(null,r,s,!1,a)},rn.unmountComponentAtNode=function(r){if(!sc(r))throw Error(t(40));return r._reactRootContainer?(ws(function(){oc(null,null,r,!1,function(){r._reactRootContainer=null,r[jr]=null})}),!0):!1},rn.unstable_batchedUpdates=Jf,rn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!sc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return oc(r,s,a,!1,h)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var Ny;function T_(){if(Ny)return cd.exports;Ny=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cd.exports=GT(),cd.exports}var Vy;function QT(){if(Vy)return lc;Vy=1;var n=T_();return lc.createRoot=n.createRoot,lc.hydrateRoot=n.hydrateRoot,lc}var YT=QT(),al={},Ly;function XT(){if(Ly)return al;Ly=1,Object.defineProperty(al,"__esModule",{value:!0}),al.parse=c,al.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,k){const N=new l,U=S.length;if(U<2)return N;const V=(k==null?void 0:k.decode)||_;let H=0;do{const X=S.indexOf("=",H);if(X===-1)break;const ie=S.indexOf(";",H),oe=ie===-1?U:ie;if(X>oe){H=S.lastIndexOf(";",X-1)+1;continue}const Ae=f(S,H,X),_e=p(S,X,Ae),b=S.slice(Ae,_e);if(N[b]===void 0){let A=f(S,X+1,oe),R=p(S,oe,A);const x=V(S.slice(A,R));N[b]=x}H=oe+1}while(H<U);return N}function f(S,k,N){do{const U=S.charCodeAt(k);if(U!==32&&U!==9)return k}while(++k<N);return N}function p(S,k,N){for(;k>N;){const U=S.charCodeAt(--k);if(U!==32&&U!==9)return k+1}return N}function y(S,k,N){const U=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const V=U(k);if(!e.test(V))throw new TypeError(`argument val is invalid: ${k}`);let H=S+"="+V;if(!N)return H;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);H+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);H+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);H+="; Path="+N.path}if(N.expires){if(!T(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);H+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(H+="; HttpOnly"),N.secure&&(H+="; Secure"),N.partitioned&&(H+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return H}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return al}XT();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var My="popstate";function JT(n={}){function e(i,o){let{pathname:l,search:c,hash:f}=i.location;return Nd("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:El(o)}return e1(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZT(){return Math.random().toString(36).substring(2,10)}function Fy(n,e){return{usr:n.state,key:n.key,idx:e}}function Nd(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:t,key:e&&e.key||i||ZT()}}function El({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function e1(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,f="POP",p=null,y=_();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function _(){return(c.state||{idx:null}).idx}function T(){f="POP";let V=_(),H=V==null?null:V-y;y=V,p&&p({action:f,location:U.location,delta:H})}function S(V,H){f="PUSH";let X=Nd(U.location,V,H);y=_()+1;let ie=Fy(X,y),oe=U.createHref(X);try{c.pushState(ie,"",oe)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(oe)}l&&p&&p({action:f,location:U.location,delta:1})}function k(V,H){f="REPLACE";let X=Nd(U.location,V,H);y=_();let ie=Fy(X,y),oe=U.createHref(X);c.replaceState(ie,"",oe),l&&p&&p({action:f,location:U.location,delta:0})}function N(V){let H=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof V=="string"?V:El(V);return X=X.replace(/ $/,"%20"),tt(H,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,H)}let U={get action(){return f},get location(){return n(o,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(My,T),p=V,()=>{o.removeEventListener(My,T),p=null}},createHref(V){return e(o,V)},createURL:N,encodeLocation(V){let H=N(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:S,replace:k,go(V){return c.go(V)}};return U}function S_(n,e,t="/"){return t1(n,e,t,!1)}function t1(n,e,t,i){let o=typeof e=="string"?na(e):e,l=Mi(o.pathname||"/",t);if(l==null)return null;let c=A_(n);n1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let y=d1(l);f=h1(c[p],y,i)}return f}function A_(n,e=[],t=[],i=""){let o=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Qr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),A_(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:u1(y,l.index),routesMeta:_})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let p of I_(l.path))o(l,c,p)}),e}function I_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=I_(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function n1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:c1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var r1=/^:[\w-]+$/,i1=3,s1=2,o1=1,a1=10,l1=-2,jy=n=>n==="*";function u1(n,e){let t=n.split("/"),i=t.length;return t.some(jy)&&(i+=l1),e&&(i+=s1),t.filter(o=>!jy(o)).reduce((o,l)=>o+(r1.test(l)?i1:l===""?o1:a1),i)}function c1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function h1(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),S=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Qr([l,T.pathname]),pathnameBase:y1(Qr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Qr([l,T.pathnameBase]))}return c}function bc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=f1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:T},S)=>{if(_==="*"){let N=f[S]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const k=f[S];return T&&!k?y[_]=void 0:y[_]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function f1(n,e=!1,t=!0){Zn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function d1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Mi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function p1(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?na(n):n;return{pathname:t?t.startsWith("/")?t:m1(t,e):e,search:v1(i),hash:_1(o)}}function m1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function dd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vp(n){let e=g1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function _p(n,e,t,i=!1){let o;typeof n=="string"?o=na(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),dd("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),dd("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),dd("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}f=T>=0?e[T]:"/"}let p=p1(o,f),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Qr=n=>n.join("/").replace(/\/\/+/g,"/"),y1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function w1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var R_=["POST","PUT","PATCH","DELETE"];new Set(R_);var E1=["GET",...R_];new Set(E1);var ra=$.createContext(null);ra.displayName="DataRouter";var nh=$.createContext(null);nh.displayName="DataRouterState";var C_=$.createContext({isTransitioning:!1});C_.displayName="ViewTransition";var T1=$.createContext(new Map);T1.displayName="Fetchers";var S1=$.createContext(null);S1.displayName="Await";var rr=$.createContext(null);rr.displayName="Navigation";var Ol=$.createContext(null);Ol.displayName="Location";var ir=$.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var wp=$.createContext(null);wp.displayName="RouteError";function A1(n,{relative:e}={}){tt(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=$.useContext(rr),{hash:o,pathname:l,search:c}=Dl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Qr([t,l])),i.createHref({pathname:f,search:c,hash:o})}function ia(){return $.useContext(Ol)!=null}function qi(){return tt(ia(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Ol).location}var P_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k_(n){$.useContext(rr).static||$.useLayoutEffect(n)}function Ep(){let{isDataRoute:n}=$.useContext(ir);return n?F1():I1()}function I1(){tt(ia(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(ra),{basename:e,navigator:t}=$.useContext(rr),{matches:i}=$.useContext(ir),{pathname:o}=qi(),l=JSON.stringify(vp(i)),c=$.useRef(!1);return k_(()=>{c.current=!0}),$.useCallback((p,y={})=>{if(Zn(c.current,P_),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=_p(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Qr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}$.createContext(null);function R1(){let{matches:n}=$.useContext(ir),e=n[n.length-1];return e?e.params:{}}function Dl(n,{relative:e}={}){let{matches:t}=$.useContext(ir),{pathname:i}=qi(),o=JSON.stringify(vp(t));return $.useMemo(()=>_p(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function C1(n,e){return x_(n,e)}function x_(n,e,t,i){var H;tt(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(rr),{matches:l}=$.useContext(ir),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",_=c&&c.route;{let X=_&&_.path||"";b_(p,!_||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let T=qi(),S;if(e){let X=typeof e=="string"?na(e):e;tt(y==="/"||((H=X.pathname)==null?void 0:H.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=T;let k=S.pathname||"/",N=k;if(y!=="/"){let X=y.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=S_(n,{pathname:N});Zn(_||U!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Zn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=O1(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},f,X.params),pathname:Qr([y,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:Qr([y,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),l,t,i);return e&&V?$.createElement(Ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function P1(){let n=M1(),e=w1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,c)}var k1=$.createElement(P1,null),x1=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(ir.Provider,{value:this.props.routeContext},$.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b1({routeContext:n,match:e,children:t}){let i=$.useContext(ra);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ir.Provider,{value:n},t)}function O1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:T}=t,S=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let T,S=!1,k=null,N=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,k=y.route.errorElement||k1,c&&(f<0&&_===0?(b_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):f===_&&(S=!0,N=y.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),V=()=>{let H;return T?H=k:S?H=N:y.route.Component?H=$.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,$.createElement(b1,{match:y,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?$.createElement(x1,{location:t.location,revalidation:t.revalidation,component:k,error:T,children:V(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):V()},null)}function Tp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(n){let e=$.useContext(ra);return tt(e,Tp(n)),e}function N1(n){let e=$.useContext(nh);return tt(e,Tp(n)),e}function V1(n){let e=$.useContext(ir);return tt(e,Tp(n)),e}function Sp(n){let e=V1(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function L1(){return Sp("useRouteId")}function M1(){var i;let n=$.useContext(wp),e=N1("useRouteError"),t=Sp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function F1(){let{router:n}=D1("useNavigate"),e=Sp("useNavigate"),t=$.useRef(!1);return k_(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{Zn(t.current,P_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var Uy={};function b_(n,e,t){!e&&!Uy[n]&&(Uy[n]=!0,Zn(!1,t))}$.memo(j1);function j1({routes:n,future:e,state:t}){return x_(n,void 0,t,e)}function U1({to:n,replace:e,state:t,relative:i}){tt(ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(rr);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=$.useContext(ir),{pathname:c}=qi(),f=Ep(),p=_p(n,vp(l),c,i==="path"),y=JSON.stringify(p);return $.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:i})},[f,y,i,e,t]),null}function _c(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){tt(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=$.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=na(t));let{pathname:p="/",search:y="",hash:_="",state:T=null,key:S="default"}=t,k=$.useMemo(()=>{let N=Mi(p,c);return N==null?null:{location:{pathname:N,search:y,hash:_,state:T,key:S},navigationType:i}},[c,p,y,_,T,S,i]);return Zn(k!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:$.createElement(rr.Provider,{value:f},$.createElement(Ol.Provider,{children:e,value:k}))}function z1({children:n,location:e}){return C1(Vd(n),e)}function Vd(n,e=[]){let t=[];return $.Children.forEach(n,(i,o)=>{if(!$.isValidElement(i))return;let l=[...e,o];if(i.type===$.Fragment){t.push.apply(t,Vd(i.props.children,l));return}tt(i.type===_c,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Vd(i.props.children,l)),t.push(c)}),t}var wc="get",Ec="application/x-www-form-urlencoded";function rh(n){return n!=null&&typeof n.tagName=="string"}function $1(n){return rh(n)&&n.tagName.toLowerCase()==="button"}function q1(n){return rh(n)&&n.tagName.toLowerCase()==="form"}function H1(n){return rh(n)&&n.tagName.toLowerCase()==="input"}function W1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function K1(n,e){return n.button===0&&(!e||e==="_self")&&!W1(n)}var uc=null;function G1(){if(uc===null)try{new FormData(document.createElement("form"),0),uc=!1}catch{uc=!0}return uc}var Q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pd(n){return n!=null&&!Q1.has(n)?(Zn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):n}function Y1(n,e){let t,i,o,l,c;if(q1(n)){let f=n.getAttribute("action");i=f?Mi(f,e):null,t=n.getAttribute("method")||wc,o=pd(n.getAttribute("enctype"))||Ec,l=new FormData(n)}else if($1(n)||H1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Mi(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||wc,o=pd(n.getAttribute("formenctype"))||pd(f.getAttribute("enctype"))||Ec,l=new FormData(f,n),!G1()){let{name:y,type:_,value:T}=n;if(_==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,T)}}else{if(rh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wc,i=null,o=Ec,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Ap(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function X1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Z1(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await X1(l,t);return c.links?c.links():[]}return[]}));return rS(i.flat(1).filter(J1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function By(n,e,t,i,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>c(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function eS(n,e){return tS(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function tS(n){return[...new Set(n)]}function nS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function rS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(nS(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function iS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sS(){let n=$.useContext(ra);return Ap(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oS(){let n=$.useContext(nh);return Ap(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ip=$.createContext(void 0);Ip.displayName="FrameworkContext";function O_(){let n=$.useContext(Ip);return Ap(n,"You must render this element inside a <HydratedRouter> element"),n}function aS(n,e){let t=$.useContext(Ip),[i,o]=$.useState(!1),[l,c]=$.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:T}=e,S=$.useRef(null);$.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let U=H=>{H.forEach(X=>{c(X.isIntersecting)})},V=new IntersectionObserver(U,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[n]),$.useEffect(()=>{if(i){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[i]);let k=()=>{o(!0)},N=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:ll(f,k),onBlur:ll(p,N),onMouseEnter:ll(y,k),onMouseLeave:ll(_,N),onTouchStart:ll(T,k)}]:[!1,S,{}]}function ll(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lS({page:n,...e}){let{router:t}=sS(),i=$.useMemo(()=>S_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?$.createElement(cS,{page:n,matches:i,...e}):null}function uS(n){let{manifest:e,routeModules:t}=O_(),[i,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return Z1(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function cS({page:n,matches:e,...t}){let i=qi(),{manifest:o,routeModules:l}=O_(),{loaderData:c,matches:f}=oS(),p=$.useMemo(()=>By(n,e,f,o,i,"data"),[n,e,f,o,i]),y=$.useMemo(()=>By(n,e,f,o,i,"assets"),[n,e,f,o,i]),_=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,N=!1;if(e.forEach(V=>{var X;let H=o.routes[V.route.id];!H||!H.hasLoader||(!p.some(ie=>ie.route.id===V.route.id)&&V.route.id in c&&((X=l[V.route.id])!=null&&X.shouldRevalidate)||H.hasClientLoader?N=!0:k.add(V.route.id))}),k.size===0)return[];let U=iS(n);return N&&k.size>0&&U.searchParams.set("_routes",e.filter(V=>k.has(V.route.id)).map(V=>V.route.id).join(",")),[U.pathname+U.search]},[c,i,o,p,e,n,l]),T=$.useMemo(()=>eS(y,o),[y,o]),S=uS(y);return $.createElement($.Fragment,null,_.map(k=>$.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),T.map(k=>$.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),S.map(({key:k,link:N})=>$.createElement("link",{key:k,...N})))}function hS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D_&&(window.__reactRouterVersion="7.1.1")}catch{}function fS({basename:n,children:e,window:t}){let i=$.useRef();i.current==null&&(i.current=JT({window:t,v5Compat:!0}));let o=i.current,[l,c]=$.useState({action:o.action,location:o.location}),f=$.useCallback(p=>{$.startTransition(()=>c(p))},[c]);return $.useLayoutEffect(()=>o.listen(f),[o,f]),$.createElement(B1,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var N_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V_=$.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:f,target:p,to:y,preventScrollReset:_,viewTransition:T,...S},k){let{basename:N}=$.useContext(rr),U=typeof y=="string"&&N_.test(y),V,H=!1;if(typeof y=="string"&&U&&(V=y,D_))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),D=Mi(x.pathname,N);x.origin===R.origin&&D!=null?y=D+x.search+x.hash:H=!0}catch{Zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=A1(y,{relative:o}),[ie,oe,Ae]=aS(i,S),_e=mS(y,{replace:c,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:T});function b(R){e&&e(R),R.defaultPrevented||_e(R)}let A=$.createElement("a",{...S,...Ae,href:V||X,onClick:H||l?e:b,ref:hS(k,oe),target:p,"data-discover":!U&&t==="render"?"true":void 0});return ie&&!U?$.createElement($.Fragment,null,A,$.createElement(lS,{page:X})):A});V_.displayName="Link";var L_=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:f,children:p,...y},_){let T=Dl(c,{relative:y.relative}),S=qi(),k=$.useContext(nh),{navigator:N,basename:U}=$.useContext(rr),V=k!=null&&wS(T)&&f===!0,H=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,X=S.pathname,ie=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(X=X.toLowerCase(),ie=ie?ie.toLowerCase():null,H=H.toLowerCase()),ie&&U&&(ie=Mi(ie,U)||ie);const oe=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Ae=X===H||!o&&X.startsWith(H)&&X.charAt(oe)==="/",_e=ie!=null&&(ie===H||!o&&ie.startsWith(H)&&ie.charAt(H.length)==="/"),b={isActive:Ae,isPending:_e,isTransitioning:V},A=Ae?e:void 0,R;typeof i=="function"?R=i(b):R=[i,Ae?"active":null,_e?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(b):l;return $.createElement(V_,{...y,"aria-current":A,className:R,ref:_,style:x,to:c,viewTransition:f},typeof p=="function"?p(b):p)});L_.displayName="NavLink";var dS=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=wc,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:T,...S},k)=>{let N=vS(),U=_S(f,{relative:y}),V=c.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&N_.test(f),X=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let oe=ie.nativeEvent.submitter,Ae=(oe==null?void 0:oe.getAttribute("formmethod"))||c;N(oe||ie.currentTarget,{fetcherKey:e,method:Ae,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:T})};return $.createElement("form",{ref:k,method:V,action:U,onSubmit:i?p:X,...S,"data-discover":!H&&n==="render"?"true":void 0})});dS.displayName="Form";function pS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M_(n){let e=$.useContext(ra);return tt(e,pS(n)),e}function mS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let f=Ep(),p=qi(),y=Dl(n,{relative:l});return $.useCallback(_=>{if(K1(_,e)){_.preventDefault();let T=t!==void 0?t:El(p)===El(y);f(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,f,y,t,i,e,n,o,l,c])}var gS=0,yS=()=>`__${String(++gS)}__`;function vS(){let{router:n}=M_("useSubmit"),{basename:e}=$.useContext(rr),t=L1();return $.useCallback(async(i,o={})=>{let{action:l,method:c,encType:f,formData:p,body:y}=Y1(i,e);if(o.navigate===!1){let _=o.fetcherKey||yS();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function _S(n,{relative:e}={}){let{basename:t}=$.useContext(rr),i=$.useContext(ir);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Dl(n||".",{relative:e})},c=qi();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Qr([t,l.pathname])),El(l)}function wS(n,e={}){let t=$.useContext(C_);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=M_("useViewTransitionState"),o=Dl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Mi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Mi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return bc(o.pathname,c)!=null||bc(o.pathname,l)!=null}new TextEncoder;function Me(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var ES={};function ih(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:ES}var F_=Object.assign,Oc=Object.getOwnPropertyDescriptor,wr=Object.defineProperty,sh=Object.prototype,Ld=[];Object.freeze(Ld);var j_={};Object.freeze(j_);var TS=typeof Proxy<"u",SS=Object.toString();function U_(){TS||Me("Proxy not available")}function B_(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var zo=function(){};function er(n){return typeof n=="function"}function ks(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function oh(n){return n!==null&&typeof n=="object"}function Zr(n){if(!oh(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===SS}function z_(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Nl(n,e,t){wr(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function $_(n,e,t){wr(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function Ms(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(i){return oh(i)&&i[t]===!0}}function sa(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function AS(n){var e=Object.getPrototypeOf(n),t=Object.getPrototypeOf(e),i=Object.getPrototypeOf(t);return i===null}function Kr(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var q_=typeof Object.getOwnPropertySymbols<"u";function IS(n){var e=Object.keys(n);if(!q_)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(i){return sh.propertyIsEnumerable.call(n,i)})):e}var Wo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:q_?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function H_(n){return n===null?null:typeof n=="object"?""+n:n}function Yr(n,e){return sh.hasOwnProperty.call(n,e)}var RS=Object.getOwnPropertyDescriptors||function(e){var t={};return Wo(e).forEach(function(i){t[i]=Oc(e,i)}),t};function mn(n,e){return!!(n&e)}function gn(n,e,t){return t?n|=e:n&=~e,n}function zy(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function CS(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,kS(i.key),i)}}function oa(n,e,t){return e&&CS(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function $o(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=xS(n))||e){t&&(n=t);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xs(){return xs=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xs.apply(null,arguments)}function W_(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Md(n,e)}function Md(n,e){return Md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Md(n,e)}function PS(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function kS(n){var e=PS(n,"string");return typeof e=="symbol"?e:e+""}function xS(n,e){if(n){if(typeof n=="string")return zy(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zy(n,e):void 0}}var _r=Symbol("mobx-stored-annotations");function Er(n){function e(t,i){if(Ll(i))return n.decorate_20223_(t,i);Vl(t,i,n)}return Object.assign(e,n)}function Vl(n,e,t){Yr(n,_r)||Nl(n,_r,xs({},n[_r])),jS(t)||(n[_r][e]=t)}function bS(n){return Yr(n,_r)||Nl(n,_r,xs({},n[_r])),n[_r]}function Ll(n){return typeof n=="object"&&typeof n.kind=="string"}var we=Symbol("mobx administration"),Hi=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=je.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return u0(this)},e.reportChanged=function(){On(),c0(this),Dn()},e.toString=function(){return this.name_},oa(n,[{key:"isBeingObserved",get:function(){return mn(this.flags_,n.isBeingObservedMask_)},set:function(i){this.flags_=gn(this.flags_,n.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return mn(this.flags_,n.isPendingUnobservationMask_)},set:function(i){this.flags_=gn(this.flags_,n.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return mn(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=gn(this.flags_,n.diffValueMask_,i===1)}}])}();Hi.isBeingObservedMask_=1;Hi.isPendingUnobservationMask_=2;Hi.diffValueMask_=4;var Rp=Ms("Atom",Hi);function K_(n,e,t){e===void 0&&(e=zo),t===void 0&&(t=zo);var i=new Hi(n);return e!==zo&&BA(i,e),t!==zo&&g0(i,t),i}function OS(n,e){return n===e}function DS(n,e){return Dp(n,e)}function NS(n,e){return Dp(n,e,1)}function VS(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Dc={identity:OS,structural:DS,default:VS,shallow:NS};function bs(n,e,t){return E0(n)?n:Array.isArray(n)?Dt.array(n,{name:t}):Zr(n)?Dt.object(n,void 0,{name:t}):sa(n)?Dt.map(n,{name:t}):Kr(n)?Dt.set(n,{name:t}):typeof n=="function"&&!Sl(n)&&!Al(n)?z_(n)?Ko(n):Tl(t,n):n}function LS(n,e,t){if(n==null||fh(n)||hh(n)||js(n)||vr(n))return n;if(Array.isArray(n))return Dt.array(n,{name:t,deep:!1});if(Zr(n))return Dt.object(n,void 0,{name:t,deep:!1});if(sa(n))return Dt.map(n,{name:t,deep:!1});if(Kr(n))return Dt.set(n,{name:t,deep:!1})}function ah(n){return n}function MS(n,e){return Dp(n,e)?e:n}var FS="override";function jS(n){return n.annotationType_===FS}function Ml(n,e){return{annotationType_:n,options_:e,make_:US,extend_:BS,decorate_20223_:zS}}function US(n,e,t,i){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(n,e,t,!1)===null?0:1;if(i===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(Sl(t.value))return 1;var l=G_(n,this,e,t,!1);return wr(i,e,l),2}function BS(n,e,t,i){var o=G_(n,this,e,t);return n.defineProperty_(e,o,i)}function zS(n,e){var t=e.kind,i=e.name,o=e.addInitializer,l=this,c=function(y){var _,T,S,k;return Os((_=(T=l.options_)==null?void 0:T.name)!=null?_:i.toString(),y,(S=(k=l.options_)==null?void 0:k.autoAction)!=null?S:!1)};if(t=="field")return function(p){var y,_=p;return Sl(_)||(_=c(_)),(y=l.options_)!=null&&y.bound&&(_=_.bind(this),_.isMobxAction=!0),_};if(t=="method"){var f;return Sl(n)||(n=c(n)),(f=this.options_)!=null&&f.bound&&o(function(){var p=this,y=p[i].bind(p);y.isMobxAction=!0,p[i]=y}),n}Me("Cannot apply '"+l.annotationType_+"' to '"+String(i)+"' (kind: "+t+"):"+(`
'`+l.annotationType_+"' can only be used on properties with a function value."))}function $S(n,e,t,i){e.annotationType_,i.value}function G_(n,e,t,i,o){var l,c,f,p,y,_,T;o===void 0&&(o=re.safeDescriptors),$S(n,e,t,i);var S=i.value;if((l=e.options_)!=null&&l.bound){var k;S=S.bind((k=n.proxy_)!=null?k:n.target_)}return{value:Os((c=(f=e.options_)==null?void 0:f.name)!=null?c:t.toString(),S,(p=(y=e.options_)==null?void 0:y.autoAction)!=null?p:!1,(_=e.options_)!=null&&_.bound?(T=n.proxy_)!=null?T:n.target_:void 0),configurable:o?n.isPlainObject_:!0,enumerable:!1,writable:!o}}function Q_(n,e){return{annotationType_:n,options_:e,make_:qS,extend_:HS,decorate_20223_:WS}}function qS(n,e,t,i){var o;if(i===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Yr(n.target_,e)||!Al(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(Al(t.value))return 1;var l=Y_(n,this,e,t,!1,!1);return wr(i,e,l),2}function HS(n,e,t,i){var o,l=Y_(n,this,e,t,(o=this.options_)==null?void 0:o.bound);return n.defineProperty_(e,l,i)}function WS(n,e){var t,i=e.name,o=e.addInitializer;return Al(n)||(n=Ko(n)),(t=this.options_)!=null&&t.bound&&o(function(){var l=this,c=l[i].bind(l);c.isMobXFlow=!0,l[i]=c}),n}function KS(n,e,t,i){e.annotationType_,i.value}function Y_(n,e,t,i,o,l){l===void 0&&(l=re.safeDescriptors),KS(n,e,t,i);var c=i.value;if(Al(c)||(c=Ko(c)),o){var f;c=c.bind((f=n.proxy_)!=null?f:n.target_),c.isMobXFlow=!0}return{value:c,configurable:l?n.isPlainObject_:!0,enumerable:!1,writable:!l}}function Cp(n,e){return{annotationType_:n,options_:e,make_:GS,extend_:QS,decorate_20223_:YS}}function GS(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function QS(n,e,t,i){return XS(n,this,e,t),n.defineComputedProperty_(e,xs({},this.options_,{get:t.get,set:t.set}),i)}function YS(n,e){var t=this,i=e.name,o=e.addInitializer;return o(function(){var l=Us(this)[we],c=xs({},t.options_,{get:n,context:this});c.name||(c.name="ObservableObject."+i.toString()),l.values_.set(i,new tr(c))}),function(){return this[we].getObservablePropValue_(i)}}function XS(n,e,t,i){e.annotationType_,i.get}function lh(n,e){return{annotationType_:n,options_:e,make_:JS,extend_:ZS,decorate_20223_:eA}}function JS(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function ZS(n,e,t,i){var o,l;return tA(n,this),n.defineObservableProperty_(e,t.value,(o=(l=this.options_)==null?void 0:l.enhancer)!=null?o:bs,i)}function eA(n,e){var t=this,i=e.kind,o=e.name,l=new WeakSet;function c(f,p){var y,_,T=Us(f)[we],S=new Cs(p,(y=(_=t.options_)==null?void 0:_.enhancer)!=null?y:bs,"ObservableObject."+o.toString(),!1);T.values_.set(o,S),l.add(f)}if(i=="accessor")return{get:function(){return l.has(this)||c(this,n.get.call(this)),this[we].getObservablePropValue_(o)},set:function(p){return l.has(this)||c(this,p),this[we].setObservablePropValue_(o,p)},init:function(p){return l.has(this)||c(this,p),p}}}function tA(n,e,t,i){e.annotationType_}var nA="true",rA=X_();function X_(n){return{annotationType_:nA,options_:n,make_:iA,extend_:sA,decorate_20223_:oA}}function iA(n,e,t,i){var o,l;if(t.get)return uh.make_(n,e,t,i);if(t.set){var c=Os(e.toString(),t.set);return i===n.target_?n.defineProperty_(e,{configurable:re.safeDescriptors?n.isPlainObject_:!0,set:c})===null?0:2:(wr(i,e,{configurable:!0,set:c}),2)}if(i!==n.target_&&typeof t.value=="function"){var f;if(z_(t.value)){var p,y=(p=this.options_)!=null&&p.autoBind?Ko.bound:Ko;return y.make_(n,e,t,i)}var _=(f=this.options_)!=null&&f.autoBind?Tl.bound:Tl;return _.make_(n,e,t,i)}var T=((o=this.options_)==null?void 0:o.deep)===!1?Dt.ref:Dt;if(typeof t.value=="function"&&(l=this.options_)!=null&&l.autoBind){var S;t.value=t.value.bind((S=n.proxy_)!=null?S:n.target_)}return T.make_(n,e,t,i)}function sA(n,e,t,i){var o,l;if(t.get)return uh.extend_(n,e,t,i);if(t.set)return n.defineProperty_(e,{configurable:re.safeDescriptors?n.isPlainObject_:!0,set:Os(e.toString(),t.set)},i);if(typeof t.value=="function"&&(o=this.options_)!=null&&o.autoBind){var c;t.value=t.value.bind((c=n.proxy_)!=null?c:n.target_)}var f=((l=this.options_)==null?void 0:l.deep)===!1?Dt.ref:Dt;return f.extend_(n,e,t,i)}function oA(n,e){Me("'"+this.annotationType_+"' cannot be used as a decorator")}var aA="observable",lA="observable.ref",uA="observable.shallow",cA="observable.struct",J_={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(J_);function cc(n){return n||J_}var Fd=lh(aA),hA=lh(lA,{enhancer:ah}),fA=lh(uA,{enhancer:LS}),dA=lh(cA,{enhancer:MS}),Z_=Er(Fd);function hc(n){return n.deep===!0?bs:n.deep===!1?ah:mA(n.defaultDecorator)}function pA(n){var e;return n?(e=n.defaultDecorator)!=null?e:X_(n):void 0}function mA(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:bs}function e0(n,e,t){if(Ll(e))return Fd.decorate_20223_(n,e);if(ks(e)){Vl(n,e,Fd);return}return E0(n)?n:Zr(n)?Dt.object(n,e,t):Array.isArray(n)?Dt.array(n,e):sa(n)?Dt.map(n,e):Kr(n)?Dt.set(n,e):typeof n=="object"&&n!==null?n:Dt.box(n,e)}F_(e0,Z_);var gA={box:function(e,t){var i=cc(t);return new Cs(e,hc(i),i.name,!0,i.equals)},array:function(e,t){var i=cc(t);return(re.useProxies===!1||i.proxy===!1?hI:tI)(e,hc(i),i.name)},map:function(e,t){var i=cc(t);return new A0(e,hc(i),i.name)},set:function(e,t){var i=cc(t);return new I0(e,hc(i),i.name)},object:function(e,t,i){return Wi(function(){return v0(re.useProxies===!1||(i==null?void 0:i.proxy)===!1?Us({},i):XA({},i),e,t)})},ref:Er(hA),shallow:Er(fA),deep:Z_,struct:Er(dA)},Dt=F_(e0,gA),t0="computed",yA="computed.struct",jd=Cp(t0),vA=Cp(yA,{equals:Dc.structural}),uh=function(e,t){if(Ll(t))return jd.decorate_20223_(e,t);if(ks(t))return Vl(e,t,jd);if(Zr(e))return Er(Cp(t0,e));var i=Zr(t)?t:{};return i.get=e,i.name||(i.name=e.name||""),new tr(i)};Object.assign(uh,jd);uh.struct=Er(vA);var $y,qy,Nc=0,_A=1,wA=($y=(qy=Oc(function(){},"name"))==null?void 0:qy.configurable)!=null?$y:!1,Hy={value:"action",configurable:!0,writable:!1,enumerable:!1};function Os(n,e,t,i){t===void 0&&(t=!1);function o(){return n0(n,t,e,i||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return e.toString()},wA&&(Hy.value=n,wr(o,"name",Hy)),o}function n0(n,e,t,i,o){var l=EA(n,e);try{return t.apply(i,o)}catch(c){throw l.error_=c,c}finally{TA(l)}}function EA(n,e,t,i){var o=!1,l=0,c=re.trackingDerivation,f=!e||!c;On();var p=re.allowStateChanges;f&&(Fs(),p=Pp(!0));var y=xp(!0),_={runAsAction_:f,prevDerivation_:c,prevAllowStateChanges_:p,prevAllowStateReads_:y,notifySpy_:o,startTime_:l,actionId_:_A++,parentActionId_:Nc};return Nc=_.actionId_,_}function TA(n){Nc!==n.actionId_&&Me(30),Nc=n.parentActionId_,n.error_!==void 0&&(re.suppressReactionErrors=!0),kp(n.prevAllowStateChanges_),dl(n.prevAllowStateReads_),Dn(),n.runAsAction_&&Xr(n.prevDerivation_),re.suppressReactionErrors=!1}function Pp(n){var e=re.allowStateChanges;return re.allowStateChanges=n,e}function kp(n){re.allowStateChanges=n}var Cs=function(n){function e(i,o,l,c,f){var p;return l===void 0&&(l="ObservableValue"),f===void 0&&(f=Dc.default),p=n.call(this,l)||this,p.enhancer=void 0,p.name_=void 0,p.equals=void 0,p.hasUnreportedChange_=!1,p.interceptors_=void 0,p.changeListeners_=void 0,p.value_=void 0,p.dehancer=void 0,p.enhancer=o,p.name_=l,p.equals=f,p.value_=o(i,void 0,l),p}W_(e,n);var t=e.prototype;return t.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},t.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==re.UNCHANGED&&this.setNewValue_(o)},t.prepareNewValue_=function(o){if(xn(this)){var l=bn(this,{object:this,type:Tr,newValue:o});if(!l)return re.UNCHANGED;o=l.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?re.UNCHANGED:o},t.setNewValue_=function(o){var l=this.value_;this.value_=o,this.reportChanged(),Yn(this)&&Xn(this,{type:Tr,object:this,newValue:o,oldValue:l})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(o){return Fl(this,o)},t.observe_=function(o,l){return l&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Tr,newValue:this.value_,oldValue:void 0}),jl(this,o)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return H_(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Hi),tr=function(){function n(t){this.dependenciesState_=je.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=je.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Lc(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Vc.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||Me(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=Os("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Dc.structural:Dc.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){CA(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&Me(32,this.name_,this.derivation),re.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Ud(this)&&(this.warnAboutUntrackedRead_(),On(),this.value_=this.computeValue_(!1),Dn());else if(u0(this),Ud(this)){var i=re.trackingContext;this.keepAlive_&&!i&&(re.trackingContext=this),this.trackAndCompute()&&RA(this),re.trackingContext=i}var o=this.value_;if(Tc(o))throw o.cause;return o},e.set=function(i){if(this.setter_){this.isRunningSetter&&Me(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Me(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,o=this.dependenciesState_===je.NOT_TRACKING_,l=this.computeValue_(!0),c=o||Tc(i)||Tc(l)||!this.equals_(i,l);return c&&(this.value_=l),c},e.computeValue_=function(i){this.isComputing=!0;var o=Pp(!1),l;if(i)l=r0(this,this.derivation,this.scope_);else if(re.disableErrorBoundaries===!0)l=this.derivation.call(this.scope_);else try{l=this.derivation.call(this.scope_)}catch(c){l=new Lc(c)}return kp(o),this.isComputing=!1,l},e.suspend_=function(){this.keepAlive_||(Bd(this),this.value_=void 0)},e.observe_=function(i,o){var l=this,c=!0,f=void 0;return LA(function(){var p=l.get();if(!c||o){var y=Fs();i({observableKind:"computed",debugObjectName:l.name_,type:Tr,object:l,newValue:p,oldValue:f}),Xr(y)}c=!1,f=p})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return H_(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},oa(n,[{key:"isComputing",get:function(){return mn(this.flags_,n.isComputingMask_)},set:function(i){this.flags_=gn(this.flags_,n.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return mn(this.flags_,n.isRunningSetterMask_)},set:function(i){this.flags_=gn(this.flags_,n.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return mn(this.flags_,n.isBeingObservedMask_)},set:function(i){this.flags_=gn(this.flags_,n.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return mn(this.flags_,n.isPendingUnobservationMask_)},set:function(i){this.flags_=gn(this.flags_,n.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return mn(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=gn(this.flags_,n.diffValueMask_,i===1)}}])}();tr.isComputingMask_=1;tr.isRunningSetterMask_=2;tr.isBeingObservedMask_=4;tr.isPendingUnobservationMask_=8;tr.diffValueMask_=16;var ch=Ms("ComputedValue",tr),je;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(je||(je={}));var Vc;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(Vc||(Vc={}));var Lc=function(e){this.cause=void 0,this.cause=e};function Tc(n){return n instanceof Lc}function Ud(n){switch(n.dependenciesState_){case je.UP_TO_DATE_:return!1;case je.NOT_TRACKING_:case je.STALE_:return!0;case je.POSSIBLY_STALE_:{for(var e=xp(!0),t=Fs(),i=n.observing_,o=i.length,l=0;l<o;l++){var c=i[l];if(ch(c)){if(re.disableErrorBoundaries)c.get();else try{c.get()}catch{return Xr(t),dl(e),!0}if(n.dependenciesState_===je.STALE_)return Xr(t),dl(e),!0}}return s0(n),Xr(t),dl(e),!1}}}function r0(n,e,t){var i=xp(!0);s0(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++re.runId;var o=re.trackingDerivation;re.trackingDerivation=n,re.inBatch++;var l;if(re.disableErrorBoundaries===!0)l=e.call(t);else try{l=e.call(t)}catch(c){l=new Lc(c)}return re.inBatch--,re.trackingDerivation=o,SA(n),dl(i),l}function SA(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,i=je.UP_TO_DATE_,o=0,l=n.unboundDepsCount_,c=0;c<l;c++){var f=t[c];f.diffValue===0&&(f.diffValue=1,o!==c&&(t[o]=f),o++),f.dependenciesState_>i&&(i=f.dependenciesState_)}for(t.length=o,n.newObserving_=null,l=e.length;l--;){var p=e[l];p.diffValue===0&&a0(p,n),p.diffValue=0}for(;o--;){var y=t[o];y.diffValue===1&&(y.diffValue=0,IA(y,n))}i!==je.UP_TO_DATE_&&(n.dependenciesState_=i,n.onBecomeStale_())}function Bd(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)a0(e[t],n);n.dependenciesState_=je.NOT_TRACKING_}function i0(n){var e=Fs();try{return n()}finally{Xr(e)}}function Fs(){var n=re.trackingDerivation;return re.trackingDerivation=null,n}function Xr(n){re.trackingDerivation=n}function xp(n){var e=re.allowStateReads;return re.allowStateReads=n,e}function dl(n){re.allowStateReads=n}function s0(n){if(n.dependenciesState_!==je.UP_TO_DATE_){n.dependenciesState_=je.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=je.UP_TO_DATE_}}var Sc=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ac=!0,o0=!1,re=function(){var n=ih();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(Ac=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new Sc().version&&(Ac=!1),Ac?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new Sc):(setTimeout(function(){o0||Me(35)},1),new Sc)}();function AA(){if((re.pendingReactions.length||re.inBatch||re.isRunningReactions)&&Me(36),o0=!0,Ac){var n=ih();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),re=new Sc}}function IA(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function a0(n,e){n.observers_.delete(e),n.observers_.size===0&&l0(n)}function l0(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,re.pendingUnobservations.push(n))}function On(){re.inBatch++}function Dn(){if(--re.inBatch===0){h0();for(var n=re.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof tr&&t.suspend_())}re.pendingUnobservations=[]}}function u0(n){var e=re.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved&&re.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&re.inBatch>0&&l0(n),!1)}function c0(n){n.lowestObserverState_!==je.STALE_&&(n.lowestObserverState_=je.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===je.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=je.STALE_}))}function RA(n){n.lowestObserverState_!==je.STALE_&&(n.lowestObserverState_=je.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===je.POSSIBLY_STALE_?e.dependenciesState_=je.STALE_:e.dependenciesState_===je.UP_TO_DATE_&&(n.lowestObserverState_=je.UP_TO_DATE_)}))}function CA(n){n.lowestObserverState_===je.UP_TO_DATE_&&(n.lowestObserverState_=je.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===je.UP_TO_DATE_&&(e.dependenciesState_=je.POSSIBLY_STALE_,e.onBecomeStale_())}))}var ei=function(){function n(t,i,o,l){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=je.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Vc.NONE,this.name_=t,this.onInvalidate_=i,this.errorHandler_=o,this.requiresObservable_=l}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,re.pendingReactions.push(this),h0())},e.runReaction_=function(){if(!this.isDisposed){On(),this.isScheduled=!1;var i=re.trackingContext;if(re.trackingContext=this,Ud(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}re.trackingContext=i,Dn()}},e.track=function(i){if(!this.isDisposed){On(),this.isRunning=!0;var o=re.trackingContext;re.trackingContext=this;var l=r0(this,i,void 0);re.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Bd(this),Tc(l)&&this.reportExceptionInDerivation_(l.cause),Dn()}},e.reportExceptionInDerivation_=function(i){var o=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(re.disableErrorBoundaries)throw i;var l="[mobx] uncaught error in '"+this+"'";re.suppressReactionErrors||console.error(l,i),re.globalReactionErrorHandlers.forEach(function(c){return c(i,o)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(On(),Bd(this),Dn()))},e.getDisposer_=function(i){var o=this,l=function c(){o.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",c)};return i==null||i.addEventListener==null||i.addEventListener("abort",l),l[we]=this,l},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},oa(n,[{key:"isDisposed",get:function(){return mn(this.flags_,n.isDisposedMask_)},set:function(i){this.flags_=gn(this.flags_,n.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return mn(this.flags_,n.isScheduledMask_)},set:function(i){this.flags_=gn(this.flags_,n.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return mn(this.flags_,n.isTrackPendingMask_)},set:function(i){this.flags_=gn(this.flags_,n.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return mn(this.flags_,n.isRunningMask_)},set:function(i){this.flags_=gn(this.flags_,n.isRunningMask_,i)}},{key:"diffValue",get:function(){return mn(this.flags_,n.diffValueMask_)?1:0},set:function(i){this.flags_=gn(this.flags_,n.diffValueMask_,i===1)}}])}();ei.isDisposedMask_=1;ei.isScheduledMask_=2;ei.isTrackPendingMask_=4;ei.isRunningMask_=8;ei.diffValueMask_=16;var PA=100,zd=function(e){return e()};function h0(){re.inBatch>0||re.isRunningReactions||zd(kA)}function kA(){re.isRunningReactions=!0;for(var n=re.pendingReactions,e=0;n.length>0;){++e===PA&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),i=0,o=t.length;i<o;i++)t[i].runReaction_()}re.isRunningReactions=!1}var Mc=Ms("Reaction",ei);function xA(n){var e=zd;zd=function(i){return n(function(){return e(i)})}}function pl(){return!1}function bA(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var f0="action",OA="action.bound",d0="autoAction",DA="autoAction.bound",p0="<unnamed action>",$d=Ml(f0),NA=Ml(OA,{bound:!0}),qd=Ml(d0,{autoAction:!0}),VA=Ml(DA,{autoAction:!0,bound:!0});function m0(n){var e=function(i,o){if(er(i))return Os(i.name||p0,i,n);if(er(o))return Os(i,o,n);if(Ll(o))return(n?qd:$d).decorate_20223_(i,o);if(ks(o))return Vl(i,o,n?qd:$d);if(ks(i))return Er(Ml(n?d0:f0,{name:i,autoAction:n}))};return e}var qo=m0(!1);Object.assign(qo,$d);var Tl=m0(!0);Object.assign(Tl,qd);qo.bound=Er(NA);Tl.bound=Er(VA);function ml(n){return n0(n.name||p0,!1,n,this,void 0)}function Sl(n){return er(n)&&n.isMobxAction===!0}function LA(n,e){var t,i,o,l;e===void 0&&(e=j_);var c=(t=(i=e)==null?void 0:i.name)!=null?t:"Autorun",f=!e.scheduler&&!e.delay,p;if(f)p=new ei(c,function(){this.track(T)},e.onError,e.requiresObservable);else{var y=FA(e),_=!1;p=new ei(c,function(){_||(_=!0,y(function(){_=!1,p.isDisposed||p.track(T)}))},e.onError,e.requiresObservable)}function T(){n(p)}return(o=e)!=null&&(o=o.signal)!=null&&o.aborted||p.schedule_(),p.getDisposer_((l=e)==null?void 0:l.signal)}var MA=function(e){return e()};function FA(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:MA}var jA="onBO",UA="onBUO";function BA(n,e,t){return y0(jA,n,e,t)}function g0(n,e,t){return y0(UA,n,e,t)}function y0(n,e,t,i){var o=Uc(e),l=er(i)?i:t,c=n+"L";return o[c]?o[c].add(l):o[c]=new Set([l]),function(){var f=o[c];f&&(f.delete(l),f.size===0&&delete o[c])}}var zA="never",fc="always",$A="observed";function qA(n){n.isolateGlobalState===!0&&AA();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(re.useProxies=e===fc?!0:e===zA?!1:typeof Proxy<"u"),e==="ifavailable"&&(re.verifyProxies=!0),t!==void 0){var i=t===fc?fc:t===$A;re.enforceActions=i,re.allowStateChanges=!(i===!0||i===fc)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in n&&(re[o]=!!n[o])}),re.allowStateReads=!re.observableRequiresReaction,n.reactionScheduler&&xA(n.reactionScheduler)}function v0(n,e,t,i){var o=RS(e);return Wi(function(){var l=Us(n,i)[we];Wo(o).forEach(function(c){l.extend_(c,o[c],t&&c in t?t[c]:!0)})}),n}function HA(n,e){return _0(Uc(n,e))}function _0(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=WA(n.observing_).map(_0)),e}function WA(n){return Array.from(new Set(n))}var KA=0;function w0(){this.message="FLOW_CANCELLED"}w0.prototype=Object.create(Error.prototype);var md=Q_("flow"),GA=Q_("flow.bound",{bound:!0}),Ko=Object.assign(function(e,t){if(Ll(t))return md.decorate_20223_(e,t);if(ks(t))return Vl(e,t,md);var i=e,o=i.name||"<unnamed flow>",l=function(){var f=this,p=arguments,y=++KA,_=qo(o+" - runid: "+y+" - init",i).apply(f,p),T,S=void 0,k=new Promise(function(N,U){var V=0;T=U;function H(oe){S=void 0;var Ae;try{Ae=qo(o+" - runid: "+y+" - yield "+V++,_.next).call(_,oe)}catch(_e){return U(_e)}ie(Ae)}function X(oe){S=void 0;var Ae;try{Ae=qo(o+" - runid: "+y+" - yield "+V++,_.throw).call(_,oe)}catch(_e){return U(_e)}ie(Ae)}function ie(oe){if(er(oe==null?void 0:oe.then)){oe.then(ie,U);return}return oe.done?N(oe.value):(S=Promise.resolve(oe.value),S.then(H,X))}H(void 0)});return k.cancel=qo(o+" - runid: "+y+" - cancel",function(){try{S&&Wy(S);var N=_.return(void 0),U=Promise.resolve(N.value);U.then(zo,zo),Wy(U),T(new w0)}catch(V){T(V)}}),k};return l.isMobXFlow=!0,l},md);Ko.bound=Er(GA);function Wy(n){er(n.cancel)&&n.cancel()}function Al(n){return(n==null?void 0:n.isMobXFlow)===!0}function QA(n,e){return n?fh(n)||!!n[we]||Rp(n)||Mc(n)||ch(n):!1}function E0(n){return QA(n)}function Gr(n,e){e===void 0&&(e=void 0),On();try{return n.apply(e)}finally{Dn()}}function Fo(n){return n[we]}var YA={has:function(e,t){return Fo(e).has_(t)},get:function(e,t){return Fo(e).get_(t)},set:function(e,t,i){var o;return ks(t)?(o=Fo(e).set_(t,i,!0))!=null?o:!0:!1},deleteProperty:function(e,t){var i;return ks(t)?(i=Fo(e).delete_(t,!0))!=null?i:!0:!1},defineProperty:function(e,t,i){var o;return(o=Fo(e).defineProperty_(t,i))!=null?o:!0},ownKeys:function(e){return Fo(e).ownKeys_()},preventExtensions:function(e){Me(13)}};function XA(n,e){var t,i;return U_(),n=Us(n,e),(i=(t=n[we]).proxy_)!=null?i:t.proxy_=new Proxy(n,YA)}function xn(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function Fl(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),B_(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1)})}function bn(n,e){var t=Fs();try{for(var i=[].concat(n.interceptors_||[]),o=0,l=i.length;o<l&&(e=i[o](e),e&&!e.type&&Me(14),!!e);o++);return e}finally{Xr(t)}}function Yn(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function jl(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),B_(function(){var i=t.indexOf(e);i!==-1&&t.splice(i,1)})}function Xn(n,e){var t=Fs(),i=n.changeListeners_;if(i){i=i.slice();for(var o=0,l=i.length;o<l;o++)i[o](e);Xr(t)}}function JA(n,e,t){return Wi(function(){var i,o=Us(n,t)[we];(i=e)!=null||(e=bS(n)),Wo(e).forEach(function(l){return o.make_(l,e[l])})}),n}var gd=Symbol("mobx-keys");function T0(n,e,t){return Zr(n)?v0(n,n,e,t):(Wi(function(){var i=Us(n,t)[we];if(!n[gd]){var o=Object.getPrototypeOf(n),l=new Set([].concat(Wo(n),Wo(o)));l.delete("constructor"),l.delete(we),Nl(o,gd,l)}n[gd].forEach(function(c){return i.make_(c,e&&c in e?e[c]:!0)})}),n)}var Ky="splice",Tr="update",ZA=1e4,eI={get:function(e,t){var i=e[we];return t===we?i:t==="length"?i.getArrayLength_():typeof t=="string"&&!isNaN(t)?i.get_(parseInt(t)):Yr(Fc,t)?Fc[t]:e[t]},set:function(e,t,i){var o=e[we];return t==="length"&&o.setArrayLength_(i),typeof t=="symbol"||isNaN(t)?e[t]=i:o.set_(parseInt(t),i),!0},preventExtensions:function(){Me(15)}},bp=function(){function n(t,i,o,l){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=l,this.atom_=new Hi(t),this.enhancer_=function(c,f){return i(c,f,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return Fl(this,i)},e.observe_=function(i,o){return o===void 0&&(o=!1),o&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),jl(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Me("Out of range: "+i);var o=this.values_.length;if(i!==o)if(i>o){for(var l=new Array(i-o),c=0;c<i-o;c++)l[c]=void 0;this.spliceWithArray_(o,0,l)}else this.spliceWithArray_(i,o-i)},e.updateArrayLength_=function(i,o){i!==this.lastKnownLength_&&Me(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&k0(i+o+1)},e.spliceWithArray_=function(i,o,l){var c=this;this.atom_;var f=this.values_.length;if(i===void 0?i=0:i>f?i=f:i<0&&(i=Math.max(0,f+i)),arguments.length===1?o=f-i:o==null?o=0:o=Math.max(0,Math.min(o,f-i)),l===void 0&&(l=Ld),xn(this)){var p=bn(this,{object:this.proxy_,type:Ky,index:i,removedCount:o,added:l});if(!p)return Ld;o=p.removedCount,l=p.added}if(l=l.length===0?l:l.map(function(T){return c.enhancer_(T,void 0)}),this.legacyMode_){var y=l.length-o;this.updateArrayLength_(f,y)}var _=this.spliceItemsIntoValues_(i,o,l);return(o!==0||l.length!==0)&&this.notifyArraySplice_(i,l,_),this.dehanceValues_(_)},e.spliceItemsIntoValues_=function(i,o,l){if(l.length<ZA){var c;return(c=this.values_).splice.apply(c,[i,o].concat(l))}else{var f=this.values_.slice(i,i+o),p=this.values_.slice(i+o);this.values_.length+=l.length-o;for(var y=0;y<l.length;y++)this.values_[i+y]=l[y];for(var _=0;_<p.length;_++)this.values_[i+l.length+_]=p[_];return f}},e.notifyArrayChildUpdate_=function(i,o,l){var c=!this.owned_&&pl(),f=Yn(this),p=f||c?{observableKind:"array",object:this.proxy_,type:Tr,debugObjectName:this.atom_.name_,index:i,newValue:o,oldValue:l}:null;this.atom_.reportChanged(),f&&Xn(this,p)},e.notifyArraySplice_=function(i,o,l){var c=!this.owned_&&pl(),f=Yn(this),p=f||c?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Ky,index:i,removed:l,added:o,removedCount:l.length,addedCount:o.length}:null;this.atom_.reportChanged(),f&&Xn(this,p)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,o){var l=this.values_;if(this.legacyMode_&&i>l.length&&Me(17,i,l.length),i<l.length){this.atom_;var c=l[i];if(xn(this)){var f=bn(this,{type:Tr,object:this.proxy_,index:i,newValue:o});if(!f)return;o=f.newValue}o=this.enhancer_(o,c);var p=o!==c;p&&(l[i]=o,this.notifyArrayChildUpdate_(i,o,c))}else{for(var y=new Array(i+1-l.length),_=0;_<y.length-1;_++)y[_]=void 0;y[y.length-1]=o,this.spliceWithArray_(l.length,0,y)}},n}();function tI(n,e,t,i){return t===void 0&&(t="ObservableArray"),i===void 0&&(i=!1),U_(),Wi(function(){var o=new bp(t,e,i,!1);$_(o.values_,we,o);var l=new Proxy(o.values_,eI);return o.proxy_=l,n&&n.length&&o.spliceWithArray_(0,0,n),l})}var Fc={clear:function(){return this.splice(0)},replace:function(e){var t=this[we];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];var c=this[we];switch(arguments.length){case 0:return[];case 1:return c.spliceWithArray_(e);case 2:return c.spliceWithArray_(e,t)}return c.spliceWithArray_(e,t,o)},spliceWithArray:function(e,t,i){return this[we].spliceWithArray_(e,t,i)},push:function(){for(var e=this[we],t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return re.trackingDerivation&&Me(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){re.trackingDerivation&&Me(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[we],i=t.dehanceValues_(t.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};Qe("at",_n);Qe("concat",_n);Qe("flat",_n);Qe("includes",_n);Qe("indexOf",_n);Qe("join",_n);Qe("lastIndexOf",_n);Qe("slice",_n);Qe("toString",_n);Qe("toLocaleString",_n);Qe("toSorted",_n);Qe("toSpliced",_n);Qe("with",_n);Qe("every",sr);Qe("filter",sr);Qe("find",sr);Qe("findIndex",sr);Qe("findLast",sr);Qe("findLastIndex",sr);Qe("flatMap",sr);Qe("forEach",sr);Qe("map",sr);Qe("some",sr);Qe("toReversed",sr);Qe("reduce",S0);Qe("reduceRight",S0);function Qe(n,e){typeof Array.prototype[n]=="function"&&(Fc[n]=e(n))}function _n(n){return function(){var e=this[we];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function sr(n){return function(e,t){var i=this,o=this[we];o.atom_.reportObserved();var l=o.dehanceValues_(o.values_);return l[n](function(c,f){return e.call(t,c,f,i)})}}function S0(n){return function(){var e=this,t=this[we];t.atom_.reportObserved();var i=t.dehanceValues_(t.values_),o=arguments[0];return arguments[0]=function(l,c,f){return o(l,c,f,e)},i[n].apply(i,arguments)}}var nI=Ms("ObservableArrayAdministration",bp);function hh(n){return oh(n)&&nI(n[we])}var rI={},Oi="add",jc="delete",A0=function(){function n(t,i,o){var l=this;i===void 0&&(i=bs),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=rI,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=o,er(Map)||Me(18),Wi(function(){l.keysAtom_=K_("ObservableMap.keys()"),l.data_=new Map,l.hasMap_=new Map,t&&l.merge(t)})}var e=n.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var o=this;if(!re.trackingDerivation)return this.has_(i);var l=this.hasMap_.get(i);if(!l){var c=l=new Cs(this.has_(i),ah,"ObservableMap.key?",!1);this.hasMap_.set(i,c),g0(c,function(){return o.hasMap_.delete(i)})}return l.get()},e.set=function(i,o){var l=this.has_(i);if(xn(this)){var c=bn(this,{type:l?Tr:Oi,object:this,newValue:o,name:i});if(!c)return this;o=c.newValue}return l?this.updateValue_(i,o):this.addValue_(i,o),this},e.delete=function(i){var o=this;if(this.keysAtom_,xn(this)){var l=bn(this,{type:jc,object:this,name:i});if(!l)return!1}if(this.has_(i)){var c=pl(),f=Yn(this),p=f||c?{observableKind:"map",debugObjectName:this.name_,type:jc,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return Gr(function(){var y;o.keysAtom_.reportChanged(),(y=o.hasMap_.get(i))==null||y.setNewValue_(!1);var _=o.data_.get(i);_.setNewValue_(void 0),o.data_.delete(i)}),f&&Xn(this,p),!0}return!1},e.updateValue_=function(i,o){var l=this.data_.get(i);if(o=l.prepareNewValue_(o),o!==re.UNCHANGED){var c=pl(),f=Yn(this),p=f||c?{observableKind:"map",debugObjectName:this.name_,type:Tr,object:this,oldValue:l.value_,name:i,newValue:o}:null;l.setNewValue_(o),f&&Xn(this,p)}},e.addValue_=function(i,o){var l=this;this.keysAtom_,Gr(function(){var y,_=new Cs(o,l.enhancer_,"ObservableMap.key",!1);l.data_.set(i,_),o=_.value_,(y=l.hasMap_.get(i))==null||y.setNewValue_(!0),l.keysAtom_.reportChanged()});var c=pl(),f=Yn(this),p=f||c?{observableKind:"map",debugObjectName:this.name_,type:Oi,object:this,name:i,newValue:o}:null;f&&Xn(this,p)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,o=this.keys();return Gy({next:function(){var c=o.next(),f=c.done,p=c.value;return{done:f,value:f?void 0:i.get(p)}}})},e.entries=function(){var i=this,o=this.keys();return Gy({next:function(){var c=o.next(),f=c.done,p=c.value;return{done:f,value:f?void 0:[p,i.get(p)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,o){for(var l=$o(this),c;!(c=l()).done;){var f=c.value,p=f[0],y=f[1];i.call(o,y,p,this)}},e.merge=function(i){var o=this;return js(i)&&(i=new Map(i)),Gr(function(){Zr(i)?IS(i).forEach(function(l){return o.set(l,i[l])}):Array.isArray(i)?i.forEach(function(l){var c=l[0],f=l[1];return o.set(c,f)}):sa(i)?(AS(i)||Me(19,i),i.forEach(function(l,c){return o.set(c,l)})):i!=null&&Me(20,i)}),this},e.clear=function(){var i=this;Gr(function(){i0(function(){for(var o=$o(i.keys()),l;!(l=o()).done;){var c=l.value;i.delete(c)}})})},e.replace=function(i){var o=this;return Gr(function(){for(var l=iI(i),c=new Map,f=!1,p=$o(o.data_.keys()),y;!(y=p()).done;){var _=y.value;if(!l.has(_)){var T=o.delete(_);if(T)f=!0;else{var S=o.data_.get(_);c.set(_,S)}}}for(var k=$o(l.entries()),N;!(N=k()).done;){var U=N.value,V=U[0],H=U[1],X=o.data_.has(V);if(o.set(V,H),o.data_.has(V)){var ie=o.data_.get(V);c.set(V,ie),X||(f=!0)}}if(!f)if(o.data_.size!==c.size)o.keysAtom_.reportChanged();else for(var oe=o.data_.keys(),Ae=c.keys(),_e=oe.next(),b=Ae.next();!_e.done;){if(_e.value!==b.value){o.keysAtom_.reportChanged();break}_e=oe.next(),b=Ae.next()}o.data_=c}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,o){return jl(this,i)},e.intercept_=function(i){return Fl(this,i)},oa(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),js=Ms("ObservableMap",A0);function Gy(n){return n[Symbol.toStringTag]="MapIterator",Np(n)}function iI(n){if(sa(n)||js(n))return n;if(Array.isArray(n))return new Map(n);if(Zr(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return Me(21,n)}var sI={},I0=function(){function n(t,i,o){var l=this;i===void 0&&(i=bs),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[we]=sI,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,er(Set)||Me(22),this.enhancer_=function(c,f){return i(c,f,o)},Wi(function(){l.atom_=K_(l.name_),t&&l.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;Gr(function(){i0(function(){for(var o=$o(i.data_.values()),l;!(l=o()).done;){var c=l.value;i.delete(c)}})})},e.forEach=function(i,o){for(var l=$o(this),c;!(c=l()).done;){var f=c.value;i.call(o,f,f,this)}},e.add=function(i){var o=this;if(this.atom_,xn(this)){var l=bn(this,{type:Oi,object:this,newValue:i});if(!l)return this}if(!this.has(i)){Gr(function(){o.data_.add(o.enhancer_(i,void 0)),o.atom_.reportChanged()});var c=!1,f=Yn(this),p=f||c?{observableKind:"set",debugObjectName:this.name_,type:Oi,object:this,newValue:i}:null;f&&Xn(this,p)}return this},e.delete=function(i){var o=this;if(xn(this)){var l=bn(this,{type:jc,object:this,oldValue:i});if(!l)return!1}if(this.has(i)){var c=!1,f=Yn(this),p=f||c?{observableKind:"set",debugObjectName:this.name_,type:jc,object:this,oldValue:i}:null;return Gr(function(){o.atom_.reportChanged(),o.data_.delete(i)}),f&&Xn(this,p),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=0,o=Array.from(this.keys()),l=Array.from(this.values());return Qy({next:function(){var f=i;return i+=1,f<l.length?{value:[o[f],l[f]],done:!1}:{value:void 0,done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,o=0,l=Array.from(this.data_.values());return Qy({next:function(){return o<l.length?{value:i.dehanceValue_(l[o++]),done:!1}:{value:void 0,done:!0}}})},e.intersection=function(i){if(Kr(i)&&!vr(i))return i.intersection(this);var o=new Set(this);return o.intersection(i)},e.union=function(i){if(Kr(i)&&!vr(i))return i.union(this);var o=new Set(this);return o.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(Kr(i)&&!vr(i))return i.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(Kr(i)&&!vr(i))return i.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(i)},e.replace=function(i){var o=this;return vr(i)&&(i=new Set(i)),Gr(function(){Array.isArray(i)?(o.clear(),i.forEach(function(l){return o.add(l)})):Kr(i)?(o.clear(),i.forEach(function(l){return o.add(l)})):i!=null&&Me("Cannot initialize set from "+i)}),this},e.observe_=function(i,o){return jl(this,i)},e.intercept_=function(i){return Fl(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},oa(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),vr=Ms("ObservableSet",I0);function Qy(n){return n[Symbol.toStringTag]="SetIterator",Np(n)}var Yy=Object.create(null),Xy="remove",R0=function(){function n(t,i,o,l){i===void 0&&(i=new Map),l===void 0&&(l=rA),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=i,this.name_=o,this.defaultAnnotation_=l,this.keysAtom_=new Hi("ObservableObject.keys"),this.isPlainObject_=Zr(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,o){var l=this.values_.get(i);if(l instanceof tr)return l.set(o),!0;if(xn(this)){var c=bn(this,{type:Tr,object:this.proxy_||this.target_,name:i,newValue:o});if(!c)return null;o=c.newValue}if(o=l.prepareNewValue_(o),o!==re.UNCHANGED){var f=Yn(this),p=!1,y=f||p?{type:Tr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:l.value_,name:i,newValue:o}:null;l.setNewValue_(o),f&&Xn(this,y)}return!0},e.get_=function(i){return re.trackingDerivation&&!Yr(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,o,l){return l===void 0&&(l=!1),Yr(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,o):l?Reflect.set(this.target_,i,o):(this.target_[i]=o,!0):this.extend_(i,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,l)},e.has_=function(i){if(!re.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(i);return o||(o=new Cs(i in this.target_,ah,"ObservableObject.key?",!1),this.pendingKeys_.set(i,o)),o.get()},e.make_=function(i,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(i in this.target_)){var l;if((l=this.target_[_r])!=null&&l[i])return;Me(1,o.annotationType_,this.name_+"."+i.toString())}for(var c=this.target_;c&&c!==sh;){var f=Oc(c,i);if(f){var p=o.make_(this,i,f,c);if(p===0)return;if(p===1)break}c=Object.getPrototypeOf(c)}Zy(this,o,i)}},e.extend_=function(i,o,l,c){if(c===void 0&&(c=!1),l===!0&&(l=this.defaultAnnotation_),l===!1)return this.defineProperty_(i,o,c);var f=l.extend_(this,i,o,c);return f&&Zy(this,l,i),f},e.defineProperty_=function(i,o,l){l===void 0&&(l=!1),this.keysAtom_;try{On();var c=this.delete_(i);if(!c)return c;if(xn(this)){var f=bn(this,{object:this.proxy_||this.target_,name:i,type:Oi,newValue:o.value});if(!f)return null;var p=f.newValue;o.value!==p&&(o=xs({},o,{value:p}))}if(l){if(!Reflect.defineProperty(this.target_,i,o))return!1}else wr(this.target_,i,o);this.notifyPropertyAddition_(i,o.value)}finally{Dn()}return!0},e.defineObservableProperty_=function(i,o,l,c){c===void 0&&(c=!1),this.keysAtom_;try{On();var f=this.delete_(i);if(!f)return f;if(xn(this)){var p=bn(this,{object:this.proxy_||this.target_,name:i,type:Oi,newValue:o});if(!p)return null;o=p.newValue}var y=Jy(i),_={configurable:re.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:y.get,set:y.set};if(c){if(!Reflect.defineProperty(this.target_,i,_))return!1}else wr(this.target_,i,_);var T=new Cs(o,l,"ObservableObject.key",!1);this.values_.set(i,T),this.notifyPropertyAddition_(i,T.value_)}finally{Dn()}return!0},e.defineComputedProperty_=function(i,o,l){l===void 0&&(l=!1),this.keysAtom_;try{On();var c=this.delete_(i);if(!c)return c;if(xn(this)){var f=bn(this,{object:this.proxy_||this.target_,name:i,type:Oi,newValue:void 0});if(!f)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var p=Jy(i),y={configurable:re.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:p.get,set:p.set};if(l){if(!Reflect.defineProperty(this.target_,i,y))return!1}else wr(this.target_,i,y);this.values_.set(i,new tr(o)),this.notifyPropertyAddition_(i,void 0)}finally{Dn()}return!0},e.delete_=function(i,o){if(o===void 0&&(o=!1),this.keysAtom_,!Yr(this.target_,i))return!0;if(xn(this)){var l=bn(this,{object:this.proxy_||this.target_,name:i,type:Xy});if(!l)return null}try{var c;On();var f=Yn(this),p=!1,y=this.values_.get(i),_=void 0;if(!y&&(f||p)){var T;_=(T=Oc(this.target_,i))==null?void 0:T.value}if(o){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(y&&(this.values_.delete(i),y instanceof Cs&&(_=y.value_),c0(y)),this.keysAtom_.reportChanged(),(c=this.pendingKeys_)==null||(c=c.get(i))==null||c.set(i in this.target_),f||p){var S={type:Xy,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:_,name:i};f&&Xn(this,S)}}finally{Dn()}return!0},e.observe_=function(i,o){return jl(this,i)},e.intercept_=function(i){return Fl(this,i)},e.notifyPropertyAddition_=function(i,o){var l,c=Yn(this),f=!1;if(c||f){var p=c||f?{type:Oi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:o}:null;c&&Xn(this,p)}(l=this.pendingKeys_)==null||(l=l.get(i))==null||l.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Wo(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function Us(n,e){var t;if(Yr(n,we))return n;var i=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",o=new R0(n,new Map,String(i),pA(e));return Nl(n,we,o),n}var oI=Ms("ObservableObjectAdministration",R0);function Jy(n){return Yy[n]||(Yy[n]={get:function(){return this[we].getObservablePropValue_(n)},set:function(t){return this[we].setObservablePropValue_(n,t)}})}function fh(n){return oh(n)?oI(n[we]):!1}function Zy(n,e,t){var i;(i=n.target_[_r])==null||delete i[t]}var aI=P0(0),lI=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),yd=0,C0=function(){};function uI(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}uI(C0,Array.prototype);var Op=function(n){function e(i,o,l,c){var f;return l===void 0&&(l="ObservableArray"),c===void 0&&(c=!1),f=n.call(this)||this,Wi(function(){var p=new bp(l,o,c,!0);p.proxy_=f,$_(f,we,p),i&&i.length&&f.spliceWithArray(0,0,i),lI&&Object.defineProperty(f,"0",aI)}),f}W_(e,n);var t=e.prototype;return t.concat=function(){this[we].atom_.reportObserved();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return Array.prototype.concat.apply(this.slice(),l.map(function(f){return hh(f)?f.slice():f}))},t[Symbol.iterator]=function(){var i=this,o=0;return Np({next:function(){return o<i.length?{value:i[o++],done:!1}:{done:!0,value:void 0}}})},oa(e,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(o){this[we].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(C0);Object.entries(Fc).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&Nl(Op.prototype,e,t)});function P0(n){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(n)},set:function(t){this[we].set_(n,t)}}}function cI(n){wr(Op.prototype,""+n,P0(n))}function k0(n){if(n>yd){for(var e=yd;e<n+100;e++)cI(e);yd=n}}k0(1e3);function hI(n,e,t){return new Op(n,e,t)}function Uc(n,e){if(typeof n=="object"&&n!==null){if(hh(n))return e!==void 0&&Me(23),n[we].atom_;if(vr(n))return n.atom_;if(js(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||Me(25,e,Hd(n)),t}if(fh(n)){if(!e)return Me(26);var i=n[we].values_.get(e);return i||Me(27,e,Hd(n)),i}if(Rp(n)||ch(n)||Mc(n))return n}else if(er(n)&&Mc(n[we]))return n[we];Me(28)}function fI(n,e){if(n||Me(29),Rp(n)||ch(n)||Mc(n)||js(n)||vr(n))return n;if(n[we])return n[we];Me(24,n)}function Hd(n,e){var t;if(e!==void 0)t=Uc(n,e);else{if(Sl(n))return n.name;fh(n)||js(n)||vr(n)?t=fI(n):t=Uc(n)}return t.name_}function Wi(n){var e=Fs(),t=Pp(!0);On();try{return n()}finally{Dn(),kp(t),Xr(e)}}var ev=sh.toString;function Dp(n,e,t){return t===void 0&&(t=-1),Wd(n,e,t)}function Wd(n,e,t,i,o){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var l=typeof n;if(l!=="function"&&l!=="object"&&typeof e!="object")return!1;var c=ev.call(n);if(c!==ev.call(e))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=tv(n),e=tv(e);var f=c==="[object Array]";if(!f){if(typeof n!="object"||typeof e!="object")return!1;var p=n.constructor,y=e.constructor;if(p!==y&&!(er(p)&&p instanceof p&&er(y)&&y instanceof y)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),i=i||[],o=o||[];for(var _=i.length;_--;)if(i[_]===n)return o[_]===e;if(i.push(n),o.push(e),f){if(_=n.length,_!==e.length)return!1;for(;_--;)if(!Wd(n[_],e[_],t-1,i,o))return!1}else{var T=Object.keys(n),S;if(_=T.length,Object.keys(e).length!==_)return!1;for(;_--;)if(S=T[_],!(Yr(e,S)&&Wd(n[S],e[S],t-1,i,o)))return!1}return i.pop(),o.pop(),!0}function tv(n){return hh(n)?n.slice():sa(n)||js(n)||Kr(n)||vr(n)?Array.from(n.entries()):n}var nv,dI=((nv=ih().Iterator)==null?void 0:nv.prototype)||{};function Np(n){return n[Symbol.iterator]=pI,Object.assign(Object.create(dI),n)}function pI(){return this}["Symbol","Map","Set"].forEach(function(n){var e=ih();typeof e[n]>"u"&&Me("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:bA,extras:{getDebugName:Hd},$mobx:we});if(!$.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!JA)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var mI=T_();function gI(n){n()}function yI(n){n||(n=gI),qA({reactionScheduler:n})}function vI(n){return HA(n)}var _I=1e4,wI=1e4,EI=function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=_I),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var o=Date.now();t.registrations.forEach(function(l,c){o-l.registeredAt>=i&&(t.finalize(l.value),t.registrations.delete(c))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.registrations.set(i,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,wI))}}),n}(),TI=typeof FinalizationRegistry<"u"?FinalizationRegistry:EI,Kd=new TI(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),vd={exports:{}},_d={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function SI(){if(rv)return _d;rv=1;var n=th();function e(T,S){return T===S&&(T!==0||1/T===1/S)||T!==T&&S!==S}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,o=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function f(T,S){var k=S(),N=i({inst:{value:k,getSnapshot:S}}),U=N[0].inst,V=N[1];return l(function(){U.value=k,U.getSnapshot=S,p(U)&&V({inst:U})},[T,k,S]),o(function(){return p(U)&&V({inst:U}),T(function(){p(U)&&V({inst:U})})},[T]),c(k),k}function p(T){var S=T.getSnapshot;T=T.value;try{var k=S();return!t(T,k)}catch{return!0}}function y(T,S){return S()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:f;return _d.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:_,_d}var iv;function AI(){return iv||(iv=1,vd.exports=SI()),vd.exports}var II=AI();function sv(n){n.reaction=new ei("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function RI(n,e){e===void 0&&(e="observed");var t=xy.useRef(null);if(!t.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(f){return Kd.unregister(i),i.onStoreChange=f,i.reaction||(sv(i),i.stateVersion=Symbol()),function(){var p;i.onStoreChange=null,(p=i.reaction)===null||p===void 0||p.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};t.current=i}var o=t.current;o.reaction||(sv(o),Kd.register(t,o,o)),xy.useDebugValue(o.reaction,vI),II.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var l,c;if(o.reaction.track(function(){try{l=n()}catch(f){c=f}}),c)throw c;return l}var wd,Ed,x0=typeof Symbol=="function"&&Symbol.for,CI=(Ed=(wd=Object.getOwnPropertyDescriptor(function(){},"name"))===null||wd===void 0?void 0:wd.configurable)!==null&&Ed!==void 0?Ed:!1,ov=x0?Symbol.for("react.forward_ref"):typeof $.forwardRef=="function"&&$.forwardRef(function(n){return null}).$$typeof,av=x0?Symbol.for("react.memo"):typeof $.memo=="function"&&$.memo(function(n){return null}).$$typeof;function Pr(n,e){var t;if(av&&n.$$typeof===av)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(t=void 0)!==null&&t!==void 0?t:!1,o=n,l=n.displayName||n.name;if(ov&&n.$$typeof===ov&&(i=!0,o=n.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var c=function(f,p){return RI(function(){return o(f,p)},l)};return c.displayName=n.displayName,CI&&Object.defineProperty(c,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(c.contextTypes=n.contextTypes),i&&(c=$.forwardRef(c)),c=$.memo(c),kI(n,c),c}var PI={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function kI(n,e){Object.keys(n).forEach(function(t){PI[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var Td;yI(mI.unstable_batchedUpdates);Td=Kd.finalizeAllImmediately;function xI({to:n,text:e}){return te.jsx(L_,{to:n,children:te.jsx("div",{className:"border border-emerald-600 rounded p-3 text-center hover:bg-emerald-950",children:e})})}const lv=Pr(xI);function bI(){return te.jsx("div",{className:"fixed w-full h-full bg-gray-900 text-emerald-100 flex justify-center items-center",children:te.jsx("div",{className:"bg-gray-800 w-full h-full sm:w-auto sm:h-auto sm:aspect-[5/1] sm:border sm:border-emerald-300 rounded p-12",children:te.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[te.jsx("div",{className:"text-2xl text-center",children:"Board Games"}),te.jsx(lv,{to:`/codenames/${crypto.randomUUID()}`,text:"Codenames"}),te.jsx(lv,{to:`/decrypto/${crypto.randomUUID()}`,text:"Decrypto"})]})})})}function yr({className:n,onClick:e,text:t,disabled:i,...o}){const l=["w-full text-center p-1 lg:p-2 rounded bg-white bg-opacity-20",i?"opacity-50 cursor-not-allowed":"hover:bg-opacity-30",n].join(" ");return te.jsx("button",{className:l,onClick:e,disabled:i,...o,children:t})}var ut=(n=>(n.Red="red",n.Blue="blue",n))(ut||{});function dc(){let n=localStorage.getItem("clientId");return n||(n=crypto.randomUUID(),localStorage.setItem("clientId",n)),n}function OI(){let n=localStorage.getItem("clientColor");if(!n){const e="0123456789ABCDEF";n="";for(let t=0;t<6;t++)n+=e[Math.floor(Math.random()*16)];localStorage.setItem("clientColor",n)}return n}function DI(){return localStorage.getItem("clientUsername")||"Guest"}function NI(n){localStorage.setItem("clientUsername",n)}var uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},VI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,T=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,k=y&63;p||(k=64,c||(S=64)),i.push(t[_],t[T],t[S],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(b0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):VI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||T==null)throw new LI;const S=l<<2|f>>4;if(i.push(S),y!==64){const k=f<<4&240|y>>2;if(i.push(k),T!==64){const N=y<<6&192|T;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(n){const e=b0(n);return O0.encodeByteArray(e,!0)},Bc=function(n){return MI(n).replace(/\./g,"")},FI=function(n){try{return O0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>jI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof uv>"u")return;const n=uv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&FI(n[1]);return e&&JSON.parse(e)},Vp=()=>{try{return UI()||BI()||zI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$I=n=>{var e,t;return(t=(e=Vp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qI=n=>{const e=$I(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},D0=()=>{var n;return(n=Vp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bc(JSON.stringify(t)),Bc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GI(){var n;const e=(n=Vp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YI(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function V0(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function XI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FirebaseError";class Ki extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=JI,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?ZI(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Ki(o,f,i)}}function ZI(n,e){return n.replace(eR,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const eR=/\{\$([^}]+)}/g;function Il(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(cv(l)&&cv(c)){if(!Il(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function cv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1e3,nR=2,rR=4*60*60*1e3,iR=.5;function hv(n,e=tR,t=nR){const i=e*Math.pow(t,n),o=Math.round(iR*i*(Math.random()-.5)*2);return Math.min(rR,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n){return n&&n._delegate?n._delegate:n}class ti{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new HI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aR(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oR(n){return n===As?void 0:n}function aR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const uR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},cR=Ve.INFO,hR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},fR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=hR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lp{constructor(e){this.name=e,this._logLevel=cR,this._logHandler=fR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const dR=(n,e)=>e.some(t=>n instanceof t);let fv,dv;function pR(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L0=new WeakMap,Gd=new WeakMap,M0=new WeakMap,Sd=new WeakMap,Mp=new WeakMap;function gR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ni(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&L0.set(t,n)}).catch(()=>{}),Mp.set(e,n),e}function yR(n){if(Gd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Gd.set(n,e)}let Qd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||M0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vR(n){Qd=n(Qd)}function _R(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ad(this),e,...t);return M0.set(i,e.sort?e.sort():[e]),Ni(i)}:mR().includes(n)?function(...e){return n.apply(Ad(this),e),Ni(L0.get(this))}:function(...e){return Ni(n.apply(Ad(this),e))}}function wR(n){return typeof n=="function"?_R(n):(n instanceof IDBTransaction&&yR(n),dR(n,pR())?new Proxy(n,Qd):n)}function Ni(n){if(n instanceof IDBRequest)return gR(n);if(Sd.has(n))return Sd.get(n);const e=wR(n);return e!==n&&(Sd.set(n,e),Mp.set(e,n)),e}const Ad=n=>Mp.get(n);function F0(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=Ni(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ni(c.result),p.oldVersion,p.newVersion,Ni(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const ER=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],Id=new Map;function pv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Id.get(e))return Id.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=TR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Id.set(e,l),l}vR(n=>({...n,get:(e,t,i)=>pv(e,t)||n.get(e,t,i),has:(e,t)=>!!pv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function AR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",mv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Lp("@firebase/app"),IR="@firebase/app-compat",RR="@firebase/analytics-compat",CR="@firebase/analytics",PR="@firebase/app-check-compat",kR="@firebase/app-check",xR="@firebase/auth",bR="@firebase/auth-compat",OR="@firebase/database",DR="@firebase/data-connect",NR="@firebase/database-compat",VR="@firebase/functions",LR="@firebase/functions-compat",MR="@firebase/installations",FR="@firebase/installations-compat",jR="@firebase/messaging",UR="@firebase/messaging-compat",BR="@firebase/performance",zR="@firebase/performance-compat",$R="@firebase/remote-config",qR="@firebase/remote-config-compat",HR="@firebase/storage",WR="@firebase/storage-compat",KR="@firebase/firestore",GR="@firebase/vertexai",QR="@firebase/firestore-compat",YR="firebase",XR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",JR={[Yd]:"fire-core",[IR]:"fire-core-compat",[CR]:"fire-analytics",[RR]:"fire-analytics-compat",[kR]:"fire-app-check",[PR]:"fire-app-check-compat",[xR]:"fire-auth",[bR]:"fire-auth-compat",[OR]:"fire-rtdb",[DR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[VR]:"fire-fn",[LR]:"fire-fn-compat",[MR]:"fire-iid",[FR]:"fire-iid-compat",[jR]:"fire-fcm",[UR]:"fire-fcm-compat",[BR]:"fire-perf",[zR]:"fire-perf-compat",[$R]:"fire-rc",[qR]:"fire-rc-compat",[HR]:"fire-gcs",[WR]:"fire-gcs-compat",[KR]:"fire-fst",[QR]:"fire-fst-compat",[GR]:"fire-vertex","fire-js":"fire-js",[YR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,ZR=new Map,Jd=new Map;function gv(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fi(n){const e=n.name;if(Jd.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,n);for(const t of zc.values())gv(t,n);for(const t of ZR.values())gv(t,n);return!0}function Ul(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new dh("app","Firebase",eC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=XR;function j0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Vi.create("bad-app-name",{appName:String(o)});if(t||(t=D0()),!t)throw Vi.create("no-options");const l=zc.get(o);if(l){if(Il(t,l.options)&&Il(i,l.config))return l;throw Vi.create("duplicate-app",{appName:o})}const c=new lR(o);for(const p of Jd.values())c.addComponent(p);const f=new tC(t,i,c);return zc.set(o,f),f}function U0(n=Xd){const e=zc.get(n);if(!e&&n===Xd&&D0())return j0();if(!e)throw Vi.create("no-app",{appName:n});return e}function Sr(n,e,t){var i;let o=(i=JR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(f.join(" "));return}Fi(new ti(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-heartbeat-database",iC=1,Rl="firebase-heartbeat-store";let Rd=null;function B0(){return Rd||(Rd=F0(rC,iC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),Rd}async function sC(n){try{const t=(await B0()).transaction(Rl),i=await t.objectStore(Rl).get(z0(n));return await t.done,i}catch(e){if(e instanceof Ki)ni.warn(e.message);else{const t=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(t.message)}}}async function yv(n,e){try{const i=(await B0()).transaction(Rl,"readwrite");await i.objectStore(Rl).put(e,z0(n)),await i.done}catch(t){if(t instanceof Ki)ni.warn(t.message);else{const i=Vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ni.warn(i.message)}}}function z0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1024,aC=30*24*60*60*1e3;class lC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=vv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=aC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vv(),{heartbeatsToSend:i,unsentEntries:o}=uC(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ni.warn(t),""}}}function vv(){return new Date().toISOString().substring(0,10)}function uC(n,e=oC){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),_v(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_v(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class cC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?V0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return yv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return yv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _v(n){return Bc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n){Fi(new ti("platform-logger",e=>new SR(e),"PRIVATE")),Fi(new ti("heartbeat",e=>new lC(e),"PRIVATE")),Sr(Yd,mv,n),Sr(Yd,mv,"esm2017"),Sr("fire-js","")}hC("");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,$0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function R(){}R.prototype=A.prototype,b.D=A.prototype,b.prototype=new R,b.prototype.constructor=b,b.C=function(x,D,M){for(var C=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)C[ot-2]=arguments[ot];return A.prototype[D].apply(x,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,A,R){R||(R=0);var x=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)x[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;16>D;++D)x[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=b.g[0],R=b.g[1],D=b.g[2];var M=b.g[3],C=A+(M^R&(D^M))+x[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=M+(D^A&(R^D))+x[1]+3905402710&4294967295,M=A+(C<<12&4294967295|C>>>20),C=D+(R^M&(A^R))+x[2]+606105819&4294967295,D=M+(C<<17&4294967295|C>>>15),C=R+(A^D&(M^A))+x[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(M^R&(D^M))+x[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=M+(D^A&(R^D))+x[5]+1200080426&4294967295,M=A+(C<<12&4294967295|C>>>20),C=D+(R^M&(A^R))+x[6]+2821735955&4294967295,D=M+(C<<17&4294967295|C>>>15),C=R+(A^D&(M^A))+x[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(M^R&(D^M))+x[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=M+(D^A&(R^D))+x[9]+2336552879&4294967295,M=A+(C<<12&4294967295|C>>>20),C=D+(R^M&(A^R))+x[10]+4294925233&4294967295,D=M+(C<<17&4294967295|C>>>15),C=R+(A^D&(M^A))+x[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(M^R&(D^M))+x[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=M+(D^A&(R^D))+x[13]+4254626195&4294967295,M=A+(C<<12&4294967295|C>>>20),C=D+(R^M&(A^R))+x[14]+2792965006&4294967295,D=M+(C<<17&4294967295|C>>>15),C=R+(A^D&(M^A))+x[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(D^M&(R^D))+x[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=M+(R^D&(A^R))+x[6]+3225465664&4294967295,M=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(M^A))+x[11]+643717713&4294967295,D=M+(C<<14&4294967295|C>>>18),C=R+(M^A&(D^M))+x[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^M&(R^D))+x[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=M+(R^D&(A^R))+x[10]+38016083&4294967295,M=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(M^A))+x[15]+3634488961&4294967295,D=M+(C<<14&4294967295|C>>>18),C=R+(M^A&(D^M))+x[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^M&(R^D))+x[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=M+(R^D&(A^R))+x[14]+3275163606&4294967295,M=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(M^A))+x[3]+4107603335&4294967295,D=M+(C<<14&4294967295|C>>>18),C=R+(M^A&(D^M))+x[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^M&(R^D))+x[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=M+(R^D&(A^R))+x[2]+4243563512&4294967295,M=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(M^A))+x[7]+1735328473&4294967295,D=M+(C<<14&4294967295|C>>>18),C=R+(M^A&(D^M))+x[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(R^D^M)+x[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=M+(A^R^D)+x[8]+2272392833&4294967295,M=A+(C<<11&4294967295|C>>>21),C=D+(M^A^R)+x[11]+1839030562&4294967295,D=M+(C<<16&4294967295|C>>>16),C=R+(D^M^A)+x[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^M)+x[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=M+(A^R^D)+x[4]+1272893353&4294967295,M=A+(C<<11&4294967295|C>>>21),C=D+(M^A^R)+x[7]+4139469664&4294967295,D=M+(C<<16&4294967295|C>>>16),C=R+(D^M^A)+x[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^M)+x[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=M+(A^R^D)+x[0]+3936430074&4294967295,M=A+(C<<11&4294967295|C>>>21),C=D+(M^A^R)+x[3]+3572445317&4294967295,D=M+(C<<16&4294967295|C>>>16),C=R+(D^M^A)+x[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^M)+x[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=M+(A^R^D)+x[12]+3873151461&4294967295,M=A+(C<<11&4294967295|C>>>21),C=D+(M^A^R)+x[15]+530742520&4294967295,D=M+(C<<16&4294967295|C>>>16),C=R+(D^M^A)+x[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(D^(R|~M))+x[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=M+(R^(A|~D))+x[7]+1126891415&4294967295,M=A+(C<<10&4294967295|C>>>22),C=D+(A^(M|~R))+x[14]+2878612391&4294967295,D=M+(C<<15&4294967295|C>>>17),C=R+(M^(D|~A))+x[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~M))+x[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=M+(R^(A|~D))+x[3]+2399980690&4294967295,M=A+(C<<10&4294967295|C>>>22),C=D+(A^(M|~R))+x[10]+4293915773&4294967295,D=M+(C<<15&4294967295|C>>>17),C=R+(M^(D|~A))+x[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~M))+x[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=M+(R^(A|~D))+x[15]+4264355552&4294967295,M=A+(C<<10&4294967295|C>>>22),C=D+(A^(M|~R))+x[6]+2734768916&4294967295,D=M+(C<<15&4294967295|C>>>17),C=R+(M^(D|~A))+x[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~M))+x[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=M+(R^(A|~D))+x[11]+3174756917&4294967295,M=A+(C<<10&4294967295|C>>>22),C=D+(A^(M|~R))+x[2]+718787259&4294967295,D=M+(C<<15&4294967295|C>>>17),C=R+(M^(D|~A))+x[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+M&4294967295}i.prototype.u=function(b,A){A===void 0&&(A=b.length);for(var R=A-this.blockSize,x=this.B,D=this.h,M=0;M<A;){if(D==0)for(;M<=R;)o(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<A;)if(x[D++]=b.charCodeAt(M++),D==this.blockSize){o(this,x),D=0;break}}else for(;M<A;)if(x[D++]=b[M++],D==this.blockSize){o(this,x),D=0;break}}this.h=D,this.o+=A},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;var R=8*this.o;for(A=b.length-8;A<b.length;++A)b[A]=R&255,R/=256;for(this.u(b),b=Array(16),A=R=0;4>A;++A)for(var x=0;32>x;x+=8)b[R++]=this.g[A]>>>x&255;return b};function l(b,A){var R=f;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=A(b)}function c(b,A){this.h=A;for(var R=[],x=!0,D=b.length-1;0<=D;D--){var M=b[D]|0;x&&M==A||(R[D]=M,x=!1)}this.g=R}var f={};function p(b){return-128<=b&&128>b?l(b,function(A){return new c([A|0],0>A?-1:0)}):new c([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return T;if(0>b)return V(y(-b));for(var A=[],R=1,x=0;b>=R;x++)A[x]=b/R|0,R*=4294967296;return new c(A,0)}function _(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return V(_(b.substring(1),A));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(A,8)),x=T,D=0;D<b.length;D+=8){var M=Math.min(8,b.length-D),C=parseInt(b.substring(D,D+M),A);8>M?(M=y(Math.pow(A,M)),x=x.j(M).add(y(C))):(x=x.j(R),x=x.add(y(C)))}return x}var T=p(0),S=p(1),k=p(16777216);n=c.prototype,n.m=function(){if(U(this))return-V(this).m();for(var b=0,A=1,R=0;R<this.g.length;R++){var x=this.i(R);b+=(0<=x?x:4294967296+x)*A,A*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N(this))return"0";if(U(this))return"-"+V(this).toString(b);for(var A=y(Math.pow(b,6)),R=this,x="";;){var D=oe(R,A).g;R=H(R,D.j(A));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(b);if(R=D,N(R))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function N(b){if(b.h!=0)return!1;for(var A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function U(b){return b.h==-1}n.l=function(b){return b=H(this,b),U(b)?-1:N(b)?0:1};function V(b){for(var A=b.g.length,R=[],x=0;x<A;x++)R[x]=~b.g[x];return new c(R,~b.h).add(S)}n.abs=function(){return U(this)?V(this):this},n.add=function(b){for(var A=Math.max(this.g.length,b.g.length),R=[],x=0,D=0;D<=A;D++){var M=x+(this.i(D)&65535)+(b.i(D)&65535),C=(M>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);x=C>>>16,M&=65535,C&=65535,R[D]=C<<16|M}return new c(R,R[R.length-1]&-2147483648?-1:0)};function H(b,A){return b.add(V(A))}n.j=function(b){if(N(this)||N(b))return T;if(U(this))return U(b)?V(this).j(V(b)):V(V(this).j(b));if(U(b))return V(this.j(V(b)));if(0>this.l(k)&&0>b.l(k))return y(this.m()*b.m());for(var A=this.g.length+b.g.length,R=[],x=0;x<2*A;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<b.g.length;D++){var M=this.i(x)>>>16,C=this.i(x)&65535,ot=b.i(D)>>>16,Lt=b.i(D)&65535;R[2*x+2*D]+=C*Lt,X(R,2*x+2*D),R[2*x+2*D+1]+=M*Lt,X(R,2*x+2*D+1),R[2*x+2*D+1]+=C*ot,X(R,2*x+2*D+1),R[2*x+2*D+2]+=M*ot,X(R,2*x+2*D+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new c(R,0)};function X(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function ie(b,A){this.g=b,this.h=A}function oe(b,A){if(N(A))throw Error("division by zero");if(N(b))return new ie(T,T);if(U(b))return A=oe(V(b),A),new ie(V(A.g),V(A.h));if(U(A))return A=oe(b,V(A)),new ie(V(A.g),A.h);if(30<b.g.length){if(U(b)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,x=A;0>=x.l(b);)R=Ae(R),x=Ae(x);var D=_e(R,1),M=_e(x,1);for(x=_e(x,2),R=_e(R,2);!N(x);){var C=M.add(x);0>=C.l(b)&&(D=D.add(R),M=C),x=_e(x,1),R=_e(R,1)}return A=H(b,D.j(A)),new ie(D,A)}for(D=T;0<=b.l(A);){for(R=Math.max(1,Math.floor(b.m()/A.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=y(R),C=M.j(A);U(C)||0<C.l(b);)R-=x,M=y(R),C=M.j(A);N(M)&&(M=S),D=D.add(M),b=H(b,C)}return new ie(D,b)}n.A=function(b){return oe(this,b).h},n.and=function(b){for(var A=Math.max(this.g.length,b.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)&b.i(x);return new c(R,this.h&b.h)},n.or=function(b){for(var A=Math.max(this.g.length,b.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)|b.i(x);return new c(R,this.h|b.h)},n.xor=function(b){for(var A=Math.max(this.g.length,b.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)^b.i(x);return new c(R,this.h^b.h)};function Ae(b){for(var A=b.g.length+1,R=[],x=0;x<A;x++)R[x]=b.i(x)<<1|b.i(x-1)>>>31;return new c(R,b.h)}function _e(b,A){var R=A>>5;A%=32;for(var x=b.g.length-R,D=[],M=0;M<x;M++)D[M]=0<A?b.i(M+R)>>>A|b.i(M+R+1)<<32-A:b.i(M+R);return new c(D,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Ps=c}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,ul,H0,Ic,Zd,W0,K0,G0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var F=u[E];if(!(F in v))break e;v=v[F]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,F={next:function(){if(!E&&v<u.length){var q=v++;return{value:m(q,u[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function k(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function N(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,F,q){for(var ee=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ee[$e-2]=arguments[$e];return m.prototype[F].apply(E,ee)}}function U(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function V(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const F=u.length||0,q=E.length||0;u.length=F+q;for(let ee=0;ee<q;ee++)u[F+ee]=E[ee]}else u.push(E)}}class H{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function oe(u){return oe[" "](u),u}oe[" "]=function(){};var Ae=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function _e(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function b(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(v in E)u[v]=E[v];for(let q=0;q<R.length;q++)v=R[q],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function D(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){f.setTimeout(()=>{throw u},0)}function C(){var u=ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ot{constructor(){this.h=this.g=null}add(m,v){const E=Lt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Lt=new H(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,ne=!1,ge=new ot,ae=()=>{const u=f.Promise.resolve(void 0);qe=()=>{u.then(L)}};var L=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){M(v)}var m=Lt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Ce(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ae){e:{try{oe(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,pe);var Oe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Be=0;function We(u,m,v,E,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=F,this.key=++Be,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kr(u){this.src=u,this.g={},this.h=0}kr.prototype.add=function(u,m,v,E,F){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ee=oi(u,m,E,F);return-1<ee?(m=u[ee],v||(m.fa=!1)):(m=new We(m,this.src,q,!!E,F),m.fa=v,u.push(m)),m};function qs(u,m){var v=m.type;if(v in u.g){var E=u.g[v],F=Array.prototype.indexOf.call(E,m,void 0),q;(q=0<=F)&&Array.prototype.splice.call(E,F,1),q&&(Tt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function oi(u,m,v,E){for(var F=0;F<u.length;++F){var q=u[F];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==E)return F}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Hs={};function fa(u,m,v,E,F){if(Array.isArray(m)){for(var q=0;q<m.length;q++)fa(u,m[q],v,E,F);return null}return v=ma(v),u&&u[Ue]?u.K(m,v,y(E)?!!E.capture:!!E,F):da(u,m,v,!1,E,F)}function da(u,m,v,E,F,q){if(!m)throw Error("Invalid event type");var ee=y(F)?!!F.capture:!!F,$e=Ks(u);if($e||(u[Yi]=$e=new kr(u)),v=$e.add(m,v,E,ee,q),v.proxy)return v;if(E=Kl(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Re||(F=ee),F===void 0&&(F=!1),u.addEventListener(m.toString(),E,F);else if(u.attachEvent)u.attachEvent(br(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kl(){function u(v){return m.call(u.src,u.listener,v)}const m=pa;return u}function Ws(u,m,v,E,F){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ws(u,m[q],v,E,F);else E=y(E)?!!E.capture:!!E,v=ma(v),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],v=oi(q,v,E,F),-1<v&&(Tt(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ks(u))&&(m=u.g[m.toString()],u=-1,m&&(u=oi(m,v,E,F)),(v=-1<u?m[u]:null)&&xr(v))}function xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])qs(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(br(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Ks(m))?(qs(v,u),v.h==0&&(v.src=null,m[Yi]=null)):Tt(u)}}}function br(u){return u in Hs?Hs[u]:Hs[u]="on"+u}function pa(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&xr(u),u=v.call(E,m)}return u}function Ks(u){return u=u[Yi],u instanceof kr?u:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ma(u){return typeof u=="function"?u:(u[Gs]||(u[Gs]=function(m){return u.handleEvent(m)}),u[Gs])}function mt(){K.call(this),this.i=new kr(this),this.M=this,this.F=null}N(mt,K),mt.prototype[Ue]=!0,mt.prototype.removeEventListener=function(u,m,v,E){Ws(this,u,m,v,E)};function gt(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var F=m;m=new pe(E,u),x(m,F)}if(F=!0,v)for(var q=v.length-1;0<=q;q--){var ee=m.g=v[q];F=Or(ee,E,!0,m)&&F}if(ee=m.g=u,F=Or(ee,E,!0,m)&&F,F=Or(ee,E,!1,m)&&F,v)for(q=0;q<v.length;q++)ee=m.g=v[q],F=Or(ee,E,!1,m)&&F}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)Tt(v[E]);delete u.g[m],u.h--}}this.F=null},mt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},mt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Or(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,q=0;q<m.length;++q){var ee=m[q];if(ee&&!ee.da&&ee.capture==v){var $e=ee.listener,yt=ee.ha||ee.src;ee.fa&&qs(u.i,ee),F=$e.call(yt,E)!==!1&&F}}return F&&!E.defaultPrevented}function ga(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function ai(u){u.g=ga(()=>{u.g=null,u.i&&(u.i=!1,ai(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xi extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(u){K.call(this),this.h=u,this.g={}}N(Ji,K);var ya=[];function va(u){_e(u.g,function(m,v){this.g.hasOwnProperty(v)&&xr(m)},u),u.g={}}Ji.prototype.N=function(){Ji.aa.N.call(this),va(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=f.JSON.stringify,wa=f.JSON.parse,Ea=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Zi(){}Zi.prototype.h=null;function Qs(u){return u.h||(u.h=u.i())}function Ys(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){pe.call(this,"d")}N(or,pe);function Xs(){pe.call(this,"c")}N(Xs,pe);var ar={},Ta=null;function es(){return Ta=Ta||new mt}ar.La="serverreachability";function Sa(u){pe.call(this,ar.La,u)}N(Sa,pe);function Dr(u){const m=es();gt(m,new Sa(m))}ar.STAT_EVENT="statevent";function Aa(u,m){pe.call(this,ar.STAT_EVENT,u),this.stat=m}N(Aa,pe);function at(u){const m=es();gt(m,new Aa(m,u))}ar.Ma="timingevent";function Js(u,m){pe.call(this,ar.Ma,u),this.size=m}N(Js,pe);function Vn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function ns(u,m,v,E,F,q){u.info(function(){if(u.g)if(q)for(var ee="",$e=q.split("&"),yt=0;yt<$e.length;yt++){var De=$e[yt].split("=");if(1<De.length){var St=De[0];De=De[1];var ht=St.split("_");ee=2<=ht.length&&ht[1]=="type"?ee+(St+"="+De+"&"):ee+(St+"=redacted&")}}else ee=null;else ee=q;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+m+`
`+v+`
`+ee})}function Zs(u,m,v,E,F,q,ee){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+m+`
`+v+`
`+q+" "+ee})}function Ln(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(E?" "+E:"")})}function Ia(u,m){u.info(function(){return"TIMEOUT: "+m})}ts.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return _a(v)}catch{return m}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function rs(){}N(rs,Zi),rs.prototype.g=function(){return new XMLHttpRequest},rs.prototype.i=function(){return{}},Mn=new rs;function Fn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ql}function Ql(){this.i=null,this.g="",this.h=!1}var Ra={},to={};function no(u,m,v){u.L=1,u.v=fi(un(m)),u.m=v,u.P=!0,Ca(u,null)}function Ca(u,m){u.F=Date.now(),Ke(u),u.A=un(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),pi(v.i,"t",E),u.C=0,v=u.j.J,u.h=new Ql,u.g=du(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Xi(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(ya[0]=F.toString()),F=ya);for(var q=0;q<F.length;q++){var ee=fa(v,F[q],E||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Dr(),ns(u.i,u.u,u.A,u.l,u.R,u.m)}Fn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Xt(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const ht=Xt(this.g);var m=this.g.Ba();const Sn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Da(this.g)))){this.J||ht!=4||m==7||(m==8||0>=Sn?Dr(3):Dr(2)),is(this);var v=this.g.Z();this.X=v;t:if(Yl(this)){var E=Da(this.g);u="";var F=E.length,q=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),li(this);var ee="";break t}this.h.i=new f.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(q&&m==F-1)});E.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=v==200,Zs(this.i,this.u,this.A,this.l,this.R,ht,v),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,yt=this.g;if(($e=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X($e)){var De=$e;break t}}De=null}if(v=De)Ln(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,v);else{this.o=!1,this.s=3,at(12),En(this),li(this);break e}}if(this.P){v=!0;let hn;for(;!this.J&&this.C<ee.length;)if(hn=Lh(this,ee),hn==to){ht==4&&(this.s=4,at(14),v=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Ra){this.s=4,at(15),Ln(this.i,this.l,ee,"[Invalid Chunk]"),v=!1;break}else Ln(this.i,this.l,hn,null),Pa(this,hn);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||ee.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)Ln(this.i,this.l,ee,"[Invalid Chunked Response]"),En(this),li(this);else if(0<ee.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Va(St),St.M=!0,at(11))}}else Ln(this.i,this.l,ee,null),Pa(this,ee);ht==4&&En(this),this.o&&!this.J&&(ht==4?po(this.j,this):(this.o=!1,Ke(this)))}else lo(this.g),v==400&&0<ee.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),En(this),li(this)}}}catch{}finally{}};function Yl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Lh(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?to:(v=Number(m.substring(v,E)),isNaN(v)?Ra:(E+=1,E+v>m.length?to:(m=m.slice(E,E+v),u.C=E+v,m)))}Fn.prototype.cancel=function(){this.J=!0,En(this)};function Ke(u){u.S=Date.now()+u.I,Xl(u,u.I)}function Xl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Vn(S(u.ba,u),m)}function is(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ia(this.i,this.A),this.L!=2&&(Dr(),at(17)),En(this),this.s=2,li(this)):Xl(this,this.S-u)};function li(u){u.j.G==0||u.J||po(u.j,u)}function En(u){is(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,va(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Pa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Ht(v.h,u))){if(!u.K&&Ht(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)fo(v),$n(v);else break e;ho(v),at(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Vn(S(v.Za,v),6e3));if(1>=Zl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fr(v,11)}else if((u.K||v.g==u)&&fo(v),!X(m))for(F=v.Da.g.parse(m),m=0;m<F.length;m++){let De=F[m];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const St=De[3];St!=null&&(v.la=St,v.j.info("VER="+v.la));const ht=De[4];ht!=null&&(v.Aa=ht,v.j.info("SVER="+v.Aa));const Sn=De[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(E=1.5*Sn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const hn=u.g;if(hn){const hs=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var q=E.h;q.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ka(q,q.h),q.h=null))}if(E.D){const go=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(E.ya=go,He(E.I,E.D,go))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ee=u;if(E.qa=fu(E,E.J?E.ia:null,E.W),ee.K){eu(E.h,ee);var $e=ee,yt=E.L;yt&&($e.I=yt),$e.B&&(is($e),Ke($e)),E.g=ee}else cs(E);0<v.i.length&&hr(v)}else De[0]!="stop"&&De[0]!="close"||Fr(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Fr(v,7):kt(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}Dr(4)}catch{}}var Jl=class{constructor(u,m){this.g=u,this.map=m}};function ss(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Zl(u){return u.h?1:u.g?u.g.size:0}function Ht(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ka(u,m){u.g?u.g.add(m):u.h=m}function eu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ss.prototype.cancel=function(){if(this.i=tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return U(u.i)}function ro(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function io(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function ui(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=io(u),E=ro(u),F=E.length,q=0;q<F;q++)m.call(void 0,E[q],v&&v[q],u)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),F=null;if(0<=E){var q=u[v].substring(0,E);F=u[v].substring(E+1)}else q=u[v];m(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nr){this.h=u.h,as(this,u.j),this.o=u.o,this.g=u.g,ci(this,u.s),this.l=u.l;var m=u.i,v=new lr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),hi(this,v),this.m=u.m}else u&&(m=String(u).match(os))?(this.h=!1,as(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),ci(this,m[4]),this.l=xe(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}Nr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(di(m,so,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(di(m,so,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(di(v,v.charAt(0)=="/"?iu:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",di(v,xa)),u.join("")};function un(u){return new Nr(u)}function as(u,m,v){u.j=v?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ci(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,v){m instanceof lr?(u.i=m,ur(u.i,u.h)):(v||(m=di(m,su)),u.i=new lr(m,u.h))}function He(u,m,v){u.i.set(m,v)}function fi(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function di(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var so=/[#\/\?@]/g,ru=/[#\?:]/g,iu=/[#\?]/g,su=/[#\?@]/g,xa=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&Mh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=lr.prototype,n.add=function(u,m){Pt(this),this.i=null,u=Tn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function jn(u,m){Pt(u),m=Tn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Un(u,m){return Pt(u),m=Tn(u,m),u.g.has(m)}n.forEach=function(u,m){Pt(this),this.g.forEach(function(v,E){v.forEach(function(F){u.call(m,F,E,this)},this)},this)},n.na=function(){Pt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const F=u[E];for(let q=0;q<F.length;q++)v.push(m[E])}return v},n.V=function(u){Pt(this);let m=[];if(typeof u=="string")Un(this,u)&&(m=m.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Pt(this),this.i=null,u=Tn(this,u),Un(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function pi(u,m,v){jn(u,m),0<v.length&&(u.i=null,u.g.set(Tn(u,m),U(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const q=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var F=q;ee[E]!==""&&(F+="="+encodeURIComponent(String(ee[E]))),u.push(F)}}return this.i=u.join("&")};function Tn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ur(u,m){m&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(v,E){var F=E.toLowerCase();E!=F&&(jn(this,E),pi(this,F,v))},u)),u.j=m}function Fh(u,m){const v=new ts;if(f.Image){const E=new Image;E.onload=k(Yt,v,"TestLoadImage: loaded",!0,m,E),E.onerror=k(Yt,v,"TestLoadImage: error",!1,m,E),E.onabort=k(Yt,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=k(Yt,v,"TestLoadImage: timeout",!1,m,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function ou(u,m){const v=new ts,E=new AbortController,F=setTimeout(()=>{E.abort(),Yt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(F),q.ok?Yt(v,"TestPingServer: ok",!0,m):Yt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Yt(v,"TestPingServer: error",!1,m)})}function Yt(u,m,v,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(v)}catch{}}function jh(){this.g=new Ea}function au(u,m,v){const E=v||"";try{ui(u,function(F,q){let ee=F;y(F)&&(ee=_a(F)),m.push(E+q+"="+encodeURIComponent(ee))})}catch(F){throw m.push(E+"type="+encodeURIComponent("_badmap")),F}}function Vr(u){this.l=u.Ub||null,this.j=u.eb||!1}N(Vr,Zi),Vr.prototype.g=function(){return new ls(this.l,this.j)},Vr.prototype.i=function(u){return function(){return u}}({});function ls(u,m){mt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ls,mt),n=ls.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,zn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function lu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bn(this):zn(this),this.readyState==3&&lu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Bn(this))},n.Qa=function(u){this.g&&(this.response=u,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,zn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Lr(u){let m="";return _e(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function mi(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=Lr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):He(u,m,v))}function Ze(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ze,mt);var Uh=/^https?$/i,ba=["POST","PUT"];n=Ze.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Qs(this.o):Qs(Mn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){us(this,q);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)v.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())v.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ba,m,void 0))||E||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){us(this,q)}};function us(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,oo(u),cn(u)}function oo(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,gt(this,"complete"),gt(this,"abort"),cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},n.bb=function(){Oa(this)};function Oa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Xt(u)!=4||u.Z()!=2)){if(u.u&&Xt(u)==4)ga(u.Ea,0,u);else if(gt(u,"readystatechange"),Xt(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ee===0){var F=String(u.D).match(os)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),E=!Uh.test(F?F.toLowerCase():"")}v=E}if(v)gt(u,"complete"),gt(u,"success");else{u.m=6;try{var q=2<Xt(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",oo(u)}}finally{cn(u)}}}}function cn(u,m){if(u.g){ao(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||gt(u,"ready");try{v.onreadystatechange=E}catch{}}}function ao(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Xt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wa(m)}};function Da(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(u){const m={};u=(u.g&&2<=Xt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(X(u[E]))continue;var v=D(u[E]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[F]||[];m[F]=q,q.push(v)}b(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Na(u){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,u),this.cb=cr("retryDelaySeedMs",1e4,u),this.Wa=cr("forwardChannelMaxRetries",2,u),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ss(u&&u.concurrentRequestLimit),this.Da=new jh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Na.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){at(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=fu(this,null,this.W),hr(this)};function kt(u){if(uo(u),u.G==3){var m=u.U++,v=un(u.I);if(He(v,"SID",u.K),He(v,"RID",m),He(v,"TYPE","terminate"),Mr(u,v),m=new Fn(u,u.j,m),m.L=2,m.v=fi(un(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=du(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ke(m)}hu(u)}function $n(u){u.g&&(Va(u),u.g.cancel(),u.g=null)}function uo(u){$n(u),u.u&&(f.clearTimeout(u.u),u.u=null),fo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function hr(u){if(!ln(u.h)&&!u.s){u.s=!0;var m=u.Ga;qe||ae(),ne||(qe(),ne=!0),ge.add(m,u),u.B=0}}function Bh(u,m){return Zl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Vn(S(u.Ga,u,m),cu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Fn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=A(q),x(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=gi(this,F,m),v=un(this.I),He(v,"RID",u),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),Mr(this,v),q&&(this.O?m="headers="+encodeURIComponent(String(Lr(q)))+"&"+m:this.m&&mi(v,this.m,q)),ka(this.h,F),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",m),He(v,"SID","null"),F.T=!0,no(F,v,null)):no(F,v,m),this.G=2}}else this.G==3&&(u?co(this,u):this.i.length==0||ln(this.h)||co(this))};function co(u,m){var v;m?v=m.l:v=u.U++;const E=un(u.I);He(E,"SID",u.K),He(E,"RID",v),He(E,"AID",u.T),Mr(u,E),u.m&&u.o&&mi(E,u.m,u.o),v=new Fn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=gi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ka(u.h,v),no(v,E,m)}function Mr(u,m){u.H&&_e(u.H,function(v,E){He(m,E,v)}),u.l&&ui({},function(v,E){He(m,E,v)})}function gi(u,m,v){v=Math.min(u.i.length,v);var E=u.l?S(u.l.Na,u.l,u):null;e:{var F=u.i;let q=-1;for(;;){const ee=["count="+v];q==-1?0<v?(q=F[0].g,ee.push("ofs="+q)):q=0:ee.push("ofs="+q);let $e=!0;for(let yt=0;yt<v;yt++){let De=F[yt].g;const St=F[yt].map;if(De-=q,0>De)q=Math.max(0,F[yt].g-100),$e=!1;else try{au(St,ee,"req"+De+"_")}catch{E&&E(St)}}if($e){E=ee.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function cs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;qe||ae(),ne||(qe(),ne=!0),ge.add(m,u),u.v=0}}function ho(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Vn(S(u.Fa,u),cu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Vn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),$n(this),uu(this))};function Va(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function uu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);He(m,"RID","rpc"),He(m,"SID",u.K),He(m,"AID",u.T),He(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(m,"TO",u.ja),He(m,"TYPE","xmlhttp"),Mr(u,m),u.m&&u.o&&mi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=fi(un(m)),v.m=null,v.P=!0,Ca(v,u)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),ho(this),at(19))};function fo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function po(u,m){var v=null;if(u.g==m){fo(u),Va(u),u.g=null;var E=2}else if(Ht(u.h,m))v=m.D,eu(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;E=es(),gt(E,new Js(E,v)),hr(u)}else cs(u);else if(F=m.s,F==3||F==0&&0<m.X||!(E==1&&Bh(u,m)||E==2&&ho(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),F){case 1:Fr(u,5);break;case 4:Fr(u,10);break;case 3:Fr(u,6);break;default:Fr(u,2)}}}function cu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Fr(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),E=u.Xa;const F=!E;E=new Nr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||as(E,"https"),fi(E),F?Fh(E.toString(),v):ou(E.toString(),v)}else at(2);u.G=0,u.l&&u.l.sa(m),hu(u),uo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function hu(u){if(u.G=0,u.ka=[],u.l){const m=tu(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function fu(u,m,v){var E=v instanceof Nr?un(v):new Nr(v);if(E.g!="")m&&(E.g=m+"."+E.g),ci(E,E.s);else{var F=f.location;E=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var q=new Nr(null);E&&as(q,E),m&&(q.g=m),F&&ci(q,F),v&&(q.l=v),E=q}return v=u.D,m=u.ya,v&&m&&He(E,v,m),He(E,"VER",u.la),Mr(u,E),E}function du(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ze(new Vr({eb:v})):new Ze(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function La(){}n=La.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mo(){}mo.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){mt.call(this),this.g=new Na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!X(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new fr(this)}N(Wt,mt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){kt(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=_a(u),u=v);m.i.push(new Jl(m.Ya++,u)),m.G==3&&hr(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Wt.aa.N.call(this)};function pu(u){or.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(pu,or);function mu(){Xs.call(this),this.status=1}N(mu,Xs);function fr(u){this.g=u}N(fr,La),fr.prototype.ua=function(){gt(this.g,"a")},fr.prototype.ta=function(u){gt(this.g,new pu(u))},fr.prototype.sa=function(u){gt(this.g,new mu)},fr.prototype.ra=function(){gt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,G0=function(){return new mo},K0=function(){return es()},W0=ar,Zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Ic=eo,Gl.COMPLETE="complete",H0=Gl,Ys.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ul=Ys,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,q0=Ze}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Lp("@firebase/firestore");function jo(){return Ds.logLevel}function le(n,...e){if(Ds.logLevel<=Ve.DEBUG){const t=e.map(Fp);Ds.debug(`Firestore (${aa}): ${n}`,...t)}}function ri(n,...e){if(Ds.logLevel<=Ve.ERROR){const t=e.map(Fp);Ds.error(`Firestore (${aa}): ${n}`,...t)}}function Go(n,...e){if(Ds.logLevel<=Ve.WARN){const t=e.map(Fp);Ds.warn(`Firestore (${aa}): ${n}`,...t)}}function Fp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+n;throw ri(e),new Error(e)}function ze(n,e){n||Te()}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Jr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Jr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new Q0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new $t(e)}}class mC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new mC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new yC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=_C(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function be(n,e){return n<e?-1:n>e?1:0}function Qo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Cl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Je extends Cl{construct(e,t,i){return new Je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const wC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Cl{construct(e,t,i){return new Nt(e,t,i)}static isValidIdentifier(e){return wC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new he(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new he(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new he(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Je.fromString(e))}static fromName(e){return new me(Je.fromString(e).popFirst(5))}static empty(){return new me(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Je(e.slice()))}}function EC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new wt(t+1,0):new wt(t,i));return new ji(o,me.empty(),e)}function TC(n){return new ji(n.readTime,n.key,-1)}class ji{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ji(Ie.min(),me.empty(),-1)}static max(){return new ji(Ie.max(),me.empty(),-1)}}function SC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==AC)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,i)=>{t(e)})}static reject(e){return new W((t,i)=>{i(e)})}static waitFor(e){return new W((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=W.resolve(!1);for(const i of e)t=t.next(o=>o?W.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new W((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++f,f===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new W((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function RC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ua(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ph.oe=-1;function mh(n){return n==null}function $c(n){return n===0&&1/n==-1/0}function CC(n){return typeof n=="number"&&Number.isInteger(n)&&!$c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Tv(e)),e=kC(n.get(t),e);return Tv(e)}function kC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Tv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xC(n,e){const t=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(e(n[i],i,n));return t}function X0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(e){return new Av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class Av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new Et(Nt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new J0("Invalid base64 string: "+l):l}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const bC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(n){if(ze(!!n),typeof n=="string"){let e=0;const t=bC.exec(n);if(ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bi(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function gh(n){const e=n.mapValue.fields.__previous_value__;return jp(e)?gh(e):e}function Pl(n){const e=Ui(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t,i,o,l,c,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jp(n)?4:NC(n)?9007199254740991:DC(n)?10:11:Te()}function Cr(n,e){if(n===e)return!0;const t=zi(n);if(t!==zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ui(o.timestampValue),f=Ui(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Bi(o.bytesValue).isEqual(Bi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ct(o.doubleValue),f=ct(l.doubleValue);return c===f?$c(c)===$c(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Qo(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Sv(c)!==Sv(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!Cr(c[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function xl(n,e){return(n.values||[]).find(t=>Cr(t,e))!==void 0}function Yo(n,e){if(n===e)return 0;const t=zi(n),i=zi(e);if(t!==i)return be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=ct(l.integerValue||l.doubleValue),p=ct(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Iv(n.timestampValue,e.timestampValue);case 4:return Iv(Pl(n),Pl(e));case 5:return be(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Bi(l),p=Bi(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=be(f[y],p[y]);if(_!==0)return _}return be(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=be(ct(l.latitude),ct(c.latitude));return f!==0?f:be(ct(l.longitude),ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Rv(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,y,_;const T=l.fields||{},S=c.fields||{},k=(f=T.value)===null||f===void 0?void 0:f.arrayValue,N=(p=S.value)===null||p===void 0?void 0:p.arrayValue,U=be(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:Rv(k,N)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===gc.mapValue&&c===gc.mapValue)return 0;if(l===gc.mapValue)return 1;if(c===gc.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=be(p[T],_[T]);if(S!==0)return S;const k=Yo(f[p[T]],y[_[T]]);if(k!==0)return k}return be(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function Iv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=Ui(n),i=Ui(e),o=be(t.seconds,i.seconds);return o!==0?o:be(t.nanos,i.nanos)}function Rv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Yo(t[o],i[o]);if(l)return l}return be(t.length,i.length)}function Xo(n){return ep(n)}function ep(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ui(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=ep(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${ep(t.fields[c])}`;return o+"}"}(n.mapValue):Te()}function Rc(n){switch(zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(n);return e?16+Rc(e):16;case 5:return 2*n.stringValue.length;case 6:return Bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Rc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Gi(i.fields,(l,c)=>{o+=l.length+Rc(c)}),o}(n.mapValue);default:throw Te()}}function Cv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tp(n){return!!n&&"integerValue"in n}function Up(n){return!!n&&"arrayValue"in n}function Pv(n){return!!n&&"nullValue"in n}function kv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cc(n){return!!n&&"mapValue"in n}function DC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function gl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=gl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Cc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(t)}setAll(e){let t=Nt.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=gl(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Cc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Gi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new on(gl(this.value))}}function Z0(n){const e=[];return Gi(n.fields,(t,i)=>{const o=new Nt([t]);if(Cc(i)){const l=Z0(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new qt(e,0,Ie.min(),Ie.min(),Ie.min(),on.empty(),0)}static newFoundDocument(e,t,i,o){return new qt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ie.min(),Ie.min(),on.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ie.min(),Ie.min(),on.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.position=e,this.inclusive=t}}function xv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=me.comparator(me.fromName(c.referenceValue),t.key):i=Yo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function bv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t="asc"){this.field=e,this.dir=t}}function VC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{}class pt extends ew{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new MC(e,t,i):t==="array-contains"?new UC(e,i):t==="in"?new BC(e,i):t==="not-in"?new zC(e,i):t==="array-contains-any"?new $C(e,i):new pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new FC(e,i):new jC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yo(t,this.value)):t!==null&&zi(this.value)===zi(t)&&this.matchesComparison(Yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends ew{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new nr(e,t)}matches(e){return tw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tw(n){return n.op==="and"}function nw(n){return LC(n)&&tw(n)}function LC(n){for(const e of n.filters)if(e instanceof nr)return!1;return!0}function np(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(nw(n))return n.filters.map(e=>np(e)).join(",");{const e=n.filters.map(t=>np(t)).join(",");return`${n.op}(${e})`}}function rw(n,e){return n instanceof pt?function(i,o){return o instanceof pt&&i.op===o.op&&i.field.isEqual(o.field)&&Cr(i.value,o.value)}(n,e):n instanceof nr?function(i,o){return o instanceof nr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&rw(c,o.filters[f]),!0):!1}(n,e):void Te()}function iw(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`}(n):n instanceof nr?function(t){return t.op.toString()+" {"+t.getFilters().map(iw).join(" ,")+"}"}(n):"Filter"}class MC extends pt{constructor(e,t,i){super(e,t,i),this.key=me.fromName(i.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class FC extends pt{constructor(e,t){super(e,"in",t),this.keys=sw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jC extends pt{constructor(e,t){super(e,"not-in",t),this.keys=sw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>me.fromName(i.referenceValue))}class UC extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Up(t)&&xl(t.arrayValue,this.value)}}class BC extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xl(this.value.arrayValue,t)}}class zC extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xl(this.value.arrayValue,t)}}class $C extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Up(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.ue=null}}function Ov(n,e=null,t=[],i=[],o=null,l=null,c=null){return new qC(n,e,t,i,o,l,c)}function Bp(n){const e=Se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>np(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xo(i)).join(",")),e.ue=t}return e.ue}function zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bv(n.startAt,e.startAt)&&bv(n.endAt,e.endAt)}function rp(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HC(n,e,t,i,o,l,c,f){return new Bl(n,e,t,i,o,l,c,f)}function $p(n){return new Bl(n)}function Dv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ow(n){return n.collectionGroup!==null}function yl(n){const e=Se(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Et(Nt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Hc(l,i))}),t.has(Nt.keyField().canonicalString())||e.ce.push(new Hc(Nt.keyField(),i))}return e.ce}function Ar(n){const e=Se(n);return e.le||(e.le=aw(e,yl(n))),e.le}function WC(n){const e=Se(n);return e.he||(e.he=aw(e,n.explicitOrderBy)),e.he}function aw(n,e){if(n.limitType==="F")return Ov(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Hc(o.field,l)});const t=n.endAt?new qc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new qc(n.startAt.position,n.startAt.inclusive):null;return Ov(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ip(n,e){const t=n.filters.concat([e]);return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sp(n,e,t){return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yh(n,e){return zp(Ar(n),Ar(e))&&n.limitType===e.limitType}function lw(n){return`${Bp(Ar(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>iw(o)).join(", ")}]`),mh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Xo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Xo(o)).join(",")),`Target(${i})`}(Ar(n))}; limitType=${n.limitType})`}function vh(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of yl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const y=xv(c,f,p);return c.inclusive?y<=0:y<0}(i.startAt,yl(i),o)||i.endAt&&!function(c,f,p){const y=xv(c,f,p);return c.inclusive?y>=0:y>0}(i.endAt,yl(i),o))}(n,e)}function KC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uw(n){return(e,t)=>{let i=!1;for(const o of yl(n)){const l=GC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function GC(n,e,t){const i=n.field.isKeyField()?me.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Yo(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new it(me.comparator);function ii(){return QC}const cw=new it(me.comparator);function cl(...n){let e=cw;for(const t of n)e=e.insert(t.key,t);return e}function hw(n){let e=cw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Is(){return vl()}function fw(){return vl()}function vl(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const YC=new it(me.comparator),XC=new Et(me.comparator);function ke(...n){let e=XC;for(const t of n)e=e.add(t);return e}const JC=new Et(be);function ZC(){return JC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function dw(n){return{integerValue:""+n}}function eP(n,e){return CC(e)?dw(e):qp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function tP(n,e,t){return n instanceof Wc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&jp(l)&&(l=gh(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof Jo?mw(n,e):n instanceof bl?gw(n,e):function(o,l){const c=pw(o,l),f=Nv(c)+Nv(o.Pe);return tp(c)&&tp(o.Pe)?dw(f):qp(o.serializer,f)}(n,e)}function nP(n,e,t){return n instanceof Jo?mw(n,e):n instanceof bl?gw(n,e):t}function pw(n,e){return n instanceof Kc?function(i){return tp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Wc extends _h{}class Jo extends _h{constructor(e){super(),this.elements=e}}function mw(n,e){const t=yw(e);for(const i of n.elements)t.some(o=>Cr(o,i))||t.push(i);return{arrayValue:{values:t}}}class bl extends _h{constructor(e){super(),this.elements=e}}function gw(n,e){let t=yw(e);for(const i of n.elements)t=t.filter(o=>!Cr(o,i));return{arrayValue:{values:t}}}class Kc extends _h{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Nv(n){return ct(n.integerValue||n.doubleValue)}function yw(n){return Up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t){this.field=e,this.transform=t}}function iP(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Jo&&o instanceof Jo||i instanceof bl&&o instanceof bl?Qo(i.elements,o.elements,Cr):i instanceof Kc&&o instanceof Kc?Cr(i.Pe,o.Pe):i instanceof Wc&&o instanceof Wc}(n.transform,e.transform)}class sP{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class wh{}function vw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ww(n.key,Ir.none()):new zl(n.key,n.data,Ir.none());{const t=n.data,i=on.empty();let o=new Et(Nt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Qi(n.key,i,new yn(o.toArray()),Ir.none())}}function oP(n,e,t){n instanceof zl?function(o,l,c){const f=o.value.clone(),p=Lv(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Qi?function(o,l,c){if(!Pc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Lv(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(_w(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function _l(n,e,t,i){return n instanceof zl?function(l,c,f,p){if(!Pc(l.precondition,c))return f;const y=l.value.clone(),_=Mv(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Qi?function(l,c,f,p){if(!Pc(l.precondition,c))return f;const y=Mv(l.fieldTransforms,p,c),_=c.data;return _.setAll(_w(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,f){return Pc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function aP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=pw(i.transform,o||null);l!=null&&(t===null&&(t=on.empty()),t.set(i.field,l))}return t||null}function Vv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Qo(i,o,(l,c)=>iP(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zl extends wh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qi extends wh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _w(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Lv(n,e,t){const i=new Map;ze(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,nP(c,f,t[o]))}return i}function Mv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,tP(l,c,e))}return i}class ww extends wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lP extends wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&oP(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=_l(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=_l(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=fw();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=vw(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(t,i)=>Vv(t,i))&&Qo(this.baseMutations,e.baseMutations,(t,i)=>Vv(t,i))}}class Hp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length);let o=function(){return YC}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Hp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,i){this.alias=e,this.aggregateType=t,this.fieldPath=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ne;function dP(n){switch(n){default:return Te();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function Ew(n){if(n===void 0)return ri("GRPC error has no .code"),G.UNKNOWN;switch(n){case dt.OK:return G.OK;case dt.CANCELLED:return G.CANCELLED;case dt.UNKNOWN:return G.UNKNOWN;case dt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case dt.INTERNAL:return G.INTERNAL;case dt.UNAVAILABLE:return G.UNAVAILABLE;case dt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case dt.NOT_FOUND:return G.NOT_FOUND;case dt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case dt.ABORTED:return G.ABORTED;case dt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case dt.DATA_LOSS:return G.DATA_LOSS;default:return Te()}}(Ne=dt||(dt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Ps([4294967295,4294967295],0);function Fv(n){const e=pP().encode(n),t=new $0;return t.update(e),new Uint8Array(t.digest())}function jv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ps([t,i],0),new Ps([o,l],0)]}class Wp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new hl(`Invalid padding: ${t}`);if(i<0)throw new hl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new hl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ps.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Ps.fromNumber(i)));return o.compare(mP)===1&&(o=new Ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Fv(e),[i,o]=jv(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wp(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const t=Fv(e),[i,o]=jv(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Eh(Ie.min(),o,new it(be),ii(),ke())}}class $l{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $l(i,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Tw{constructor(e,t){this.targetId=e,this.me=t}}class Sw{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Uv{constructor(){this.fe=0,this.ge=Bv(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),t=ke(),i=ke();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new $l(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Bv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gP{constructor(e){this.Le=e,this.Be=new Map,this.ke=ii(),this.qe=yc(),this.Qe=yc(),this.Ke=new it(be)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(rp(l))if(i===0){const c=new me(l.path);this.We(t,c,qt.newNoDocument(c,Ie.min()))}else ze(i===1);else{const c=this.Ze(t);if(c!==i){const f=this.Xe(e),p=f?this.et(f,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Bi(i).toUint8Array()}catch(p){if(p instanceof J0)return Go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Wp(c,o,l)}catch(p){return Go(p instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const f=this.Ye(c);if(f){if(l.current&&rp(f.target)){const p=new me(f.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,qt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=ke();this.Qe.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Eh(e,t,this.Ke,this.ke,i);return this.ke=ii(),this.qe=yc(),this.Qe=yc(),this.Ke=new it(be),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Uv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(be),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(be),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Uv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function yc(){return new it(me.comparator)}function Bv(){return new it(me.comparator)}const yP={asc:"ASCENDING",desc:"DESCENDING"},vP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_P={and:"AND",or:"OR"};class wP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(n,e){return n.useProto3Json||mh(e)?e:{value:e}}function Gc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EP(n,e){return Gc(n,e.toTimestamp())}function Rr(n){return ze(!!n),Ie.fromTimestamp(function(t){const i=Ui(t);return new wt(i.seconds,i.nanos)}(n))}function Kp(n,e){return ap(n,e).canonicalString()}function ap(n,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Iw(n){const e=Je.fromString(n);return ze(bw(e)),e}function lp(n,e){return Kp(n.databaseId,e.path)}function Cd(n,e){const t=Iw(e);if(t.get(1)!==n.databaseId.projectId)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(Cw(t))}function Rw(n,e){return Kp(n.databaseId,e)}function TP(n){const e=Iw(n);return e.length===4?Je.emptyPath():Cw(e)}function up(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Cw(n){return ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zv(n,e,t){return{name:lp(n,e),fields:t.value.mapValue.fields}}function SP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(ze(_===void 0||typeof _=="string"),Vt.fromBase64String(_||"")):(ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Vt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const _=y.code===void 0?G.UNKNOWN:Ew(y.code);return new he(_,y.message||"")}(c);t=new Sw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Cd(n,i.document.name),l=Rr(i.document.updateTime),c=i.document.createTime?Rr(i.document.createTime):Ie.min(),f=new on({mapValue:{fields:i.document.fields}}),p=qt.newFoundDocument(o,l,c,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new kc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Cd(n,i.document),l=i.readTime?Rr(i.readTime):Ie.min(),c=qt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new kc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Cd(n,i.document),l=i.removedTargetIds||[];t=new kc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new fP(o,l),f=i.targetId;t=new Tw(f,c)}}return t}function AP(n,e){let t;if(e instanceof zl)t={update:zv(n,e.key,e.value)};else if(e instanceof ww)t={delete:lp(n,e.key)};else if(e instanceof Qi)t={update:zv(n,e.key,e.data),updateMask:DP(e.fieldMask)};else{if(!(e instanceof lP))return Te();t={verify:lp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof Wc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Jo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kc)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:EP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function IP(n,e){return n&&n.length>0?(ze(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?Rr(o.updateTime):Rr(l);return c.isEqual(Ie.min())&&(c=Rr(l)),new sP(c,o.transformResults||[])}(t,e))):[]}function RP(n,e){return{documents:[Rw(n,e.path)]}}function Pw(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Rw(n,o);const l=function(y){if(y.length!==0)return xw(nr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:bi(S.field),direction:xP(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=op(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function CP(n,e,t,i){const{ct:o,parent:l}=Pw(n,e),c={},f=[];let p=0;return t.forEach(y=>{const _="aggregate_"+p++;c[_]=y.alias,y.aggregateType==="count"?f.push({alias:_,count:{}}):y.aggregateType==="avg"?f.push({alias:_,avg:{field:bi(y.fieldPath)}}):y.aggregateType==="sum"&&f.push({alias:_,sum:{field:bi(y.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:o.structuredQuery},parent:o.parent},lt:c,parent:l}}function PP(n){let e=TP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const S=kw(T);return S instanceof nr&&nw(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(S=>function(N){return new Hc(Bo(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(T){let S;return S=typeof T=="object"?T.value:T,mh(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,k=T.values||[];return new qc(k,S)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const S=!T.before,k=T.values||[];return new qc(k,S)}(t.endAt)),HC(e,o,c,l,f,"F",p,y)}function kP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Bo(t.unaryFilter.field);return pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Bo(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(t.unaryFilter.field);return pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(t.unaryFilter.field);return pt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(Bo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return nr.create(t.compositeFilter.filters.map(i=>kw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function xP(n){return yP[n]}function bP(n){return vP[n]}function OP(n){return _P[n]}function bi(n){return{fieldPath:n.canonicalString()}}function Bo(n){return Nt.fromServerFormat(n.fieldPath)}function xw(n){return n instanceof pt?function(t){if(t.op==="=="){if(kv(t.value))return{unaryFilter:{field:bi(t.field),op:"IS_NAN"}};if(Pv(t.value))return{unaryFilter:{field:bi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kv(t.value))return{unaryFilter:{field:bi(t.field),op:"IS_NOT_NAN"}};if(Pv(t.value))return{unaryFilter:{field:bi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bi(t.field),op:bP(t.op),value:t.value}}}(n):n instanceof nr?function(t){const i=t.getFilters().map(o=>xw(o));return i.length===1?i[0]:{compositeFilter:{op:OP(t.op),filters:i}}}(n):Te()}function DP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,i,o,l=Ie.min(),c=Ie.min(),f=Vt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.ht=e}}function VP(n){const e=PP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.ln=new MP}addToCollectionParentIndex(e,t){return this.ln.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(ji.min())}updateCollectionGroup(e,t,i){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class MP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Je.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Zo(0)}static Qn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv([n,e],[t,i]){const o=be(n,t);return o===0?be(e,i):o}class FP{constructor(e){this.Gn=e,this.buffer=new Et(qv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();qv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await la(t)}await this.Yn(3e5)})}}class UP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return W.resolve(ph.oe);const i=new FP(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve($v)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),jo()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function BP(n,e){return new UP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?W.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&_l(i.mutation,o,yn.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ke()){const o=Is();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=cl();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ke()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=ii();const c=vl(),f=function(){return vl()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Qi)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),_l(_.mutation,y,_.mutation.getFieldMask(),wt.now())):c.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var T;return f.set(y,new $P(_,(T=c.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const i=vl();let o=new it((c,f)=>c-f),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||yn.empty();_=f.applyToLocalView(y,_),i.set(p,_);const T=(o.get(f.batchId)||ke()).add(p);o=o.insert(f.batchId,T)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,T=fw();_.forEach(S=>{if(!l.has(S)){const k=vw(t.get(S),i.get(S));k!==null&&T.set(S,k),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return W.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ow(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):W.resolve(Is());let f=-1,p=l;return c.next(y=>W.forEach(y,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(_)?W.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,ke())).next(_=>({batchId:f,changes:hw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(i=>{let o=cl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=cl();return this.indexManager.getCollectionParents(e,l).next(f=>W.forEach(f,p=>{const y=function(T,S){return new Bl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,qt.newInvalidDocument(_)))});let f=cl();return c.forEach((p,y)=>{const _=l.get(p);_!==void 0&&_l(_.mutation,y,yn.empty(),wt.now()),vh(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return W.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:VP(o.bundledQuery),readTime:Rr(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.overlays=new it(me.comparator),this.Er=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Is();return W.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),W.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),W.resolve()}getOverlaysForCollection(e,t,i){const o=Is(),l=t.length+1,c=new me(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Is(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Is(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=o)););return W.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new cP(t,i));let l=this.Er.get(t);l===void 0&&(l=ke(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.dr=new Et(Ct.Ar),this.Rr=new Et(Ct.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ct(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ct(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new me(new Je([])),i=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new me(new Je([])),i=new Ct(t,e),o=new Ct(t,e+1);let l=ke();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ct(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return me.comparator(e.key,t.key)||be(e.br,t.br)}static Vr(e,t){return be(e.br,t.br)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Ct.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uP(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.vr=this.vr.add(new Ct(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(c)}lookupMutationBatch(e,t){return W.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const f=this.Cr(c.br);l.push(f)}),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(be);return t.forEach(o=>{const l=new Ct(o,0),c=new Ct(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],f=>{i=i.add(f.br)})}),W.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;me.isDocumentKey(l)||(l=l.child(""));const c=new Ct(new me(l),0);let f=new Et(be);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},c),W.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return W.forEach(t.mutations,o=>{const l=new Ct(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ct(t,0),o=this.vr.firstAfterOrEqual(i);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.Nr=e,this.docs=function(){return new it(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return W.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let i=ii();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))}),W.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=ii();const c=t.path,f=new me(c.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||SC(TC(_),i)<=0||(o.has(_.key)||vh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Lr(e,t){return W.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new YP(this)}getSize(e){return W.resolve(this.size)}}class YP extends zP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),W.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.persistence=e,this.Br=new Bs(t=>Bp(t),zp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gp,this.targetCount=0,this.Qr=Zo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),W.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Un(t),W.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(l).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return W.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),W.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),W.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return W.resolve(i)}containsKey(e,t){return W.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ph(0),this.Ur=!1,this.Ur=!0,this.Wr=new KP,this.referenceDelegate=e(this),this.Gr=new XP(this),this.indexManager=new LP,this.remoteDocumentCache=function(o){return new QP(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new NP(t),this.jr=new HP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new GP(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new JP(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return W.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class JP extends IC{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Zr=new Gp,this.Xr=null}static ei(e){return new Qp(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),W.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),W.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,i=>{const o=me.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return W.or([()=>W.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Qc{constructor(e,t){this.persistence=e,this.ri=new Bs(i=>PC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=BP(this,t)}static ei(e,t){return new Qc(e,t)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return W.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?W.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),W.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rc(e.data.value)),t}ir(e,t,i){return W.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return W.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Yp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return YI()?8:RC(KI())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new ZP;return this.ts(e,t,c).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,c,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(jo()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(jo()<=Ve.DEBUG&&le("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(jo()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):W.resolve())}Xi(e,t){if(Dv(t))return W.resolve(null);let i=Ar(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sp(t,null,"F"),i=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ke(...l);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,c,p.readTime)?this.Xi(e,sp(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Dv(t)||o.isEqual(Ie.min())?W.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?W.resolve(null):(jo()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.os(e,c,t,EC(o,-1)).next(f=>f))})}rs(e,t){let i=new Et(uw(e));return t.forEach((o,l)=>{vh(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return jo()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.Zi.getDocumentsMatchingQuery(e,t,ji.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(be),this.cs=new Bs(l=>Bp(l),zp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function nk(n,e,t,i){return new tk(n,e,t,i)}async function Dw(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=ke();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:f}))})})}function rk(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const T=y.batch,S=T.keys();let k=W.resolve();return S.forEach(N=>{k=k.next(()=>_.getEntry(p,N)).next(U=>{const V=y.docVersions.get(N);ze(V!==null),U.version.compareTo(V)<0&&(T.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),_.addEntry(U)))})}),k.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=ke();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Nw(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function ik(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,T)=>{const S=o.get(T);if(!S)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,T)));let k=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Vt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,i)),o=o.insert(T,k),function(U,V,H){return U.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(S,k,_)&&f.push(t.Gr.updateTargetData(l,k))});let p=ii(),y=ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(sk(l,c,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Ie.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return W.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function sk(n,e,t){let i=ke(),o=ke();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ii();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function ok(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ak(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,W.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Di(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function cp(n,e,t){const i=Se(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ua(c))throw c;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Hv(n,e,t){const i=Se(n);let o=Ie.min(),l=ke();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const T=Se(p),S=T.cs.get(_);return S!==void 0?W.resolve(T.us.get(S)):T.Gr.getTargetData(y,_)}(i,c,Ar(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ie.min(),t?l:ke())).next(f=>(lk(i,KC(e),f),{documents:f,ds:l})))}function lk(n,e,t){let i=n.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Wv{constructor(){this.activeTargetIds=ZC()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uk{constructor(){this._o=new Wv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Wv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function Pd(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class dk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const f=Pd(),p=this.No(t,i.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,c),this.Bo(t,p,y,o).then(_=>(le("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw Go("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,c,f){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=hk[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Pd();return new Promise((c,f)=>{const p=new q0;p.setWithCredentials(!0),p.listenOnce(H0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ic.NO_ERROR:const _=p.getResponseJson();le(zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Ic.TIMEOUT:le(zt,`RPC '${e}' ${l} timed out`),f(new he(G.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const T=p.getStatus();if(le(zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const N=function(V){const H=V.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(H)>=0?H:G.UNKNOWN}(k.status);f(new he(N,k.message))}else f(new he(G.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new he(G.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le(zt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);le(zt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Pd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=G0(),f=K0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");le(zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);let S=!1,k=!1;const N=new fk({Eo:V=>{k?le(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(le(zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),le(zt,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Ao:()=>T.close()}),U=(V,H,X)=>{V.listen(H,ie=>{try{X(ie)}catch(oe){setTimeout(()=>{throw oe},0)}})};return U(T,ul.EventType.OPEN,()=>{k||(le(zt,`RPC '${e}' stream ${o} transport opened.`),N.So())}),U(T,ul.EventType.CLOSE,()=>{k||(k=!0,le(zt,`RPC '${e}' stream ${o} transport closed`),N.Do())}),U(T,ul.EventType.ERROR,V=>{k||(k=!0,Go(zt,`RPC '${e}' stream ${o} transport errored:`,V),N.Do(new he(G.UNAVAILABLE,"The operation could not be completed")))}),U(T,ul.EventType.MESSAGE,V=>{var H;if(!k){const X=V.data[0];ze(!!X);const ie=X,oe=(ie==null?void 0:ie.error)||((H=ie[0])===null||H===void 0?void 0:H.error);if(oe){le(zt,`RPC '${e}' stream ${o} received error:`,oe);const Ae=oe.status;let _e=function(R){const x=dt[R];if(x!==void 0)return Ew(x)}(Ae),b=oe.message;_e===void 0&&(_e=G.INTERNAL,b="Unknown error status: "+Ae+" with message "+oe.message),k=!0,N.Do(new he(_e,b)),T.close()}else le(zt,`RPC '${e}' stream ${o} received:`,X),N.vo(X)}}),U(f,W0.STAT_EVENT,V=>{V.stat===Zd.PROXY?le(zt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Zd.NOPROXY&&le(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.bo()},0),N}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(n){return new wP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,i,o,l,c,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Vw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new he(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pk extends Lw{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=SP(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?Rr(c.readTime):Ie.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=up(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=rp(p)?{documents:RP(l,p)}:{query:Pw(l,p).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Aw(l,c.resumeToken);const y=op(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ie.min())>0){f.readTime=Gc(l,c.snapshotVersion.toTimestamp());const y=op(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=kP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.c_(t)}}class mk extends Lw{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=IP(e.writeResults,e.commitTime),i=Rr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=up(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>AP(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,ap(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(G.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,ap(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(G.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class yk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ri(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{zs(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.k_.add(4),await ql(y),y.K_.set("Unknown"),y.k_.delete(4),await Sh(y)}(this))})}),this.K_=new yk(i,o)}}async function Sh(n){if(zs(n))for(const e of n.q_)await e(!0)}async function ql(n){for(const e of n.q_)await e(!1)}function Mw(n,e){const t=Se(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),em(t)?Zp(t):ca(t).s_()&&Jp(t,e))}function Xp(n,e){const t=Se(n),i=ca(t);t.B_.delete(e),i.s_()&&Fw(t,e),t.B_.size===0&&(i.s_()?i.a_():zs(t)&&t.K_.set("Unknown"))}function Jp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ca(n).V_(e)}function Fw(n,e){n.U_.xe(e),ca(n).m_(e)}function Zp(n){n.U_=new gP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ca(n).start(),n.K_.F_()}function em(n){return zs(n)&&!ca(n).i_()&&n.B_.size>0}function zs(n){return Se(n).k_.size===0}function jw(n){n.U_=void 0}async function _k(n){n.K_.set("Online")}async function wk(n){n.B_.forEach((e,t)=>{Jp(n,e)})}async function Ek(n,e){jw(n),em(n)?(n.K_.O_(e),Zp(n)):n.K_.set("Unknown")}async function Tk(n,e,t){if(n.K_.set("Online"),e instanceof Sw&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Yc(n,i)}else if(e instanceof kc?n.U_.$e(e):e instanceof Tw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ie.min()))try{const i=await Nw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.U_.it(c);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(Vt.EMPTY_BYTE_STRING,_.snapshotVersion)),Fw(l,p);const T=new Di(_.target,p,y,_.sequenceNumber);Jp(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await Yc(n,i)}}async function Yc(n,e,t){if(!ua(e))throw e;n.k_.add(1),await ql(n),n.K_.set("Offline"),t||(t=()=>Nw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Sh(n)})}function Uw(n,e){return e().catch(t=>Yc(n,t,e))}async function Ah(n){const e=Se(n),t=$i(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Sk(e);)try{const o=await ok(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,Ak(e,o)}catch(o){await Yc(e,o)}Bw(e)&&zw(e)}function Sk(n){return zs(n)&&n.L_.length<10}function Ak(n,e){n.L_.push(e);const t=$i(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Bw(n){return zs(n)&&!$i(n).i_()&&n.L_.length>0}function zw(n){$i(n).start()}async function Ik(n){$i(n).w_()}async function Rk(n){const e=$i(n);for(const t of n.L_)e.g_(t.mutations)}async function Ck(n,e,t){const i=n.L_.shift(),o=Hp.from(i,e,t);await Uw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ah(n)}async function Pk(n,e){e&&$i(n).f_&&await async function(i,o){if(function(c){return dP(c)&&c!==G.ABORTED}(o.code)){const l=i.L_.shift();$i(i).__(),await Uw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Ah(i)}}(n,e),Bw(n)&&zw(n)}async function Gv(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=zs(t);t.k_.add(3),await ql(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Sh(t)}async function kk(n,e){const t=Se(n);e?(t.k_.delete(2),await Sh(t)):e||(t.k_.add(2),await ql(t),t.K_.set("Unknown"))}function ca(n){return n.W_||(n.W_=function(t,i,o){const l=Se(t);return l.b_(),new pk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:_k.bind(null,n),mo:wk.bind(null,n),po:Ek.bind(null,n),R_:Tk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),em(n)?Zp(n):n.K_.set("Unknown")):(await n.W_.stop(),jw(n))})),n.W_}function $i(n){return n.G_||(n.G_=function(t,i,o){const l=Se(t);return l.b_(),new mk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Ik.bind(null,n),po:Pk.bind(null,n),p_:Rk.bind(null,n),y_:Ck.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Ah(n)):(await n.G_.stop(),n.L_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new tm(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(n,e){if(ri("AsyncQueue",`${e}: ${n}`),ua(n))return new he(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||me.comparator(t.key,i.key):(t,i)=>me.comparator(t.key,i.key),this.keyedMap=cl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ho;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.z_=new it(me.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ea{constructor(e,t,i,o,l,c,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new ea(e,t,Ho.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class bk{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Se(t),l=o.queries;o.queries=Yv(),l.forEach((c,f)=>{for(const p of f.J_)p.onError(i)})})(this,new he(G.ABORTED,"Firestore shutting down"))}}function Yv(){return new Bs(n=>lw(n),yh)}async function $w(n,e){const t=Se(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new xk,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=nm(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&rm(t)}async function qw(n,e){const t=Se(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Ok(n,e){const t=Se(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.J_)f.ta(o)&&(i=!0);c.H_=o}}i&&rm(t)}function Dk(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function rm(n){n.X_.forEach(e=>{e.next()})}var hp,Xv;(Xv=hp||(hp={})).na="default",Xv.Cache="cache";class Hw{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ea(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.key=e}}class Kw{constructor(e){this.key=e}}class Nk{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=uw(e),this.ma=new Ho(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Qv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const S=o.get(_),k=vh(this.query,T)?T:null,N=!!S&&this.mutatedKeys.has(S.key),U=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;S&&k?S.data.isEqual(k.data)?N!==U&&(i.track({type:3,doc:k}),V=!0):this.ya(S,k)||(i.track({type:2,doc:k}),V=!0,(p&&this.Va(k,p)>0||y&&this.Va(k,y)<0)&&(f=!0)):!S&&k?(i.track({type:0,doc:k}),V=!0):S&&!k&&(i.track({type:1,doc:S}),V=!0,(p||y)&&(f=!0)),V&&(k?(c=c.add(k),l=U?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,T)=>function(k,N){const U=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return U(k)-U(N)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new ea(this.query,e.ma,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Qv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new Kw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new Ww(i))}),t}va(e){this.da=e.ds,this.Ra=ke();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ea.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Vk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Lk{constructor(e){this.key=e,this.Fa=!1}}class Mk{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Bs(f=>lw(f),yh),this.Oa=new Map,this.Na=new Set,this.La=new it(me.comparator),this.Ba=new Map,this.ka=new Gp,this.qa={},this.Qa=new Map,this.Ka=Zo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Fk(n,e,t=!0){const i=Zw(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await Gw(i,e,t,!0),o}async function jk(n,e){const t=Zw(n);await Gw(t,e,!0,!1)}async function Gw(n,e,t,i){const o=await ak(n.localStore,Ar(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Uk(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Mw(n.remoteStore,o),f}async function Uk(n,e,t,i,o){n.Ua=(T,S,k)=>async function(U,V,H,X){let ie=V.view.ga(H);ie.ss&&(ie=await Hv(U.localStore,V.query,!1).then(({documents:b})=>V.view.ga(b,ie)));const oe=X&&X.targetChanges.get(V.targetId),Ae=X&&X.targetMismatches.get(V.targetId)!=null,_e=V.view.applyChanges(ie,U.isPrimaryClient,oe,Ae);return Zv(U,V.targetId,_e.ba),_e.snapshot}(n,T,S,k);const l=await Hv(n.localStore,e,!0),c=new Nk(e,l.ds),f=c.ga(l.documents),p=$l.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(f,n.isPrimaryClient,p);Zv(n,t,y.ba);const _=new Vk(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function Bk(n,e,t){const i=Se(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!yh(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Xp(i.remoteStore,o.targetId),fp(i,o.targetId)}).catch(la)):(fp(i,o.targetId),await cp(i.localStore,o.targetId,!0))}async function zk(n,e){const t=Se(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Xp(t.remoteStore,i.targetId))}async function $k(n,e,t){const i=Yk(n);try{const o=await function(c,f){const p=Se(c),y=wt.now(),_=f.reduce((k,N)=>k.add(N.key),ke());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let N=ii(),U=ke();return p.hs.getEntries(k,_).next(V=>{N=V,N.forEach((H,X)=>{X.isValidDocument()||(U=U.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,N)).next(V=>{T=V;const H=[];for(const X of f){const ie=aP(X,T.get(X.key).overlayedDocument);ie!=null&&H.push(new Qi(X.key,ie,Z0(ie.value.mapValue),Ir.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,H,f)}).next(V=>{S=V;const H=V.applyToLocalDocumentSet(T,U);return p.documentOverlayCache.saveOverlays(k,V.batchId,H)})}).then(()=>({batchId:S.batchId,changes:hw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let y=c.qa[c.currentUser.toKey()];y||(y=new it(be)),y=y.insert(f,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Hl(i,o.changes),await Ah(i.remoteStore)}catch(o){const l=nm(o,"Failed to persist write");t.reject(l)}}async function Qw(n,e){const t=Se(n);try{const i=await ik(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?ze(c.Fa):o.removedDocuments.size>0&&(ze(c.Fa),c.Fa=!1))}),await Hl(t,i,e)}catch(i){await la(i)}}function Jv(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const f=c.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Se(c);p.onlineState=f;let y=!1;p.queries.forEach((_,T)=>{for(const S of T.J_)S.ea(f)&&(y=!0)}),y&&rm(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qk(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new it(me.comparator);c=c.insert(l,qt.newNoDocument(l,Ie.min()));const f=ke().add(l),p=new Eh(Ie.min(),new Map,new it(be),c,f);await Qw(i,p),i.La=i.La.remove(l),i.Ba.delete(e),im(i)}else await cp(i.localStore,e,!1).then(()=>fp(i,e,t)).catch(la)}async function Hk(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await rk(t.localStore,e);Xw(t,i,null),Yw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Hl(t,o)}catch(o){await la(o)}}async function Wk(n,e,t){const i=Se(n);try{const o=await function(c,f){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(T=>(ze(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);Xw(i,e,t),Yw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Hl(i,o)}catch(o){await la(o)}}function Yw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Xw(n,e,t){const i=Se(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function fp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||Jw(n,i)})}function Jw(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Xp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),im(n))}function Zv(n,e,t){for(const i of t)i instanceof Ww?(n.ka.addReference(i.key,e),Kk(n,i)):i instanceof Kw?(le("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||Jw(n,i.key)):Te()}function Kk(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(le("SyncEngine","New document in limbo: "+t),n.Na.add(i),im(n))}function im(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new me(Je.fromString(e)),i=n.Ka.next();n.Ba.set(i,new Lk(t)),n.La=n.La.insert(t,i),Mw(n.remoteStore,new Di(Ar($p(t.path)),i,"TargetPurposeLimboResolution",ph.oe))}}async function Hl(n,e,t){const i=Se(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{c.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Yp.zi(p.targetId,y);l.push(T)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>W.forEach(y,S=>W.forEach(S.Wi,k=>_.persistence.referenceDelegate.addReference(T,S.targetId,k)).next(()=>W.forEach(S.Gi,k=>_.persistence.referenceDelegate.removeReference(T,S.targetId,k)))))}catch(T){if(!ua(T))throw T;le("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const k=_.us.get(S),N=k.snapshotVersion,U=k.withLastLimboFreeSnapshotVersion(N);_.us=_.us.insert(S,U)}}}(i.localStore,l))}async function Gk(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await Dw(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new he(G.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hl(t,i.Ts)}}function Qk(n,e){const t=Se(n),i=t.Ba.get(e);if(i&&i.Fa)return ke().add(i.key);{let o=ke();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const f=t.xa.get(c);o=o.unionWith(f.view.fa)}return o}}function Zw(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qk.bind(null,e),e.Ma.R_=Ok.bind(null,e.eventManager),e.Ma.Wa=Dk.bind(null,e.eventManager),e}function Yk(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wk.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return nk(this.persistence,new ek,e.initialUser,this.serializer)}ja(e){return new Ow(Qp.ei,this.serializer)}za(e){return new uk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class Xk extends Xc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ze(this.persistence.referenceDelegate instanceof Qc);const i=this.persistence.referenceDelegate.garbageCollector;return new jP(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new Ow(i=>Qc.ei(i,t),this.serializer)}}class dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Jv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gk.bind(null,this.syncEngine),await kk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bk}()}createDatastore(e){const t=Th(e.databaseInfo.databaseId),i=function(l){return new dk(l)}(e.databaseInfo);return function(l,c,f,p){return new gk(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new vk(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Jv(this.syncEngine,t,0),function(){return Kv.p()?new Kv:new ck}())}createSyncEngine(e,t){return function(o,l,c,f,p,y,_){const T=new Mk(o,l,c,f,p,y);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Se(o);le("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await ql(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{le("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=nm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function xd(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Dw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function e_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Zk(n);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Gv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Gv(e.remoteStore,o)),n._onlineComponents=e}async function Zk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await xd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await xd(n,new Xc)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await xd(n,new Xk(void 0));return n._offlineComponents}async function sm(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await e_(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await e_(n,new dp))),n._onlineComponents}function ex(n){return sm(n).then(e=>e.syncEngine)}function tx(n){return sm(n).then(e=>e.datastore)}async function pp(n){const e=await sm(n),t=e.eventManager;return t.onListen=Fk.bind(null,e.syncEngine),t.onUnlisten=Bk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zk.bind(null,e.syncEngine),t}function nx(n,e,t={}){const i=new Jr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,y){const _=new eE({next:S=>{_.eu(),c.enqueueAndForget(()=>qw(l,T)),S.fromCache&&p.source==="server"?y.reject(new he(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Hw(f,_,{includeMetadataChanges:!0,ua:!0});return $w(l,T)}(await pp(n),n.asyncQueue,e,t,i)),i.promise}function rx(n,e,t){const i=new Jr;return n.asyncQueue.enqueueAndForget(async()=>{try{const o=await tx(n);i.resolve(async function(c,f,p){var y;const _=Se(c),{request:T,lt:S,parent:k}=CP(_.serializer,WC(f),p);_.connection.Co||delete T.parent;const N=(await _.ko("RunAggregationQuery",_.serializer.databaseId,k,T,1)).filter(V=>!!V.result);ze(N.length===1);const U=(y=N[0].result)===null||y===void 0?void 0:y.aggregateFields;return Object.keys(U).reduce((V,H)=>(V[S[H]]=U[H],V),{})}(o,e,t))}catch(o){i.reject(o)}}),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(n,e,t){if(!t)throw new he(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ix(n,e,t,i){if(e===!0&&i===!0)throw new he(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n_(n){if(!me.isDocumentKey(n))throw new he(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r_(n){if(me.isDocumentKey(n))throw new he(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ih(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ih(n);throw new he(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ix("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fC;switch(i.type){case"firstParty":return new gC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=t_.get(t);i&&(le("ComponentProvider","Removing Datastore"),t_.delete(t),i.terminate())}(this),Promise.resolve()}}function sx(n,e,t,i={}){var o;const l=(n=Jn(n,Rh))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=$t.MOCK_USER;else{f=WI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new he(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $t(y)}n._authCredentials=new dC(new Q0(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class Qt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class Li extends $s{constructor(e,t,i){super(e,t,$p(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new me(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function ox(n,e,...t){if(n=Nn(n),nE("collection","path",e),n instanceof Rh){const i=Je.fromString(e,...t);return r_(i),new Li(n,null,i)}{if(!(n instanceof Qt||n instanceof Li))throw new he(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return r_(i),new Li(n.firestore,null,i)}}function ax(n,e,...t){if(n=Nn(n),arguments.length===1&&(e=Y0.newId()),nE("doc","path",e),n instanceof Rh){const i=Je.fromString(e,...t);return n_(i),new Qt(n,null,new me(i))}{if(!(n instanceof Qt||n instanceof Li))throw new he(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return n_(i),new Qt(n.firestore,n instanceof Li?n.converter:null,new me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Vw(this,"async_queue_retry"),this.fu=()=>{const i=kd();i&&le("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=kd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=kd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Jr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ua(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw ri("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=tm.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function o_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ns extends Rh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new s_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s_(e),this._firestoreClient=void 0,await e}}}function lx(n,e){const t=typeof n=="object"?n:U0(),i=typeof n=="string"?n:"(default)",o=Ul(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=qI("firestore");l&&sx(o,...l)}return o}function Ch(n){if(n._terminated)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ux(n),n._firestoreClient}function ux(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,y,_){return new OC(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,tE(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Jk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class hx{constructor(e,t,i){this._userDataWriter=t,this._data=i,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(Vt.fromBase64String(e))}catch(t){throw new he(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ta(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function fx(){return new Wl("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=/^__.*__$/;class px{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class rE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Qi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class kh{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Jc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(iE(this.Mu)&&dx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class mx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Th(e)}$u(e,t,i,o=!1){return new kh({Mu:e,methodName:t,Ku:i,path:Nt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lm(n){const e=n._freezeSettings(),t=Th(n._databaseId);return new mx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gx(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);cm("Data must be an object, but it was:",c,i);const f=sE(i,c);let p,y;if(l.merge)p=new yn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const S=mp(e,T,t);if(!c.contains(S))throw new he(G.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);aE(_,S)||_.push(S)}p=new yn(_),y=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=c.fieldTransforms;return new px(new on(f),p,y)}class xh extends Ph{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}function yx(n,e,t){return new kh({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class um extends Ph{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=yx(this,e,!0),i=this.Uu.map(l=>ha(l,t)),o=new Jo(i);return new rP(e.path,o)}isEqual(e){return e instanceof um&&Il(this.Uu,e.Uu)}}function vx(n,e,t,i){const o=n.$u(1,e,t);cm("Data must be an object, but it was:",o,i);const l=[],c=on.empty();Gi(i,(p,y)=>{const _=hm(e,p,t);y=Nn(y);const T=o.Bu(_);if(y instanceof xh)l.push(_);else{const S=ha(y,T);S!=null&&(l.push(_),c.set(_,S))}});const f=new yn(l);return new rE(c,f,o.fieldTransforms)}function _x(n,e,t,i,o,l){const c=n.$u(1,e,t),f=[mp(e,i,t)],p=[o];if(l.length%2!=0)throw new he(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(mp(e,l[S])),p.push(l[S+1]);const y=[],_=on.empty();for(let S=f.length-1;S>=0;--S)if(!aE(y,f[S])){const k=f[S];let N=p[S];N=Nn(N);const U=c.Bu(k);if(N instanceof xh)y.push(k);else{const V=ha(N,U);V!=null&&(y.push(k),_.set(k,V))}}const T=new yn(y);return new rE(_,T,c.fieldTransforms)}function wx(n,e,t,i=!1){return ha(t,n.$u(i?4:3,e))}function ha(n,e){if(oE(n=Nn(n)))return cm("Unsupported field value:",e,n),sE(n,e);if(n instanceof Ph)return function(i,o){if(!iE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let p=ha(f,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Nn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return eP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=wt.fromDate(i);return{timestampValue:Gc(o.serializer,l)}}if(i instanceof wt){const l=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gc(o.serializer,l)}}if(i instanceof om)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ta)return{bytesValue:Aw(o.serializer,i._byteString)};if(i instanceof Qt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Kp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof am)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return qp(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Ih(i)}`)}(n,e)}function sE(n,e){const t={};return X0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gi(n,(i,o)=>{const l=ha(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function oE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof om||n instanceof ta||n instanceof Qt||n instanceof Ph||n instanceof am)}function cm(n,e,t){if(!oE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Ih(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function mp(n,e,t){if((e=Nn(e))instanceof Wl)return e._internalPath;if(typeof e=="string")return hm(n,e);throw Jc("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ex=new RegExp("[~\\*/\\[\\]]");function hm(n,e,t){if(e.search(Ex)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wl(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new he(G.INVALID_ARGUMENT,f+n+p)}function aE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Tx extends lE{data(){return super.data()}}function fm(n,e){return typeof e=="string"?hm(n,e):e instanceof Wl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dm{}class Sx extends dm{}function Ax(n,e,...t){let i=[];e instanceof dm&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof pm).length,f=l.filter(p=>p instanceof bh).length;if(c>1||c>0&&f>0)throw new he(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class bh extends Sx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new bh(e,t,i)}_apply(e){const t=this._parse(e);return cE(e._query,t),new $s(e.firestore,e.converter,ip(e._query,t))}_parse(e){const t=lm(e.firestore);return function(l,c,f,p,y,_,T){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){l_(T,_);const k=[];for(const N of T)k.push(a_(p,l,N));S={arrayValue:{values:k}}}else S=a_(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||l_(T,_),S=wx(f,c,T,_==="in"||_==="not-in");return pt.create(y,_,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ix(n,e,t){const i=e,o=fm("where",n);return bh._create(o,i,t)}class pm extends dm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const f=l.getFlattenedFilters();for(const p of f)cE(c,p),c=ip(c,p)}(e._query,t),new $s(e.firestore,e.converter,ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function a_(n,e,t){if(typeof(t=Nn(t))=="string"){if(t==="")throw new he(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ow(e)&&t.indexOf("/")!==-1)throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Je.fromString(t));if(!me.isDocumentKey(i))throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cv(n,new me(i))}if(t instanceof Qt)return Cv(n,t._key);throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(t)}.`)}function l_(n,e){if(!Array.isArray(n)||n.length===0)throw new he(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cE(n,e){const t=function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Rx{convertValue(e,t="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ct(c.doubleValue));return new am(l)}convertGeoPoint(e){return new om(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=Ui(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Je.fromString(e);ze(bw(i));const o=new kl(i.get(1),i.get(3)),l=new me(i.popFirst(5));return o.isEqual(t)||ri(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}function Px(){return new cx("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hE extends lE{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(fm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class xc extends hE{data(e={}){return super.data(e)}}class fE{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new xc(this._firestore,this._userDataWriter,i.key,i,new fl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new xc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new fl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new xc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new fl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:kx(f.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class Oh extends Rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}}function xx(n){n=Jn(n,$s);const e=Jn(n.firestore,Ns),t=Ch(e),i=new Oh(e);return uE(n._query),nx(t,n._query).then(o=>new fE(e,i,n,o))}function bx(n,e,t){n=Jn(n,Qt);const i=Jn(n.firestore,Ns),o=Cx(n.converter,e);return dE(i,[gx(lm(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Ir.none())])}function Ox(n,e,t,...i){n=Jn(n,Qt);const o=Jn(n.firestore,Ns),l=lm(o);let c;return c=typeof(e=Nn(e))=="string"||e instanceof Wl?_x(l,"updateDoc",n._key,e,t,i):vx(l,"updateDoc",n._key,e),dE(o,[c.toMutation(n._key,Ir.exists(!0))])}function Dx(n,...e){var t,i,o;n=Nn(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||o_(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(o_(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,y,_;if(n instanceof Qt)y=Jn(n.firestore,Ns),_=$p(n._key.path),p={next:T=>{e[c]&&e[c](Nx(y,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Jn(n,$s);y=Jn(T.firestore,Ns),_=T._query;const S=new Oh(y);p={next:k=>{e[c]&&e[c](new fE(y,S,T,k))},error:e[c+1],complete:e[c+2]},uE(n._query)}return function(S,k,N,U){const V=new eE(U),H=new Hw(k,V,N);return S.asyncQueue.enqueueAndForget(async()=>$w(await pp(S),H)),()=>{V.eu(),S.asyncQueue.enqueueAndForget(async()=>qw(await pp(S),H))}}(Ch(y),_,f,p)}function dE(n,e){return function(i,o){const l=new Jr;return i.asyncQueue.enqueueAndForget(async()=>$k(await ex(i),o,l)),l.promise}(Ch(n),e)}function Nx(n,e,t){const i=t.docs.get(e._key),o=new Oh(n);return new hE(n,o,e._key,i,new fl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n){return Lx(n,{count:Px()})}function Lx(n,e){const t=Jn(n.firestore,Ns),i=Ch(t),o=xC(e,(l,c)=>new hP(c,l.aggregateType,l._internalFieldPath));return rx(i,n._query,o).then(l=>function(f,p,y){const _=new Oh(f);return new hx(p,_,y)}(t,n,l))}function u_(...n){return new um("arrayUnion",n)}(function(e,t=!0){(function(o){aa=o})(nC),Fi(new ti("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Ns(new pC(i.getProvider("auth-internal")),new vC(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Sr(Ev,"4.7.5",e),Sr(Ev,"4.7.5","esm2017")})();function c_(n){const e=[...n];for(let t=e.length-1;t>=0;t--){const i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}return e}const si=$.createContext(null);class Mx{constructor(e,t){Mo(this,"isConnected",!1);this.roomRepository=e,this.wordRepository=t,T0(this)}get isLoaded(){return this.roomRepository.isLoaded}get state(){return this.roomRepository.state}get player(){return this.state.players.find(e=>e.clientId===dc())||null}async connectPlayer(){if(this.state.players.some(e=>e.clientId===dc())){ml(()=>{this.isConnected=!0});return}await this.roomRepository.updateItems({players:u_({clientId:dc(),name:DI(),team:"spectator",isAdmin:!this.state.players.some(e=>e.isAdmin),isMaster:!1,color:OI()})}),ml(()=>{this.isConnected=!0})}isMaster(e){return this.player.isMaster&&this.player.team===e.toString()}isPlayerTurn(){var e,t,i,o;return((e=this.state.turn)==null?void 0:e.team)===((t=this.player)==null?void 0:t.team)&&((i=this.state.turn)==null?void 0:i.isMaster)==((o=this.player)==null?void 0:o.isMaster)}async makeAdmin(e){const t=this.state.players.find(i=>i.clientId===e);t&&await this.roomRepository.updateItems({players:[...this.state.players.filter(i=>i.clientId!==e&&i!=this.player),{...t,isAdmin:!0},{...this.player,isAdmin:!1}]})}async kickPlayer(e){await this.removePlayer(e)}async cardSelect(e){if(this.player.isMaster||this.state.turn.isMaster||this.state.turn.team!==this.player.team)return;const t=this.state.cards.find(l=>l.id===e);if(!t||t.revealed)return;const i=this.player.team===ut.Blue?ut.Red:ut.Blue,o=t.color==this.player.team?this.state.turn:{team:i,isMaster:!0};(this.getRestCardCount(o.team)==1||t.color==="black")&&(o.win=!0),await this.roomRepository.updateItems({cards:this.state.cards.map(l=>l.id===t.id?{...t,revealed:!0}:l),turn:o})}async setUsername(e){await this.updatePlayer({...this.player,name:e}),NI(e)}async sendMessage(e,t){const i={player:this.player.name,team:e,value:t};await this.roomRepository.updateItems({chatMessages:u_(i),turn:{team:i.team,isMaster:!1}})}async becomeMaster(e){await this.updatePlayer({...this.player,team:e.toString(),isMaster:!0})}async joinTeam(e){await this.updatePlayer({...this.player,team:e.toString(),isMaster:!1})}async disconnectPlayer(){await this.removePlayer(dc()),ml(()=>{this.isConnected=!1})}getMaster(e){return this.state.players.find(t=>t.team===e.toString()&&t.isMaster)}async endTurn(){const e=this.state.turn.team===ut.Blue?ut.Red:ut.Blue;await this.roomRepository.updateItems({turn:{team:e,isMaster:!0}})}getRestCardCount(e){return this.state.cards.filter(t=>t.color===e.toString()&&!t.revealed).length}getAllCardCount(e){return this.state.cards.filter(t=>t.color===e.toString()).length}async setTeamsLock(e){await this.roomRepository.updateItems({settings:{isLocked:e}})}async startGame(){const e=await this.wordRepository.getWordCount(),t=new Set;for(;t.size<25;)t.add(Math.floor(Math.random()*e).toString());const i=await this.wordRepository.getWordsByIds(Array.from(t)),o=Math.random()>.5?ut.Blue:ut.Red,l=[...Array(9).fill(o),...Array(8).fill(o===ut.Blue?ut.Red:ut.Blue),"black",...Array(7).fill("white")],c=c_(l);await this.roomRepository.updateItems({chatMessages:[],cards:i.map((f,p)=>({id:p,value:f.value,color:c[p],revealed:!1})),turn:{team:o,isMaster:!0}})}async teamsShuffle(){if(this.state.players.length===1){await this.updatePlayer({...this.state.players[0],isMaster:!0,team:Math.random()>.5?ut.Blue:ut.Red});return}const e=c_(this.state.players),t={...e[0],team:ut.Red,isMaster:!0},i={...e[1],team:ut.Blue,isMaster:!0},o=Math.floor(e.length%2===0?e.length/2:e.length/2+(Math.random()>.5?1:0)),l=e.slice(2,o+1).map(f=>({...f,team:ut.Red,isMaster:!1})),c=e.slice(o+1).map(f=>({...f,team:ut.Blue,isMaster:!1}));await this.roomRepository.updateItems({players:[t,i,...l,...c]})}async removePlayer(e){await this.roomRepository.updateItems({players:this.state.players.filter(t=>t.clientId!==e)})}async updatePlayer(e){await this.roomRepository.updateItems({players:this.state.players.map(t=>t.clientId===e.clientId?e:t)})}}function Fx(){const n=$.useContext(si);function e(){const t=prompt("Enter your new username");t&&n.setUsername(t)}return te.jsxs("div",{className:"w-full grid grid-cols-5 gap-x-1 lg:gap-x-2 text-gray-400 text-center mt-auto",children:[te.jsx(yr,{className:"text-xs",text:"Username",onClick:e}),te.jsx(yr,{disabled:!n.player.isAdmin,className:"text-xs",text:"Restart",onClick:()=>n.startGame()}),te.jsx(yr,{disabled:!n.player.isAdmin,className:"text-xs",text:"Shuffle",onClick:()=>n.teamsShuffle()}),n.state.settings.isLocked?te.jsx(yr,{disabled:!n.player.isAdmin,className:"text-xs",text:"Unlock",onClick:()=>n.setTeamsLock(!1)}):te.jsx(yr,{disabled:!n.player.isAdmin,className:"text-xs",text:"Lock",onClick:()=>n.setTeamsLock(!0)}),te.jsx(yr,{disabled:!n.player.isAdmin,className:"text-xs",text:"Not available"})]})}const jx=Pr(Fx);var Ux="firebase",Bx="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(Ux,Bx,"app");const pE="@firebase/installations",mm="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=1e4,gE=`w:${mm}`,yE="FIS_v2",zx="https://firebaseinstallations.googleapis.com/v1",$x=60*60*1e3,qx="installations",Hx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vs=new dh(qx,Hx,Wx);function vE(n){return n instanceof Ki&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E({projectId:n}){return`${zx}/projects/${n}/installations`}function wE(n){return{token:n.token,requestStatus:2,expiresIn:Gx(n.expiresIn),creationTime:Date.now()}}async function EE(n,e){const i=(await e.json()).error;return Vs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function TE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Kx(n,{refreshToken:e}){const t=TE(n);return t.append("Authorization",Qx(e)),t}async function SE(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Gx(n){return Number(n.replace("s","000"))}function Qx(n){return`${yE} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=_E(n),o=TE(n),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={fid:t,authVersion:yE,appId:n.appId,sdkVersion:gE},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await SE(()=>fetch(i,f));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:wE(y.authToken)}}else throw await EE("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=/^[cdef][\w-]{21}$/,gp="";function Zx(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=eb(n);return Jx.test(t)?t:gp}catch{return gp}}function eb(n){return Xx(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;function RE(n,e){const t=Dh(n);CE(t,e),tb(t,e)}function CE(n,e){const t=IE.get(n);if(t)for(const i of t)i(e)}function tb(n,e){const t=nb();t&&t.postMessage({key:n,fid:e}),rb()}let Rs=null;function nb(){return!Rs&&"BroadcastChannel"in self&&(Rs=new BroadcastChannel("[Firebase] FID Change"),Rs.onmessage=n=>{CE(n.data.key,n.data.fid)}),Rs}function rb(){IE.size===0&&Rs&&(Rs.close(),Rs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firebase-installations-database",sb=1,Ls="firebase-installations-store";let bd=null;function gm(){return bd||(bd=F0(ib,sb,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ls)}}})),bd}async function Zc(n,e){const t=Dh(n),o=(await gm()).transaction(Ls,"readwrite"),l=o.objectStore(Ls),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&RE(n,e.fid),e}async function PE(n){const e=Dh(n),i=(await gm()).transaction(Ls,"readwrite");await i.objectStore(Ls).delete(e),await i.done}async function Nh(n,e){const t=Dh(n),o=(await gm()).transaction(Ls,"readwrite"),l=o.objectStore(Ls),c=await l.get(t),f=e(c);return f===void 0?await l.delete(t):await l.put(f,t),await o.done,f&&(!c||c.fid!==f.fid)&&RE(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ym(n){let e;const t=await Nh(n.appConfig,i=>{const o=ob(i),l=ab(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===gp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function ob(n){const e=n||{fid:Zx(),registrationStatus:0};return kE(e)}function ab(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Vs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=lb(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ub(n)}:{installationEntry:e}}async function lb(n,e){try{const t=await Yx(n,e);return Zc(n.appConfig,t)}catch(t){throw vE(t)&&t.customData.serverCode===409?await PE(n.appConfig):await Zc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ub(n){let e=await h_(n.appConfig);for(;e.registrationStatus===1;)await AE(100),e=await h_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await ym(n);return i||t}return e}function h_(n){return Nh(n,e=>{if(!e)throw Vs.create("installation-not-found");return kE(e)})}function kE(n){return cb(n)?{fid:n.fid,registrationStatus:0}:n}function cb(n){return n.registrationStatus===1&&n.registrationTime+mE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb({appConfig:n,heartbeatServiceProvider:e},t){const i=fb(n,t),o=Kx(n,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={installation:{sdkVersion:gE,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await SE(()=>fetch(i,f));if(p.ok){const y=await p.json();return wE(y)}else throw await EE("Generate Auth Token",p)}function fb(n,{fid:e}){return`${_E(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(n,e=!1){let t;const i=await Nh(n.appConfig,l=>{if(!xE(l))throw Vs.create("not-registered");const c=l.authToken;if(!e&&mb(c))return l;if(c.requestStatus===1)return t=db(n,e),l;{if(!navigator.onLine)throw Vs.create("app-offline");const f=yb(l);return t=pb(n,f),f}});return t?await t:i.authToken}async function db(n,e){let t=await f_(n.appConfig);for(;t.authToken.requestStatus===1;)await AE(100),t=await f_(n.appConfig);const i=t.authToken;return i.requestStatus===0?vm(n,e):i}function f_(n){return Nh(n,e=>{if(!xE(e))throw Vs.create("not-registered");const t=e.authToken;return vb(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pb(n,e){try{const t=await hb(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Zc(n.appConfig,i),t}catch(t){if(vE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await PE(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zc(n.appConfig,i)}throw t}}function xE(n){return n!==void 0&&n.registrationStatus===2}function mb(n){return n.requestStatus===2&&!gb(n)}function gb(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+$x}function yb(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function vb(n){return n.requestStatus===1&&n.requestTime+mE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(n){const e=n,{installationEntry:t,registrationPromise:i}=await ym(e);return i?i.catch(console.error):vm(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(n,e=!1){const t=n;return await Eb(t),(await vm(t,e)).token}async function Eb(n){const{registrationPromise:e}=await ym(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n){if(!n||!n.options)throw Od("App Configuration");if(!n.name)throw Od("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Od(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Od(n){return Vs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="installations",Sb="installations-internal",Ab=n=>{const e=n.getProvider("app").getImmediate(),t=Tb(e),i=Ul(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Ib=n=>{const e=n.getProvider("app").getImmediate(),t=Ul(e,bE).getImmediate();return{getId:()=>_b(t),getToken:o=>wb(t,o)}};function Rb(){Fi(new ti(bE,Ab,"PUBLIC")),Fi(new ti(Sb,Ib,"PRIVATE"))}Rb();Sr(pE,mm);Sr(pE,mm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="analytics",Cb="firebase_id",Pb="origin",kb=60*1e3,xb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_m="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new Lp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new dh("analytics","Analytics",bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(n){if(!n.startsWith(_m)){const e=vn.create("invalid-gtag-resource",{gtagURL:n});return an.warn(e.message),""}return n}function OE(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Db(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Nb(n,e){const t=Db("firebase-js-sdk-policy",{createScriptURL:Ob}),i=document.createElement("script"),o=`${_m}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function Vb(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Lb(n,e,t,i,o,l){const c=i[o];try{if(c)await e[c];else{const p=(await OE(t)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(f){an.error(f)}n("config",o,l)}async function Mb(n,e,t,i,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await OE(t);for(const p of c){const y=f.find(T=>T.measurementId===p),_=y&&e[y.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,o||{})}catch(l){an.error(l)}}function Fb(n,e,t,i){async function o(l,...c){try{if(l==="event"){const[f,p]=c;await Mb(n,e,t,f,p)}else if(l==="config"){const[f,p]=c;await Lb(n,e,t,i,f,p)}else if(l==="consent"){const[f,p]=c;n("consent",f,p)}else if(l==="get"){const[f,p,y]=c;n("get",f,p,y)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){an.error(f)}}return o}function jb(n,e,t,i,o){let l=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=Fb(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function Ub(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(_m)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=30,zb=1e3;class $b{constructor(e={},t=zb){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DE=new $b;function qb(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Hb(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:qb(i)},l=xb.replace("{app-id}",t),c=await fetch(l,o);if(c.status!==200&&c.status!==304){let f="";try{const p=await c.json();!((e=p.error)===null||e===void 0)&&e.message&&(f=p.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function Wb(n,e=DE,t){const{appId:i,apiKey:o,measurementId:l}=n.options;if(!i)throw vn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:i};throw vn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Qb;return setTimeout(async()=>{f.abort()},kb),NE({appId:i,apiKey:o,measurementId:l},c,f,e)}async function NE(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=DE){var l;const{appId:c,measurementId:f}=n;try{await Kb(i,e)}catch(p){if(f)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:f};throw p}try{const p=await Hb(n);return o.deleteThrottleMetadata(c),p}catch(p){const y=p;if(!Gb(y)){if(o.deleteThrottleMetadata(c),f)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:f};throw p}const _=Number((l=y==null?void 0:y.customData)===null||l===void 0?void 0:l.httpStatus)===503?hv(t,o.intervalMillis,Bb):hv(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(c,T),an.debug(`Calling attemptFetch again in ${_} millis`),NE(n,T,i,o)}}function Kb(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),i(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Gb(n){if(!(n instanceof Ki)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Qb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Yb(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const l=await e,c=Object.assign(Object.assign({},i),{send_to:l});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(){if(N0())try{await V0()}catch(n){return an.warn(vn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return an.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Jb(n,e,t,i,o,l,c){var f;const p=Wb(n);p.then(k=>{t[k.measurementId]=k.appId,n.options.measurementId&&k.measurementId!==n.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>an.error(k)),e.push(p);const y=Xb().then(k=>{if(k)return i.getId()}),[_,T]=await Promise.all([p,y]);Ub(l)||Nb(l,_.measurementId),o("js",new Date);const S=(f=c==null?void 0:c.config)!==null&&f!==void 0?f:{};return S[Pb]="firebase",S.update=!0,T!=null&&(S[Cb]=T),o("config",_.measurementId,S),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.app=e}_delete(){return delete wl[this.app.options.appId],Promise.resolve()}}let wl={},d_=[];const p_={};let Dd="dataLayer",eO="gtag",m_,VE,g_=!1;function tO(){const n=[];if(QI()&&n.push("This is a browser extension environment."),XI()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=vn.create("invalid-analytics-context",{errorInfo:e});an.warn(t.message)}}function nO(n,e,t){tO();const i=n.options.appId;if(!i)throw vn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(wl[i]!=null)throw vn.create("already-exists",{id:i});if(!g_){Vb(Dd);const{wrappedGtag:l,gtagCore:c}=jb(wl,d_,p_,Dd,eO);VE=l,m_=c,g_=!0}return wl[i]=Jb(n,d_,p_,e,m_,Dd,t),new Zb(n)}function rO(n=U0()){n=Nn(n);const e=Ul(n,eh);return e.isInitialized()?e.getImmediate():iO(n)}function iO(n,e={}){const t=Ul(n,eh);if(t.isInitialized()){const o=t.getImmediate();if(Il(e,t.getOptions()))return o;throw vn.create("already-initialized")}return t.initialize({options:e})}function sO(n,e,t,i){n=Nn(n),Yb(VE,wl[n.app.options.appId],e,t,i).catch(o=>an.error(o))}const y_="@firebase/analytics",v_="0.10.10";function oO(){Fi(new ti(eh,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return nO(i,o,t)},"PUBLIC")),Fi(new ti("analytics-internal",n,"PRIVATE")),Sr(y_,v_),Sr(y_,v_,"esm2017");function n(e){try{const t=e.getProvider(eh).getImmediate();return{logEvent:(i,o,l)=>sO(t,i,o,l)}}catch(t){throw vn.create("interop-component-reg-failed",{reason:t})}}}oO();const aO={apiKey:"AIzaSyDhbfjCHCDDmIREO9-IboRp5nuxfx5uT88",authDomain:"doctormatt-board-games.firebaseapp.com",projectId:"doctormatt-board-games",storageBucket:"doctormatt-board-games.firebasestorage.app",messagingSenderId:"957766129835",appId:"1:957766129835:web:38d40ddd2364f6f14d3fee",measurementId:"G-PZPSSJ7M8F"},LE=j0(aO);rO(LE);const ME=lx(LE),__={chatMessages:[],cards:[],players:[],settings:{isLocked:!1},turn:null};class lO{constructor(e){Mo(this,"documentRef",null);Mo(this,"state",__);Mo(this,"isLoaded",!1);T0(this),this.documentRef=ax(ME,"codename-rooms",e)}subscribe(){return Dx(this.documentRef,async e=>{if(e.exists()){ml(()=>{this.state=e.data(),this.isLoaded=!0});return}await bx(this.documentRef,__),ml(()=>{this.isLoaded=!0})})}async updateItems(e){await Ox(this.documentRef,{...e})}}function yp({children:n}){return te.jsx("div",{className:"bg-white bg-opacity-10 rounded p-1 lg:p-2",children:n})}function uO({player:n}){const e=$.useContext(si),[t,i]=$.useState(!1);function o(){return n.isAdmin?te.jsx("span",{children:"👑"}):e.player.isAdmin?te.jsxs("div",{children:[te.jsx("span",{className:"cursor-pointer",onClick:()=>e.makeAdmin(n.clientId),children:"⏫"}),te.jsx("span",{className:"cursor-pointer",onClick:()=>e.kickPlayer(n.clientId),children:"⛔"})]}):te.jsx(te.Fragment,{})}return te.jsxs("div",{className:"flex flex-row items-center space-x-1 lg:space-x-2",onMouseOver:()=>i(!0),onMouseOut:()=>i(!1),children:[te.jsx("div",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:`#${n.color}`}}),te.jsxs("div",{className:"flex flex-row items-center space-x-0.5",children:[te.jsx("div",{children:n.name}),t&&o()]})]})}const w_=Pr(uO);function cO({team:n}){const e=$.useContext(si),t=e.getMaster(n);return te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"lg:text-xl text-center mt-1 lg:mt-2",children:"Master"}),te.jsx(yp,{children:t?te.jsx(w_,{player:t}):te.jsx(yr,{text:"Become master",onClick:()=>e.becomeMaster(n)})}),te.jsx("div",{className:"lg:text-xl text-center mt-1 lg:mt-2",children:"Players"}),te.jsxs(yp,{children:[te.jsx("div",{className:"flex flex-col space-y-1 lg:space-y-2 h-20 lg:h-40 overflow-auto",children:e.state.players.filter(i=>i.team===n.toString()).filter(i=>!i.isMaster).map((i,o)=>te.jsx(w_,{player:i},o))}),te.jsx(yr,{disabled:e.state.settings.isLocked,text:"Join team",onClick:()=>e.joinTeam(n)})]})]})}const hO=Pr(cO);function fO({disabled:n,...e}){const t=["w-full bg-white bg-opacity-15 rounded p-1 lg:p-2",n?"opacity-50 cursor-not-allowed":"hover:bg-opacity-30"].join(" ");return te.jsx("input",{type:"text",className:t,placeholder:"Type your message...",disabled:n,...e})}function dO({team:n}){var c;const[e,t]=$.useState(""),i=$.useContext(si);function o(f){f.key==="Enter"&&l()}function l(){e&&i.sendMessage(n,e).then(()=>t(""))}return te.jsxs(yp,{children:[te.jsx("div",{className:"h-20 lg:h-40 overflow-y-auto space-y-1 lg:space-y-2",children:i.state.chatMessages.filter(f=>f.team===n).map((f,p)=>te.jsxs("div",{children:[te.jsx("span",{className:"text-emerald-400",children:f.player}),": ",f.value]},p))}),te.jsx("div",{className:"flex flex-row space-x-1 lg:space-x-2",children:i.isMaster(n)?te.jsxs(te.Fragment,{children:[te.jsx(fO,{disabled:!i.isPlayerTurn(),value:e,onChange:f=>t(f.target.value),onKeyDown:o}),te.jsx(yr,{className:"w-3/12",disabled:!i.isPlayerTurn(),text:"Send",onClick:l})]}):te.jsx(yr,{disabled:!i.isPlayerTurn()||((c=i.player)==null?void 0:c.team)!=n,text:"End turn",onClick:()=>i.endTurn()})})]})}const pO=Pr(dO);function mO({team:n}){const e=$.useContext(si),t=n===ut.Blue?"bg-blue-950":"bg-red-950";return te.jsxs("div",{className:["flex flex-col h-full space-y-3 p-1 lg:p-3 rounded",t].join(" "),children:[te.jsxs("div",{className:"flex flex-col flex-grow space-y-1 lg:space-y-2",children:[te.jsxs("div",{className:"lg:text-2xl text-center",children:["Team ",n]}),te.jsxs("div",{className:"lg:text-xl text-center",children:[e.getRestCardCount(n),"/",e.getAllCardCount(n)," Score"]}),te.jsx(hO,{team:n})]}),te.jsx(pO,{team:n})]})}const E_=Pr(mO);function gO({card:n}){var l,c;const e=$.useContext(si),t=((l=e.player)==null?void 0:l.isMaster)||n.revealed||((c=e.state.turn)==null?void 0:c.win),i=!t&&e.isPlayerTurn()?"cursor-pointer":"cursor-default",o=t?{red:"bg-red-900",blue:"bg-blue-900",white:"bg-gray-600",black:"bg-black"}[n.color]??"":"bg-emerald-900";return te.jsx("div",{className:`p-0.5 lg:p-1 rounded content-center text-center text-wrap break-words hyphens-auto text-white ${i} ${o}`,onClick:()=>e.cardSelect(n.id),children:n&&n.value.toUpperCase()},n.id)}const yO=Pr(gO);function vO(){var t;const n=$.useContext(si),e=((t=n.state.cards)==null?void 0:t.length)==25?n.state.cards:[...new Array(25)].map((i,o)=>({id:o,value:"",color:"white",revealed:!1}));return te.jsx("div",{className:"h-full grid grid-cols-5 grid-rows-5 gap-1 lg:gap-3",children:e.map((i,o)=>te.jsx(yO,{card:i},o))})}const _O=Pr(vO);class wO{constructor(){Mo(this,"collectionRef");this.collectionRef=ox(ME,"codename-words")}async getWordCount(){return(await Vx(this.collectionRef)).data().count}async getWordsByIds(e){return(await xx(Ax(this.collectionRef,Ix(fx(),"in",e)))).docs.map(i=>i.data())}}function EO(){var i,o;const n=$.useContext(si),e=(i=n.state.turn)==null?void 0:i.team,t={red:"text-red-600",blue:"text-blue-600"}[(e==null?void 0:e.toString())??""];return((o=n.state.turn)==null?void 0:o.win)&&te.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:te.jsxs("div",{className:`text-8xl opacity-80 select-none text-center ${t}`,children:[e.toUpperCase()," TEAM WIN"]})})}const TO=Pr(EO);function SO(){const n=Ep(),{roomId:e}=R1(),t=$.useMemo(()=>new wO,[]),i=$.useMemo(()=>new lO(e),[e]),o=$.useMemo(()=>new Mx(i,t),[i,t]);return $.useEffect(()=>i.subscribe(),[i]),$.useEffect(()=>{if(o.isLoaded)return o.connectPlayer(),()=>{o.disconnectPlayer()}},[o,o.isLoaded]),$.useEffect(()=>{o.isConnected&&!o.player&&n("/")},[o.isConnected,o.player,o.state,n]),te.jsx("div",{className:"w-full min-h-screen bg-gray-900 text-emerald-100 flex flex-col space-y-1 lg:space-y-2 justify-center items-center p-1 lg:p-5 overflow-auto",children:o.isConnected&&o.player&&te.jsxs(si.Provider,{value:o,children:[te.jsx("div",{className:"container flex flex-grow items-center justify-center",children:te.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 grid-rows-2 lg:grid-rows-1 gap-1 lg:gap-5 w-full h-full 2xl:w-9/12",children:[te.jsx("div",{className:"order-1 lg:order-2",children:te.jsx(E_,{team:ut.Blue})}),te.jsxs("div",{className:"order-3 lg:order-2 col-span-2 lg:mt-0 relative",children:[te.jsx(TO,{}),te.jsx(_O,{})]}),te.jsx("div",{className:"order-2 lg:order-3",children:te.jsx(E_,{team:ut.Red})})]})}),te.jsx(jx,{})]})})}const AO=Pr(SO);YT.createRoot(document.getElementById("root")).render(te.jsx($.StrictMode,{children:te.jsx(fS,{children:te.jsxs(z1,{children:[te.jsx(_c,{index:!0,element:te.jsx(bI,{})}),te.jsx(_c,{path:"codenames/:roomId",element:te.jsx(AO,{})}),te.jsx(_c,{path:"*",element:te.jsx(U1,{to:"/"})})]})})}));
